(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();function Lx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Y_={exports:{}},Eh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $S;function IO(){if($S)return Eh;$S=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var h in s)h!=="key"&&(o[h]=s[h])}else o=s;return s=o.ref,{$$typeof:n,type:i,key:u,ref:s!==void 0?s:null,props:o}}return Eh.Fragment=e,Eh.jsx=t,Eh.jsxs=t,Eh}var QS;function RO(){return QS||(QS=1,Y_.exports=IO()),Y_.exports}var S=RO(),X_={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WS;function xO(){if(WS)return De;WS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),T=Symbol.iterator;function b(j){return j===null||typeof j!="object"?null:(j=T&&j[T]||j["@@iterator"],typeof j=="function"?j:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,V={};function U(j,se,ge){this.props=j,this.context=se,this.refs=V,this.updater=ge||C}U.prototype.isReactComponent={},U.prototype.setState=function(j,se){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,se,"setState")},U.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function W(){}W.prototype=U.prototype;function F(j,se,ge){this.props=j,this.context=se,this.refs=V,this.updater=ge||C}var ae=F.prototype=new W;ae.constructor=F,P(ae,U.prototype),ae.isPureReactComponent=!0;var ne=Array.isArray;function le(){}var x={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function D(j,se,ge){var _e=ge.ref;return{$$typeof:n,type:j,key:se,ref:_e!==void 0?_e:null,props:ge}}function k(j,se){return D(j.type,se,j.props)}function L(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function z(j){var se={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ge){return se[ge]})}var M=/\/+/g;function Ke(j,se){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):se.toString(36)}function ut(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(le,le):(j.status="pending",j.then(function(se){j.status==="pending"&&(j.status="fulfilled",j.value=se)},function(se){j.status==="pending"&&(j.status="rejected",j.reason=se)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function K(j,se,ge,_e,xe){var Me=typeof j;(Me==="undefined"||Me==="boolean")&&(j=null);var He=!1;if(j===null)He=!0;else switch(Me){case"bigint":case"string":case"number":He=!0;break;case"object":switch(j.$$typeof){case n:case e:He=!0;break;case y:return He=j._init,K(He(j._payload),se,ge,_e,xe)}}if(He)return xe=xe(j),He=_e===""?"."+Ke(j,0):_e,ne(xe)?(ge="",He!=null&&(ge=He.replace(M,"$&/")+"/"),K(xe,se,ge,"",function(Ka){return Ka})):xe!=null&&(L(xe)&&(xe=k(xe,ge+(xe.key==null||j&&j.key===xe.key?"":(""+xe.key).replace(M,"$&/")+"/")+He)),se.push(xe)),1;He=0;var tn=_e===""?".":_e+":";if(ne(j))for(var gt=0;gt<j.length;gt++)_e=j[gt],Me=tn+Ke(_e,gt),He+=K(_e,se,ge,Me,xe);else if(gt=b(j),typeof gt=="function")for(j=gt.call(j),gt=0;!(_e=j.next()).done;)_e=_e.value,Me=tn+Ke(_e,gt++),He+=K(_e,se,ge,Me,xe);else if(Me==="object"){if(typeof j.then=="function")return K(ut(j),se,ge,_e,xe);throw se=String(j),Error("Objects are not valid as a React child (found: "+(se==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":se)+"). If you meant to render a collection of children, use an array instead.")}return He}function re(j,se,ge){if(j==null)return j;var _e=[],xe=0;return K(j,_e,"","",function(Me){return se.call(ge,Me,xe++)}),_e}function fe(j){if(j._status===-1){var se=j._result;se=se(),se.then(function(ge){(j._status===0||j._status===-1)&&(j._status=1,j._result=ge)},function(ge){(j._status===0||j._status===-1)&&(j._status=2,j._result=ge)}),j._status===-1&&(j._status=0,j._result=se)}if(j._status===1)return j._result.default;throw j._result}var Ie=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var se=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(se))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},he={map:re,forEach:function(j,se,ge){re(j,function(){se.apply(this,arguments)},ge)},count:function(j){var se=0;return re(j,function(){se++}),se},toArray:function(j){return re(j,function(se){return se})||[]},only:function(j){if(!L(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return De.Activity=_,De.Children=he,De.Component=U,De.Fragment=t,De.Profiler=s,De.PureComponent=F,De.StrictMode=i,De.Suspense=d,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,De.__COMPILER_RUNTIME={__proto__:null,c:function(j){return x.H.useMemoCache(j)}},De.cache=function(j){return function(){return j.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(j,se,ge){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var _e=P({},j.props),xe=j.key;if(se!=null)for(Me in se.key!==void 0&&(xe=""+se.key),se)!I.call(se,Me)||Me==="key"||Me==="__self"||Me==="__source"||Me==="ref"&&se.ref===void 0||(_e[Me]=se[Me]);var Me=arguments.length-2;if(Me===1)_e.children=ge;else if(1<Me){for(var He=Array(Me),tn=0;tn<Me;tn++)He[tn]=arguments[tn+2];_e.children=He}return D(j.type,xe,_e)},De.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},De.createElement=function(j,se,ge){var _e,xe={},Me=null;if(se!=null)for(_e in se.key!==void 0&&(Me=""+se.key),se)I.call(se,_e)&&_e!=="key"&&_e!=="__self"&&_e!=="__source"&&(xe[_e]=se[_e]);var He=arguments.length-2;if(He===1)xe.children=ge;else if(1<He){for(var tn=Array(He),gt=0;gt<He;gt++)tn[gt]=arguments[gt+2];xe.children=tn}if(j&&j.defaultProps)for(_e in He=j.defaultProps,He)xe[_e]===void 0&&(xe[_e]=He[_e]);return D(j,Me,xe)},De.createRef=function(){return{current:null}},De.forwardRef=function(j){return{$$typeof:h,render:j}},De.isValidElement=L,De.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:fe}},De.memo=function(j,se){return{$$typeof:m,type:j,compare:se===void 0?null:se}},De.startTransition=function(j){var se=x.T,ge={};x.T=ge;try{var _e=j(),xe=x.S;xe!==null&&xe(ge,_e),typeof _e=="object"&&_e!==null&&typeof _e.then=="function"&&_e.then(le,Ie)}catch(Me){Ie(Me)}finally{se!==null&&ge.types!==null&&(se.types=ge.types),x.T=se}},De.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},De.use=function(j){return x.H.use(j)},De.useActionState=function(j,se,ge){return x.H.useActionState(j,se,ge)},De.useCallback=function(j,se){return x.H.useCallback(j,se)},De.useContext=function(j){return x.H.useContext(j)},De.useDebugValue=function(){},De.useDeferredValue=function(j,se){return x.H.useDeferredValue(j,se)},De.useEffect=function(j,se){return x.H.useEffect(j,se)},De.useEffectEvent=function(j){return x.H.useEffectEvent(j)},De.useId=function(){return x.H.useId()},De.useImperativeHandle=function(j,se,ge){return x.H.useImperativeHandle(j,se,ge)},De.useInsertionEffect=function(j,se){return x.H.useInsertionEffect(j,se)},De.useLayoutEffect=function(j,se){return x.H.useLayoutEffect(j,se)},De.useMemo=function(j,se){return x.H.useMemo(j,se)},De.useOptimistic=function(j,se){return x.H.useOptimistic(j,se)},De.useReducer=function(j,se,ge){return x.H.useReducer(j,se,ge)},De.useRef=function(j){return x.H.useRef(j)},De.useState=function(j){return x.H.useState(j)},De.useSyncExternalStore=function(j,se,ge){return x.H.useSyncExternalStore(j,se,ge)},De.useTransition=function(){return x.H.useTransition()},De.version="19.2.1",De}var YS;function JT(){return YS||(YS=1,X_.exports=xO()),X_.exports}var N=JT();const CO=Lx(N);var J_={exports:{}},wh={},Z_={exports:{}},ev={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XS;function DO(){return XS||(XS=1,(function(n){function e(K,re){var fe=K.length;K.push(re);e:for(;0<fe;){var Ie=fe-1>>>1,he=K[Ie];if(0<s(he,re))K[Ie]=re,K[fe]=he,fe=Ie;else break e}}function t(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var re=K[0],fe=K.pop();if(fe!==re){K[0]=fe;e:for(var Ie=0,he=K.length,j=he>>>1;Ie<j;){var se=2*(Ie+1)-1,ge=K[se],_e=se+1,xe=K[_e];if(0>s(ge,fe))_e<he&&0>s(xe,ge)?(K[Ie]=xe,K[_e]=fe,Ie=_e):(K[Ie]=ge,K[se]=fe,Ie=se);else if(_e<he&&0>s(xe,fe))K[Ie]=xe,K[_e]=fe,Ie=_e;else break e}}return re}function s(K,re){var fe=K.sortIndex-re.sortIndex;return fe!==0?fe:K.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],m=[],y=1,_=null,T=3,b=!1,C=!1,P=!1,V=!1,U=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function ae(K){for(var re=t(m);re!==null;){if(re.callback===null)i(m);else if(re.startTime<=K)i(m),re.sortIndex=re.expirationTime,e(d,re);else break;re=t(m)}}function ne(K){if(P=!1,ae(K),!C)if(t(d)!==null)C=!0,le||(le=!0,z());else{var re=t(m);re!==null&&ut(ne,re.startTime-K)}}var le=!1,x=-1,I=5,D=-1;function k(){return V?!0:!(n.unstable_now()-D<I)}function L(){if(V=!1,le){var K=n.unstable_now();D=K;var re=!0;try{e:{C=!1,P&&(P=!1,W(x),x=-1),b=!0;var fe=T;try{t:{for(ae(K),_=t(d);_!==null&&!(_.expirationTime>K&&k());){var Ie=_.callback;if(typeof Ie=="function"){_.callback=null,T=_.priorityLevel;var he=Ie(_.expirationTime<=K);if(K=n.unstable_now(),typeof he=="function"){_.callback=he,ae(K),re=!0;break t}_===t(d)&&i(d),ae(K)}else i(d);_=t(d)}if(_!==null)re=!0;else{var j=t(m);j!==null&&ut(ne,j.startTime-K),re=!1}}break e}finally{_=null,T=fe,b=!1}re=void 0}}finally{re?z():le=!1}}}var z;if(typeof F=="function")z=function(){F(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ke=M.port2;M.port1.onmessage=L,z=function(){Ke.postMessage(null)}}else z=function(){U(L,0)};function ut(K,re){x=U(function(){K(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(K){switch(T){case 1:case 2:case 3:var re=3;break;default:re=T}var fe=T;T=re;try{return K()}finally{T=fe}},n.unstable_requestPaint=function(){V=!0},n.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var fe=T;T=K;try{return re()}finally{T=fe}},n.unstable_scheduleCallback=function(K,re,fe){var Ie=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,K){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=fe+he,K={id:y++,callback:re,priorityLevel:K,startTime:fe,expirationTime:he,sortIndex:-1},fe>Ie?(K.sortIndex=fe,e(m,K),t(d)===null&&K===t(m)&&(P?(W(x),x=-1):P=!0,ut(ne,fe-Ie))):(K.sortIndex=he,e(d,K),C||b||(C=!0,le||(le=!0,z()))),K},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(K){var re=T;return function(){var fe=T;T=re;try{return K.apply(this,arguments)}finally{T=fe}}}})(ev)),ev}var JS;function NO(){return JS||(JS=1,Z_.exports=DO()),Z_.exports}var tv={exports:{}},In={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS;function PO(){if(ZS)return In;ZS=1;var n=JT();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:d,containerInfo:m,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return In.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,In.createPortal=function(d,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(d,m,null,y)},In.flushSync=function(d){var m=u.T,y=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=m,i.p=y,i.d.f()}},In.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},In.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},In.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:T,fetchPriority:b}):y==="script"&&i.d.X(d,{crossOrigin:_,integrity:T,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},In.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},In.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);i.d.L(d,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},In.preloadModule=function(d,m){if(typeof d=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},In.requestFormReset=function(d){i.d.r(d)},In.unstable_batchedUpdates=function(d,m){return d(m)},In.useFormState=function(d,m,y){return u.H.useFormState(d,m,y)},In.useFormStatus=function(){return u.H.useHostTransitionStatus()},In.version="19.2.1",In}var eI;function VO(){if(eI)return tv.exports;eI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tv.exports=PO(),tv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tI;function MO(){if(tI)return wh;tI=1;var n=NO(),e=JT(),t=VO();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var a=r,l=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(l=a.return),r=a.return;while(r)}return a.tag===3?l:null}function u(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function h(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(o(r)!==r)throw Error(i(188))}function m(r){var a=r.alternate;if(!a){if(a=o(r),a===null)throw Error(i(188));return a!==r?null:r}for(var l=r,c=a;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return d(p),r;if(g===c)return d(p),a;g=g.sibling}throw Error(i(188))}if(l.return!==c.return)l=p,c=g;else{for(var E=!1,A=p.child;A;){if(A===l){E=!0,l=p,c=g;break}if(A===c){E=!0,c=p,l=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===l){E=!0,l=g,c=p;break}if(A===c){E=!0,c=g,l=p;break}A=A.sibling}if(!E)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:a}function y(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=y(r),a!==null)return a;r=r.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),F=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function z(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function Ke(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case U:return"Profiler";case V:return"StrictMode";case ne:return"Suspense";case le:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case F:return r.displayName||"Context";case W:return(r._context.displayName||"Context")+".Consumer";case ae:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case x:return a=r.displayName||null,a!==null?a:Ke(r.type)||"Memo";case I:a=r._payload,r=r._init;try{return Ke(r(a))}catch{}}return null}var ut=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ie=[],he=-1;function j(r){return{current:r}}function se(r){0>he||(r.current=Ie[he],Ie[he]=null,he--)}function ge(r,a){he++,Ie[he]=r.current,r.current=a}var _e=j(null),xe=j(null),Me=j(null),He=j(null);function tn(r,a){switch(ge(Me,a),ge(xe,r),ge(_e,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?gS(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=gS(a),r=yS(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}se(_e),ge(_e,r)}function gt(){se(_e),se(xe),se(Me)}function Ka(r){r.memoizedState!==null&&ge(He,r);var a=_e.current,l=yS(a,r.type);a!==l&&(ge(xe,r),ge(_e,l))}function fl(r){xe.current===r&&(se(_e),se(xe)),He.current===r&&(se(He),yh._currentValue=fe)}var ml,pl;function sr(r){if(ml===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);ml=a&&a[1]||"",pl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ml+r+pl}var yc=!1;function $a(r,a){if(!r||yc)return"";yc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(Z){var Y=Z}Reflect.construct(r,[],ie)}else{try{ie.call()}catch(Z){Y=Z}r.call(ie.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(ie=r())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),E=g[0],A=g[1];if(E&&A){var O=E.split(`
`),Q=A.split(`
`);for(p=c=0;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Q.length&&!Q[p].includes("DetermineComponentFrameRoot");)p++;if(c===O.length||p===Q.length)for(c=O.length-1,p=Q.length-1;1<=c&&0<=p&&O[c]!==Q[p];)p--;for(;1<=c&&0<=p;c--,p--)if(O[c]!==Q[p]){if(c!==1||p!==1)do if(c--,p--,0>p||O[c]!==Q[p]){var ee=`
`+O[c].replace(" at new "," at ");return r.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",r.displayName)),ee}while(1<=c&&0<=p);break}}}finally{yc=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?sr(l):""}function _c(r,a){switch(r.tag){case 26:case 27:case 5:return sr(r.type);case 16:return sr("Lazy");case 13:return r.child!==a&&a!==null?sr("Suspense Fallback"):sr("Suspense");case 19:return sr("SuspenseList");case 0:case 15:return $a(r.type,!1);case 11:return $a(r.type.render,!1);case 1:return $a(r.type,!0);case 31:return sr("Activity");default:return""}}function vc(r){try{var a="",l=null;do a+=_c(r,l),l=r,r=r.return;while(r);return a}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var zt=Object.prototype.hasOwnProperty,nn=n.unstable_scheduleCallback,Cs=n.unstable_cancelCallback,Jg=n.unstable_shouldYield,yf=n.unstable_requestPaint,Vn=n.unstable_now,Qa=n.unstable_getCurrentPriorityLevel,Tc=n.unstable_ImmediatePriority,Ec=n.unstable_UserBlockingPriority,Ds=n.unstable_NormalPriority,Zg=n.unstable_LowPriority,_f=n.unstable_IdlePriority,vf=n.log,Tf=n.unstable_setDisableYieldValue,Ui=null,pn=null;function _i(r){if(typeof vf=="function"&&Tf(r),pn&&typeof pn.setStrictMode=="function")try{pn.setStrictMode(Ui,r)}catch{}}var Mt=Math.clz32?Math.clz32:wf,Ef=Math.log,gl=Math.LN2;function wf(r){return r>>>=0,r===0?32:31-(Ef(r)/gl|0)|0}var ar=256,Wa=262144,qt=4194304;function or(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function lr(r,a,l){var c=r.pendingLanes;if(c===0)return 0;var p=0,g=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?p=or(c):(E&=A,E!==0?p=or(E):l||(l=A&~r,l!==0&&(p=or(l))))):(A=c&~g,A!==0?p=or(A):E!==0?p=or(E):l||(l=c&~r,l!==0&&(p=or(l)))),p===0?0:a!==0&&a!==p&&(a&g)===0&&(g=p&-p,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:p}function ji(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function ey(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bf(){var r=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),r}function ur(r){for(var a=[],l=0;31>l;l++)a.push(r);return a}function Ya(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ty(r,a,l,c,p,g){var E=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var A=r.entanglements,O=r.expirationTimes,Q=r.hiddenUpdates;for(l=E&~l;0<l;){var ee=31-Mt(l),ie=1<<ee;A[ee]=0,O[ee]=-1;var Y=Q[ee];if(Y!==null)for(Q[ee]=null,ee=0;ee<Y.length;ee++){var Z=Y[ee];Z!==null&&(Z.lane&=-536870913)}l&=~ie}c!==0&&Xa(r,c,0),g!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=g&~(E&~a))}function Xa(r,a,l){r.pendingLanes|=a,r.suspendedLanes&=~a;var c=31-Mt(a);r.entangledLanes|=a,r.entanglements[c]=r.entanglements[c]|1073741824|l&261930}function wc(r,a){var l=r.entangledLanes|=a;for(r=r.entanglements;l;){var c=31-Mt(l),p=1<<c;p&a|r[c]&a&&(r[c]|=a),l&=~p}}function bc(r,a){var l=a&-a;return l=(l&42)!==0?1:Ja(l),(l&(r.suspendedLanes|a))!==0?0:l}function Ja(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Kr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Af(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:BS(r.type))}function Bi(r,a){var l=re.p;try{return re.p=r,a()}finally{re.p=l}}var Fi=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Fi,un="__reactProps$"+Fi,cr="__reactContainer$"+Fi,yl="__reactEvents$"+Fi,ny="__reactListeners$"+Fi,Sf="__reactHandles$"+Fi,If="__reactResources$"+Fi,hr="__reactMarker$"+Fi;function _l(r){delete r[Ht],delete r[un],delete r[yl],delete r[ny],delete r[Sf]}function dr(r){var a=r[Ht];if(a)return a;for(var l=r.parentNode;l;){if(a=l[cr]||l[Ht]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(r=AS(r);r!==null;){if(l=r[Ht])return l;r=AS(r)}return a}r=l,l=r.parentNode}return null}function vi(r){if(r=r[Ht]||r[cr]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function ni(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function fr(r){var a=r[If];return a||(a=r[If]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Gt(r){r[hr]=!0}var Ac=new Set,Sc={};function mr(r,a){pr(r,a),pr(r+"Capture",a)}function pr(r,a){for(Sc[r]=a,r=0;r<a.length;r++)Ac.add(a[r])}var Ic=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rc={},xc={};function Rf(r){return zt.call(xc,r)?!0:zt.call(Rc,r)?!1:Ic.test(r)?xc[r]=!0:(Rc[r]=!0,!1)}function vl(r,a,l){if(Rf(a))if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+l)}}function ii(r,a,l){if(l===null)r.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+l)}}function Kt(r,a,l,c){if(c===null)r.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(a,l,""+c)}}function cn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ns(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Cc(r,a,l){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,g=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return p.call(this)},set:function(E){l=""+E,g.call(this,E)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ze(r){if(!r._valueTracker){var a=Ns(r)?"checked":"value";r._valueTracker=Cc(r,a,""+r[a])}}function Za(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return r&&(c=Ns(r)?r.checked?"true":"false":r.value),r=c,r!==l?(a.setValue(r),!0):!1}function gr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var eo=/[\n"\\]/g;function zn(r){return r.replace(eo,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Tl(r,a,l,c,p,g,E,A){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+cn(a)):r.value!==""+cn(a)&&(r.value=""+cn(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?Dc(r,E,cn(a)):l!=null?Dc(r,E,cn(l)):c!=null&&r.removeAttribute("value"),p==null&&g!=null&&(r.defaultChecked=!!g),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+cn(A):r.removeAttribute("name")}function xf(r,a,l,c,p,g,E,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null)){Ze(r);return}l=l!=null?""+cn(l):"",a=a!=null?""+cn(a):l,A||a===r.value||(r.value=a),r.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=A?r.checked:!!c,r.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E),Ze(r)}function Dc(r,a,l){a==="number"&&gr(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Ps(r,a,l,c){if(r=r.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<r.length;l++)p=a.hasOwnProperty("$"+r[l].value),r[l].selected!==p&&(r[l].selected=p),p&&c&&(r[l].defaultSelected=!0)}else{for(l=""+cn(l),a=null,p=0;p<r.length;p++){if(r[p].value===l){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}a!==null||r[p].disabled||(a=r[p])}a!==null&&(a.selected=!0)}}function Cf(r,a,l){if(a!=null&&(a=""+cn(a),a!==r.value&&(r.value=a),l==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=l!=null?""+cn(l):""}function Vs(r,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(i(92));if(ut(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=cn(a),r.defaultValue=l,c=r.textContent,c===l&&c!==""&&c!==null&&(r.value=c),Ze(r)}function qn(r,a){if(a){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=a;return}}r.textContent=a}var Df=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nc(r,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":c?r.setProperty(a,l):typeof l!="number"||l===0||Df.has(a)?a==="float"?r.cssFloat=l:r[a]=(""+l).trim():r[a]=l+"px"}function Pc(r,a,l){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&Nc(r,p,c)}else for(var g in a)a.hasOwnProperty(g)&&Nc(r,g,a[g])}function El(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(r){return Ms.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function zi(){}var Vc=null;function Ti(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Os=null,yr=null;function to(r){var a=vi(r);if(a&&(r=a.stateNode)){var l=r[un]||null;e:switch(r=a.stateNode,a.type){case"input":if(Tl(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+zn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==r&&c.form===r.form){var p=c[un]||null;if(!p)throw Error(i(90));Tl(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===r.form&&Za(c)}break e;case"textarea":Cf(r,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&Ps(r,!!l.multiple,a,!1)}}}var bl=!1;function ks(r,a,l){if(bl)return r(a,l);bl=!0;try{var c=r(a);return c}finally{if(bl=!1,(Os!==null||yr!==null)&&(Am(),Os&&(a=Os,r=yr,yr=Os=null,to(a),r)))for(a=0;a<r.length;a++)to(r[a])}}function qi(r,a){var l=r.stateNode;if(l===null)return null;var c=l[un]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,a,typeof l));return l}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=!1;if(Ei)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){no=!0}}),window.addEventListener("test",rt,rt),window.removeEventListener("test",rt,rt)}catch{no=!1}var _r=null,Mc=null,io=null;function Oc(){if(io)return io;var r,a=Mc,l=a.length,c,p="value"in _r?_r.value:_r.textContent,g=p.length;for(r=0;r<l&&a[r]===p[r];r++);var E=l-r;for(c=1;c<=E&&a[l-c]===p[g-c];c++);return io=p.slice(r,1<c?1-c:void 0)}function ro(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function $r(){return!0}function Hi(){return!1}function gn(r){function a(l,c,p,g,E){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?$r:Hi,this.isPropagationStopped=Hi,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=$r)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=$r)},persist:function(){},isPersistent:$r}),a}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vr=gn(Qr),Ls=_({},Qr,{view:0,detail:0}),kc=gn(Ls),Us,Al,Tr,Sl=_({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Tr&&(Tr&&r.type==="mousemove"?(Us=r.screenX-Tr.screenX,Al=r.screenY-Tr.screenY):Al=Us=0,Tr=r),Us)},movementY:function(r){return"movementY"in r?r.movementY:Al}}),Lc=gn(Sl),so=_({},Sl,{dataTransfer:0}),Pf=gn(so),Vf=_({},Ls,{relatedTarget:0}),ao=gn(Vf),Uc=_({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mf=gn(Uc),Il=_({},Qr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Of=gn(Il),kf=_({},Qr,{data:0}),Er=gn(kf),Lf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bf(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=jf[r])?!!a[r]:!1}function js(){return Bf}var Mn=_({},Ls,{key:function(r){if(r.key){var a=Lf[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=ro(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Uf[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(r){return r.type==="keypress"?ro(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ro(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Ff=gn(Mn),zf=_({},Sl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wr=gn(zf),f=_({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),v=gn(f),w=_({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=gn(w),G=_({},Sl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),J=gn(G),de=_({},Qr,{newState:0,oldState:0}),Ne=gn(de),Ot=[9,13,27,32],Ye=Ei&&"CompositionEvent"in window,yt=null;Ei&&"documentMode"in document&&(yt=document.documentMode);var wi=Ei&&"TextEvent"in window&&!yt,wr=Ei&&(!Ye||yt&&8<yt&&11>=yt),Gi=" ",Ki=!1;function oo(r,a){switch(r){case"keyup":return Ot.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rl(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var xl=!1;function YV(r,a){switch(r){case"compositionend":return Rl(a);case"keypress":return a.which!==32?null:(Ki=!0,Gi);case"textInput":return r=a.data,r===Gi&&Ki?null:r;default:return null}}function XV(r,a){if(xl)return r==="compositionend"||!Ye&&oo(r,a)?(r=Oc(),io=Mc=_r=null,xl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return wr&&a.locale!=="ko"?null:a.data;default:return null}}var JV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rw(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!JV[r.type]:a==="textarea"}function xw(r,a,l,c){Os?yr?yr.push(c):yr=[c]:Os=c,a=Nm(a,"onChange"),0<a.length&&(l=new vr("onChange","change",null,l,c),r.push({event:l,listeners:a}))}var jc=null,Bc=null;function ZV(r){cS(r,0)}function qf(r){var a=ni(r);if(Za(a))return r}function Cw(r,a){if(r==="change")return a}var Dw=!1;if(Ei){var iy;if(Ei){var ry="oninput"in document;if(!ry){var Nw=document.createElement("div");Nw.setAttribute("oninput","return;"),ry=typeof Nw.oninput=="function"}iy=ry}else iy=!1;Dw=iy&&(!document.documentMode||9<document.documentMode)}function Pw(){jc&&(jc.detachEvent("onpropertychange",Vw),Bc=jc=null)}function Vw(r){if(r.propertyName==="value"&&qf(Bc)){var a=[];xw(a,Bc,r,Ti(r)),ks(ZV,a)}}function eM(r,a,l){r==="focusin"?(Pw(),jc=a,Bc=l,jc.attachEvent("onpropertychange",Vw)):r==="focusout"&&Pw()}function tM(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return qf(Bc)}function nM(r,a){if(r==="click")return qf(a)}function iM(r,a){if(r==="input"||r==="change")return qf(a)}function rM(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var ri=typeof Object.is=="function"?Object.is:rM;function Fc(r,a){if(ri(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var l=Object.keys(r),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!zt.call(a,p)||!ri(r[p],a[p]))return!1}return!0}function Mw(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ow(r,a){var l=Mw(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=a&&c>=a)return{node:l,offset:a-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Mw(l)}}function kw(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?kw(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Lw(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=gr(r.document);a instanceof r.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)r=a.contentWindow;else break;a=gr(r.document)}return a}function sy(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var sM=Ei&&"documentMode"in document&&11>=document.documentMode,Cl=null,ay=null,zc=null,oy=!1;function Uw(r,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;oy||Cl==null||Cl!==gr(c)||(c=Cl,"selectionStart"in c&&sy(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zc&&Fc(zc,c)||(zc=c,c=Nm(ay,"onSelect"),0<c.length&&(a=new vr("onSelect","select",null,a,l),r.push({event:a,listeners:c}),a.target=Cl)))}function lo(r,a){var l={};return l[r.toLowerCase()]=a.toLowerCase(),l["Webkit"+r]="webkit"+a,l["Moz"+r]="moz"+a,l}var Dl={animationend:lo("Animation","AnimationEnd"),animationiteration:lo("Animation","AnimationIteration"),animationstart:lo("Animation","AnimationStart"),transitionrun:lo("Transition","TransitionRun"),transitionstart:lo("Transition","TransitionStart"),transitioncancel:lo("Transition","TransitionCancel"),transitionend:lo("Transition","TransitionEnd")},ly={},jw={};Ei&&(jw=document.createElement("div").style,"AnimationEvent"in window||(delete Dl.animationend.animation,delete Dl.animationiteration.animation,delete Dl.animationstart.animation),"TransitionEvent"in window||delete Dl.transitionend.transition);function uo(r){if(ly[r])return ly[r];if(!Dl[r])return r;var a=Dl[r],l;for(l in a)if(a.hasOwnProperty(l)&&l in jw)return ly[r]=a[l];return r}var Bw=uo("animationend"),Fw=uo("animationiteration"),zw=uo("animationstart"),aM=uo("transitionrun"),oM=uo("transitionstart"),lM=uo("transitioncancel"),qw=uo("transitionend"),Hw=new Map,uy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");uy.push("scrollEnd");function $i(r,a){Hw.set(r,a),mr(a,[r])}var Hf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},bi=[],Nl=0,cy=0;function Gf(){for(var r=Nl,a=cy=Nl=0;a<r;){var l=bi[a];bi[a++]=null;var c=bi[a];bi[a++]=null;var p=bi[a];bi[a++]=null;var g=bi[a];if(bi[a++]=null,c!==null&&p!==null){var E=c.pending;E===null?p.next=p:(p.next=E.next,E.next=p),c.pending=p}g!==0&&Gw(l,p,g)}}function Kf(r,a,l,c){bi[Nl++]=r,bi[Nl++]=a,bi[Nl++]=l,bi[Nl++]=c,cy|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function hy(r,a,l,c){return Kf(r,a,l,c),$f(r)}function co(r,a){return Kf(r,null,null,a),$f(r)}function Gw(r,a,l){r.lanes|=l;var c=r.alternate;c!==null&&(c.lanes|=l);for(var p=!1,g=r.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(p=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,p&&a!==null&&(p=31-Mt(l),r=g.hiddenUpdates,c=r[p],c===null?r[p]=[a]:c.push(a),a.lane=l|536870912),g):null}function $f(r){if(50<ch)throw ch=0,T_=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var Pl={};function uM(r,a,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(r,a,l,c){return new uM(r,a,l,c)}function dy(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Yr(r,a){var l=r.alternate;return l===null?(l=si(r.tag,a,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=a,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,a=r.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function Kw(r,a){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,a=l.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function Qf(r,a,l,c,p,g){var E=0;if(c=r,typeof r=="function")dy(r)&&(E=1);else if(typeof r=="string")E=mO(r,l,_e.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=si(31,l,a,p),r.elementType=D,r.lanes=g,r;case P:return ho(l.children,p,g,a);case V:E=8,p|=24;break;case U:return r=si(12,l,a,p|2),r.elementType=U,r.lanes=g,r;case ne:return r=si(13,l,a,p),r.elementType=ne,r.lanes=g,r;case le:return r=si(19,l,a,p),r.elementType=le,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case F:E=10;break e;case W:E=9;break e;case ae:E=11;break e;case x:E=14;break e;case I:E=16,c=null;break e}E=29,l=Error(i(130,r===null?"null":typeof r,"")),c=null}return a=si(E,l,a,p),a.elementType=r,a.type=c,a.lanes=g,a}function ho(r,a,l,c){return r=si(7,r,c,a),r.lanes=l,r}function fy(r,a,l){return r=si(6,r,null,a),r.lanes=l,r}function $w(r){var a=si(18,null,null,0);return a.stateNode=r,a}function my(r,a,l){return a=si(4,r.children!==null?r.children:[],r.key,a),a.lanes=l,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Qw=new WeakMap;function Ai(r,a){if(typeof r=="object"&&r!==null){var l=Qw.get(r);return l!==void 0?l:(a={value:r,source:a,stack:vc(a)},Qw.set(r,a),a)}return{value:r,source:a,stack:vc(a)}}var Vl=[],Ml=0,Wf=null,qc=0,Si=[],Ii=0,Bs=null,br=1,Ar="";function Xr(r,a){Vl[Ml++]=qc,Vl[Ml++]=Wf,Wf=r,qc=a}function Ww(r,a,l){Si[Ii++]=br,Si[Ii++]=Ar,Si[Ii++]=Bs,Bs=r;var c=br;r=Ar;var p=32-Mt(c)-1;c&=~(1<<p),l+=1;var g=32-Mt(a)+p;if(30<g){var E=p-p%5;g=(c&(1<<E)-1).toString(32),c>>=E,p-=E,br=1<<32-Mt(a)+p|l<<p|c,Ar=g+r}else br=1<<g|l<<p|c,Ar=r}function py(r){r.return!==null&&(Xr(r,1),Ww(r,1,0))}function gy(r){for(;r===Wf;)Wf=Vl[--Ml],Vl[Ml]=null,qc=Vl[--Ml],Vl[Ml]=null;for(;r===Bs;)Bs=Si[--Ii],Si[Ii]=null,Ar=Si[--Ii],Si[Ii]=null,br=Si[--Ii],Si[Ii]=null}function Yw(r,a){Si[Ii++]=br,Si[Ii++]=Ar,Si[Ii++]=Bs,br=a.id,Ar=a.overflow,Bs=r}var yn=null,dt=null,qe=!1,Fs=null,Ri=!1,yy=Error(i(519));function zs(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hc(Ai(a,r)),yy}function Xw(r){var a=r.stateNode,l=r.type,c=r.memoizedProps;switch(a[Ht]=r,a[un]=c,l){case"dialog":Le("cancel",a),Le("close",a);break;case"iframe":case"object":case"embed":Le("load",a);break;case"video":case"audio":for(l=0;l<dh.length;l++)Le(dh[l],a);break;case"source":Le("error",a);break;case"img":case"image":case"link":Le("error",a),Le("load",a);break;case"details":Le("toggle",a);break;case"input":Le("invalid",a),xf(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Le("invalid",a);break;case"textarea":Le("invalid",a),Vs(a,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||mS(a.textContent,l)?(c.popover!=null&&(Le("beforetoggle",a),Le("toggle",a)),c.onScroll!=null&&Le("scroll",a),c.onScrollEnd!=null&&Le("scrollend",a),c.onClick!=null&&(a.onclick=zi),a=!0):a=!1,a||zs(r,!0)}function Jw(r){for(yn=r.return;yn;)switch(yn.tag){case 5:case 31:case 13:Ri=!1;return;case 27:case 3:Ri=!0;return;default:yn=yn.return}}function Ol(r){if(r!==yn)return!1;if(!qe)return Jw(r),qe=!0,!1;var a=r.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||O_(r.type,r.memoizedProps)),l=!l),l&&dt&&zs(r),Jw(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));dt=bS(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));dt=bS(r)}else a===27?(a=dt,na(r.type)?(r=B_,B_=null,dt=r):dt=a):dt=yn?Ci(r.stateNode.nextSibling):null;return!0}function fo(){dt=yn=null,qe=!1}function _y(){var r=Fs;return r!==null&&($n===null?$n=r:$n.push.apply($n,r),Fs=null),r}function Hc(r){Fs===null?Fs=[r]:Fs.push(r)}var vy=j(null),mo=null,Jr=null;function qs(r,a,l){ge(vy,a._currentValue),a._currentValue=l}function Zr(r){r._currentValue=vy.current,se(vy)}function Ty(r,a,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),r===l)break;r=r.return}}function Ey(r,a,l,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var g=p.dependencies;if(g!==null){var E=p.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=p;for(var O=0;O<a.length;O++)if(A.context===a[O]){g.lanes|=l,A=g.alternate,A!==null&&(A.lanes|=l),Ty(g.return,l,r),c||(E=null);break e}g=A.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(i(341));E.lanes|=l,g=E.alternate,g!==null&&(g.lanes|=l),Ty(E,l,r),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===r){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function kl(r,a,l,c){r=null;for(var p=a,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var A=p.type;ri(p.pendingProps.value,E.value)||(r!==null?r.push(A):r=[A])}}else if(p===He.current){if(E=p.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(yh):r=[yh])}p=p.return}r!==null&&Ey(a,r,l,c),a.flags|=262144}function Yf(r){for(r=r.firstContext;r!==null;){if(!ri(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function po(r){mo=r,Jr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function _n(r){return Zw(mo,r)}function Xf(r,a){return mo===null&&po(r),Zw(r,a)}function Zw(r,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},Jr===null){if(r===null)throw Error(i(308));Jr=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else Jr=Jr.next=a;return l}var cM=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(l,c){r.push(c)}};this.abort=function(){a.aborted=!0,r.forEach(function(l){return l()})}},hM=n.unstable_scheduleCallback,dM=n.unstable_NormalPriority,$t={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wy(){return{controller:new cM,data:new Map,refCount:0}}function Gc(r){r.refCount--,r.refCount===0&&hM(dM,function(){r.controller.abort()})}var Kc=null,by=0,Ll=0,Ul=null;function fM(r,a){if(Kc===null){var l=Kc=[];by=0,Ll=I_(),Ul={status:"pending",value:void 0,then:function(c){l.push(c)}}}return by++,a.then(eb,eb),a}function eb(){if(--by===0&&Kc!==null){Ul!==null&&(Ul.status="fulfilled");var r=Kc;Kc=null,Ll=0,Ul=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function mM(r,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return r.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var tb=K.S;K.S=function(r,a){UA=Vn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&fM(r,a),tb!==null&&tb(r,a)};var go=j(null);function Ay(){var r=go.current;return r!==null?r:lt.pooledCache}function Jf(r,a){a===null?ge(go,go.current):ge(go,a.pool)}function nb(){var r=Ay();return r===null?null:{parent:$t._currentValue,pool:r}}var jl=Error(i(460)),Sy=Error(i(474)),Zf=Error(i(542)),em={then:function(){}};function ib(r){return r=r.status,r==="fulfilled"||r==="rejected"}function rb(r,a,l){switch(l=r[l],l===void 0?r.push(a):l!==a&&(a.then(zi,zi),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,ab(r),r;default:if(typeof a.status=="string")a.then(zi,zi);else{if(r=lt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,ab(r),r}throw _o=a,jl}}function yo(r){try{var a=r._init;return a(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(_o=l,jl):l}}var _o=null;function sb(){if(_o===null)throw Error(i(459));var r=_o;return _o=null,r}function ab(r){if(r===jl||r===Zf)throw Error(i(483))}var Bl=null,$c=0;function tm(r){var a=$c;return $c+=1,Bl===null&&(Bl=[]),rb(Bl,r,a)}function Qc(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function nm(r,a){throw a.$$typeof===T?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function ob(r){function a(q,B){if(r){var $=q.deletions;$===null?(q.deletions=[B],q.flags|=16):$.push(B)}}function l(q,B){if(!r)return null;for(;B!==null;)a(q,B),B=B.sibling;return null}function c(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function p(q,B){return q=Yr(q,B),q.index=0,q.sibling=null,q}function g(q,B,$){return q.index=$,r?($=q.alternate,$!==null?($=$.index,$<B?(q.flags|=67108866,B):$):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function E(q){return r&&q.alternate===null&&(q.flags|=67108866),q}function A(q,B,$,te){return B===null||B.tag!==6?(B=fy($,q.mode,te),B.return=q,B):(B=p(B,$),B.return=q,B)}function O(q,B,$,te){var be=$.type;return be===P?ee(q,B,$.props.children,te,$.key):B!==null&&(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===I&&yo(be)===B.type)?(B=p(B,$.props),Qc(B,$),B.return=q,B):(B=Qf($.type,$.key,$.props,null,q.mode,te),Qc(B,$),B.return=q,B)}function Q(q,B,$,te){return B===null||B.tag!==4||B.stateNode.containerInfo!==$.containerInfo||B.stateNode.implementation!==$.implementation?(B=my($,q.mode,te),B.return=q,B):(B=p(B,$.children||[]),B.return=q,B)}function ee(q,B,$,te,be){return B===null||B.tag!==7?(B=ho($,q.mode,te,be),B.return=q,B):(B=p(B,$),B.return=q,B)}function ie(q,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=fy(""+B,q.mode,$),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return $=Qf(B.type,B.key,B.props,null,q.mode,$),Qc($,B),$.return=q,$;case C:return B=my(B,q.mode,$),B.return=q,B;case I:return B=yo(B),ie(q,B,$)}if(ut(B)||z(B))return B=ho(B,q.mode,$,null),B.return=q,B;if(typeof B.then=="function")return ie(q,tm(B),$);if(B.$$typeof===F)return ie(q,Xf(q,B),$);nm(q,B)}return null}function Y(q,B,$,te){var be=B!==null?B.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return be!==null?null:A(q,B,""+$,te);if(typeof $=="object"&&$!==null){switch($.$$typeof){case b:return $.key===be?O(q,B,$,te):null;case C:return $.key===be?Q(q,B,$,te):null;case I:return $=yo($),Y(q,B,$,te)}if(ut($)||z($))return be!==null?null:ee(q,B,$,te,null);if(typeof $.then=="function")return Y(q,B,tm($),te);if($.$$typeof===F)return Y(q,B,Xf(q,$),te);nm(q,$)}return null}function Z(q,B,$,te,be){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return q=q.get($)||null,A(B,q,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case b:return q=q.get(te.key===null?$:te.key)||null,O(B,q,te,be);case C:return q=q.get(te.key===null?$:te.key)||null,Q(B,q,te,be);case I:return te=yo(te),Z(q,B,$,te,be)}if(ut(te)||z(te))return q=q.get($)||null,ee(B,q,te,be,null);if(typeof te.then=="function")return Z(q,B,$,tm(te),be);if(te.$$typeof===F)return Z(q,B,$,Xf(B,te),be);nm(B,te)}return null}function ve(q,B,$,te){for(var be=null,$e=null,Ee=B,Oe=B=0,Fe=null;Ee!==null&&Oe<$.length;Oe++){Ee.index>Oe?(Fe=Ee,Ee=null):Fe=Ee.sibling;var Qe=Y(q,Ee,$[Oe],te);if(Qe===null){Ee===null&&(Ee=Fe);break}r&&Ee&&Qe.alternate===null&&a(q,Ee),B=g(Qe,B,Oe),$e===null?be=Qe:$e.sibling=Qe,$e=Qe,Ee=Fe}if(Oe===$.length)return l(q,Ee),qe&&Xr(q,Oe),be;if(Ee===null){for(;Oe<$.length;Oe++)Ee=ie(q,$[Oe],te),Ee!==null&&(B=g(Ee,B,Oe),$e===null?be=Ee:$e.sibling=Ee,$e=Ee);return qe&&Xr(q,Oe),be}for(Ee=c(Ee);Oe<$.length;Oe++)Fe=Z(Ee,q,Oe,$[Oe],te),Fe!==null&&(r&&Fe.alternate!==null&&Ee.delete(Fe.key===null?Oe:Fe.key),B=g(Fe,B,Oe),$e===null?be=Fe:$e.sibling=Fe,$e=Fe);return r&&Ee.forEach(function(oa){return a(q,oa)}),qe&&Xr(q,Oe),be}function Se(q,B,$,te){if($==null)throw Error(i(151));for(var be=null,$e=null,Ee=B,Oe=B=0,Fe=null,Qe=$.next();Ee!==null&&!Qe.done;Oe++,Qe=$.next()){Ee.index>Oe?(Fe=Ee,Ee=null):Fe=Ee.sibling;var oa=Y(q,Ee,Qe.value,te);if(oa===null){Ee===null&&(Ee=Fe);break}r&&Ee&&oa.alternate===null&&a(q,Ee),B=g(oa,B,Oe),$e===null?be=oa:$e.sibling=oa,$e=oa,Ee=Fe}if(Qe.done)return l(q,Ee),qe&&Xr(q,Oe),be;if(Ee===null){for(;!Qe.done;Oe++,Qe=$.next())Qe=ie(q,Qe.value,te),Qe!==null&&(B=g(Qe,B,Oe),$e===null?be=Qe:$e.sibling=Qe,$e=Qe);return qe&&Xr(q,Oe),be}for(Ee=c(Ee);!Qe.done;Oe++,Qe=$.next())Qe=Z(Ee,q,Oe,Qe.value,te),Qe!==null&&(r&&Qe.alternate!==null&&Ee.delete(Qe.key===null?Oe:Qe.key),B=g(Qe,B,Oe),$e===null?be=Qe:$e.sibling=Qe,$e=Qe);return r&&Ee.forEach(function(SO){return a(q,SO)}),qe&&Xr(q,Oe),be}function ot(q,B,$,te){if(typeof $=="object"&&$!==null&&$.type===P&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case b:e:{for(var be=$.key;B!==null;){if(B.key===be){if(be=$.type,be===P){if(B.tag===7){l(q,B.sibling),te=p(B,$.props.children),te.return=q,q=te;break e}}else if(B.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===I&&yo(be)===B.type){l(q,B.sibling),te=p(B,$.props),Qc(te,$),te.return=q,q=te;break e}l(q,B);break}else a(q,B);B=B.sibling}$.type===P?(te=ho($.props.children,q.mode,te,$.key),te.return=q,q=te):(te=Qf($.type,$.key,$.props,null,q.mode,te),Qc(te,$),te.return=q,q=te)}return E(q);case C:e:{for(be=$.key;B!==null;){if(B.key===be)if(B.tag===4&&B.stateNode.containerInfo===$.containerInfo&&B.stateNode.implementation===$.implementation){l(q,B.sibling),te=p(B,$.children||[]),te.return=q,q=te;break e}else{l(q,B);break}else a(q,B);B=B.sibling}te=my($,q.mode,te),te.return=q,q=te}return E(q);case I:return $=yo($),ot(q,B,$,te)}if(ut($))return ve(q,B,$,te);if(z($)){if(be=z($),typeof be!="function")throw Error(i(150));return $=be.call($),Se(q,B,$,te)}if(typeof $.then=="function")return ot(q,B,tm($),te);if($.$$typeof===F)return ot(q,B,Xf(q,$),te);nm(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,B!==null&&B.tag===6?(l(q,B.sibling),te=p(B,$),te.return=q,q=te):(l(q,B),te=fy($,q.mode,te),te.return=q,q=te),E(q)):l(q,B)}return function(q,B,$,te){try{$c=0;var be=ot(q,B,$,te);return Bl=null,be}catch(Ee){if(Ee===jl||Ee===Zf)throw Ee;var $e=si(29,Ee,null,q.mode);return $e.lanes=te,$e.return=q,$e}finally{}}}var vo=ob(!0),lb=ob(!1),Hs=!1;function Iy(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ry(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Gs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ks(r,a,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Xe&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=$f(r),Gw(r,null,l),a}return Kf(r,c,a,l),$f(r)}function Wc(r,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,wc(r,l)}}function xy(r,a){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=E:g=g.next=E,l=l.next}while(l!==null);g===null?p=g=a:g=g.next=a}else p=g=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=a:r.next=a,l.lastBaseUpdate=a}var Cy=!1;function Yc(){if(Cy){var r=Ul;if(r!==null)throw r}}function Xc(r,a,l,c){Cy=!1;var p=r.updateQueue;Hs=!1;var g=p.firstBaseUpdate,E=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var O=A,Q=O.next;O.next=null,E===null?g=Q:E.next=Q,E=O;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,A=ee.lastBaseUpdate,A!==E&&(A===null?ee.firstBaseUpdate=Q:A.next=Q,ee.lastBaseUpdate=O))}if(g!==null){var ie=p.baseState;E=0,ee=Q=O=null,A=g;do{var Y=A.lane&-536870913,Z=Y!==A.lane;if(Z?(Be&Y)===Y:(c&Y)===Y){Y!==0&&Y===Ll&&(Cy=!0),ee!==null&&(ee=ee.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ve=r,Se=A;Y=a;var ot=l;switch(Se.tag){case 1:if(ve=Se.payload,typeof ve=="function"){ie=ve.call(ot,ie,Y);break e}ie=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=Se.payload,Y=typeof ve=="function"?ve.call(ot,ie,Y):ve,Y==null)break e;ie=_({},ie,Y);break e;case 2:Hs=!0}}Y=A.callback,Y!==null&&(r.flags|=64,Z&&(r.flags|=8192),Z=p.callbacks,Z===null?p.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ee===null?(Q=ee=Z,O=ie):ee=ee.next=Z,E|=Y;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);ee===null&&(O=ie),p.baseState=O,p.firstBaseUpdate=Q,p.lastBaseUpdate=ee,g===null&&(p.shared.lanes=0),Xs|=E,r.lanes=E,r.memoizedState=ie}}function ub(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function cb(r,a){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)ub(l[r],a)}var Fl=j(null),im=j(0);function hb(r,a){r=ls,ge(im,r),ge(Fl,a),ls=r|a.baseLanes}function Dy(){ge(im,ls),ge(Fl,Fl.current)}function Ny(){ls=im.current,se(Fl),se(im)}var ai=j(null),xi=null;function $s(r){var a=r.alternate;ge(kt,kt.current&1),ge(ai,r),xi===null&&(a===null||Fl.current!==null||a.memoizedState!==null)&&(xi=r)}function Py(r){ge(kt,kt.current),ge(ai,r),xi===null&&(xi=r)}function db(r){r.tag===22?(ge(kt,kt.current),ge(ai,r),xi===null&&(xi=r)):Qs()}function Qs(){ge(kt,kt.current),ge(ai,ai.current)}function oi(r){se(ai),xi===r&&(xi=null),se(kt)}var kt=j(0);function rm(r){for(var a=r;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||U_(l)||j_(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var es=0,Pe=null,st=null,Qt=null,sm=!1,zl=!1,To=!1,am=0,Jc=0,ql=null,pM=0;function xt(){throw Error(i(321))}function Vy(r,a){if(a===null)return!1;for(var l=0;l<a.length&&l<r.length;l++)if(!ri(r[l],a[l]))return!1;return!0}function My(r,a,l,c,p,g){return es=g,Pe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,K.H=r===null||r.memoizedState===null?Wb:Wy,To=!1,g=l(c,p),To=!1,zl&&(g=mb(a,l,c,p)),fb(r),g}function fb(r){K.H=th;var a=st!==null&&st.next!==null;if(es=0,Qt=st=Pe=null,sm=!1,Jc=0,ql=null,a)throw Error(i(300));r===null||Wt||(r=r.dependencies,r!==null&&Yf(r)&&(Wt=!0))}function mb(r,a,l,c){Pe=r;var p=0;do{if(zl&&(ql=null),Jc=0,zl=!1,25<=p)throw Error(i(301));if(p+=1,Qt=st=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}K.H=Yb,g=a(l,c)}while(zl);return g}function gM(){var r=K.H,a=r.useState()[0];return a=typeof a.then=="function"?Zc(a):a,r=r.useState()[0],(st!==null?st.memoizedState:null)!==r&&(Pe.flags|=1024),a}function Oy(){var r=am!==0;return am=0,r}function ky(r,a,l){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~l}function Ly(r){if(sm){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}sm=!1}es=0,Qt=st=Pe=null,zl=!1,Jc=am=0,ql=null}function On(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?Pe.memoizedState=Qt=r:Qt=Qt.next=r,Qt}function Lt(){if(st===null){var r=Pe.alternate;r=r!==null?r.memoizedState:null}else r=st.next;var a=Qt===null?Pe.memoizedState:Qt.next;if(a!==null)Qt=a,st=r;else{if(r===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));st=r,r={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},Qt===null?Pe.memoizedState=Qt=r:Qt=Qt.next=r}return Qt}function om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zc(r){var a=Jc;return Jc+=1,ql===null&&(ql=[]),r=rb(ql,r,a),a=Pe,(Qt===null?a.memoizedState:Qt.next)===null&&(a=a.alternate,K.H=a===null||a.memoizedState===null?Wb:Wy),r}function lm(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Zc(r);if(r.$$typeof===F)return _n(r)}throw Error(i(438,String(r)))}function Uy(r){var a=null,l=Pe.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=om(),Pe.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(r),c=0;c<r;c++)l[c]=k;return a.index++,l}function ts(r,a){return typeof a=="function"?a(r):a}function um(r){var a=Lt();return jy(a,st,r)}function jy(r,a,l){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var p=r.baseQueue,g=c.pending;if(g!==null){if(p!==null){var E=p.next;p.next=g.next,g.next=E}a.baseQueue=p=g,c.pending=null}if(g=r.baseState,p===null)r.memoizedState=g;else{a=p.next;var A=E=null,O=null,Q=a,ee=!1;do{var ie=Q.lane&-536870913;if(ie!==Q.lane?(Be&ie)===ie:(es&ie)===ie){var Y=Q.revertLane;if(Y===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ie===Ll&&(ee=!0);else if((es&Y)===Y){Q=Q.next,Y===Ll&&(ee=!0);continue}else ie={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},O===null?(A=O=ie,E=g):O=O.next=ie,Pe.lanes|=Y,Xs|=Y;ie=Q.action,To&&l(g,ie),g=Q.hasEagerState?Q.eagerState:l(g,ie)}else Y={lane:ie,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},O===null?(A=O=Y,E=g):O=O.next=Y,Pe.lanes|=ie,Xs|=ie;Q=Q.next}while(Q!==null&&Q!==a);if(O===null?E=g:O.next=A,!ri(g,r.memoizedState)&&(Wt=!0,ee&&(l=Ul,l!==null)))throw l;r.memoizedState=g,r.baseState=E,r.baseQueue=O,c.lastRenderedState=g}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function By(r){var a=Lt(),l=a.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var c=l.dispatch,p=l.pending,g=a.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do g=r(g,E.action),E=E.next;while(E!==p);ri(g,a.memoizedState)||(Wt=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,c]}function pb(r,a,l){var c=Pe,p=Lt(),g=qe;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=a();var E=!ri((st||p).memoizedState,l);if(E&&(p.memoizedState=l,Wt=!0),p=p.queue,qy(_b.bind(null,c,p,r),[r]),p.getSnapshot!==a||E||Qt!==null&&Qt.memoizedState.tag&1){if(c.flags|=2048,Hl(9,{destroy:void 0},yb.bind(null,c,p,l,a),null),lt===null)throw Error(i(349));g||(es&127)!==0||gb(c,a,l)}return l}function gb(r,a,l){r.flags|=16384,r={getSnapshot:a,value:l},a=Pe.updateQueue,a===null?(a=om(),Pe.updateQueue=a,a.stores=[r]):(l=a.stores,l===null?a.stores=[r]:l.push(r))}function yb(r,a,l,c){a.value=l,a.getSnapshot=c,vb(a)&&Tb(r)}function _b(r,a,l){return l(function(){vb(a)&&Tb(r)})}function vb(r){var a=r.getSnapshot;r=r.value;try{var l=a();return!ri(r,l)}catch{return!0}}function Tb(r){var a=co(r,2);a!==null&&Qn(a,r,2)}function Fy(r){var a=On();if(typeof r=="function"){var l=r;if(r=l(),To){_i(!0);try{l()}finally{_i(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:r},a}function Eb(r,a,l,c){return r.baseState=l,jy(r,st,typeof c=="function"?c:ts)}function yM(r,a,l,c,p){if(dm(r))throw Error(i(485));if(r=a.action,r!==null){var g={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){g.listeners.push(E)}};K.T!==null?l(!0):g.isTransition=!1,c(g),l=a.pending,l===null?(g.next=a.pending=g,wb(a,g)):(g.next=l.next,a.pending=l.next=g)}}function wb(r,a){var l=a.action,c=a.payload,p=r.state;if(a.isTransition){var g=K.T,E={};K.T=E;try{var A=l(p,c),O=K.S;O!==null&&O(E,A),bb(r,a,A)}catch(Q){zy(r,a,Q)}finally{g!==null&&E.types!==null&&(g.types=E.types),K.T=g}}else try{g=l(p,c),bb(r,a,g)}catch(Q){zy(r,a,Q)}}function bb(r,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){Ab(r,a,c)},function(c){return zy(r,a,c)}):Ab(r,a,l)}function Ab(r,a,l){a.status="fulfilled",a.value=l,Sb(a),r.state=l,a=r.pending,a!==null&&(l=a.next,l===a?r.pending=null:(l=l.next,a.next=l,wb(r,l)))}function zy(r,a,l){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,Sb(a),a=a.next;while(a!==c)}r.action=null}function Sb(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function Ib(r,a){return a}function Rb(r,a){if(qe){var l=lt.formState;if(l!==null){e:{var c=Pe;if(qe){if(dt){t:{for(var p=dt,g=Ri;p.nodeType!==8;){if(!g){p=null;break t}if(p=Ci(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){dt=Ci(p.nextSibling),c=p.data==="F!";break e}}zs(c)}c=!1}c&&(a=l[0])}}return l=On(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ib,lastRenderedState:a},l.queue=c,l=Kb.bind(null,Pe,c),c.dispatch=l,c=Fy(!1),g=Qy.bind(null,Pe,!1,c.queue),c=On(),p={state:a,dispatch:null,action:r,pending:null},c.queue=p,l=yM.bind(null,Pe,p,g,l),p.dispatch=l,c.memoizedState=r,[a,l,!1]}function xb(r){var a=Lt();return Cb(a,st,r)}function Cb(r,a,l){if(a=jy(r,a,Ib)[0],r=um(ts)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Zc(a)}catch(E){throw E===jl?Zf:E}else c=a;a=Lt();var p=a.queue,g=p.dispatch;return l!==a.memoizedState&&(Pe.flags|=2048,Hl(9,{destroy:void 0},_M.bind(null,p,l),null)),[c,g,r]}function _M(r,a){r.action=a}function Db(r){var a=Lt(),l=st;if(l!==null)return Cb(a,l,r);Lt(),a=a.memoizedState,l=Lt();var c=l.queue.dispatch;return l.memoizedState=r,[a,c,!1]}function Hl(r,a,l,c){return r={tag:r,create:l,deps:c,inst:a,next:null},a=Pe.updateQueue,a===null&&(a=om(),Pe.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,a.lastEffect=r),r}function Nb(){return Lt().memoizedState}function cm(r,a,l,c){var p=On();Pe.flags|=r,p.memoizedState=Hl(1|a,{destroy:void 0},l,c===void 0?null:c)}function hm(r,a,l,c){var p=Lt();c=c===void 0?null:c;var g=p.memoizedState.inst;st!==null&&c!==null&&Vy(c,st.memoizedState.deps)?p.memoizedState=Hl(a,g,l,c):(Pe.flags|=r,p.memoizedState=Hl(1|a,g,l,c))}function Pb(r,a){cm(8390656,8,r,a)}function qy(r,a){hm(2048,8,r,a)}function vM(r){Pe.flags|=4;var a=Pe.updateQueue;if(a===null)a=om(),Pe.updateQueue=a,a.events=[r];else{var l=a.events;l===null?a.events=[r]:l.push(r)}}function Vb(r){var a=Lt().memoizedState;return vM({ref:a,nextImpl:r}),function(){if((Xe&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Mb(r,a){return hm(4,2,r,a)}function Ob(r,a){return hm(4,4,r,a)}function kb(r,a){if(typeof a=="function"){r=r();var l=a(r);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Lb(r,a,l){l=l!=null?l.concat([r]):null,hm(4,4,kb.bind(null,a,r),l)}function Hy(){}function Ub(r,a){var l=Lt();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&Vy(a,c[1])?c[0]:(l.memoizedState=[r,a],r)}function jb(r,a){var l=Lt();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&Vy(a,c[1]))return c[0];if(c=r(),To){_i(!0);try{r()}finally{_i(!1)}}return l.memoizedState=[c,a],c}function Gy(r,a,l){return l===void 0||(es&1073741824)!==0&&(Be&261930)===0?r.memoizedState=a:(r.memoizedState=l,r=BA(),Pe.lanes|=r,Xs|=r,l)}function Bb(r,a,l,c){return ri(l,a)?l:Fl.current!==null?(r=Gy(r,l,c),ri(r,a)||(Wt=!0),r):(es&42)===0||(es&1073741824)!==0&&(Be&261930)===0?(Wt=!0,r.memoizedState=l):(r=BA(),Pe.lanes|=r,Xs|=r,a)}function Fb(r,a,l,c,p){var g=re.p;re.p=g!==0&&8>g?g:8;var E=K.T,A={};K.T=A,Qy(r,!1,a,l);try{var O=p(),Q=K.S;if(Q!==null&&Q(A,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ee=mM(O,c);eh(r,a,ee,ci(r))}else eh(r,a,c,ci(r))}catch(ie){eh(r,a,{then:function(){},status:"rejected",reason:ie},ci())}finally{re.p=g,E!==null&&A.types!==null&&(E.types=A.types),K.T=E}}function TM(){}function Ky(r,a,l,c){if(r.tag!==5)throw Error(i(476));var p=zb(r).queue;Fb(r,p,a,fe,l===null?TM:function(){return qb(r),l(c)})}function zb(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:fe},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:l},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function qb(r){var a=zb(r);a.next===null&&(a=r.alternate.memoizedState),eh(r,a.next.queue,{},ci())}function $y(){return _n(yh)}function Hb(){return Lt().memoizedState}function Gb(){return Lt().memoizedState}function EM(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var l=ci();r=Gs(l);var c=Ks(a,r,l);c!==null&&(Qn(c,a,l),Wc(c,a,l)),a={cache:wy()},r.payload=a;return}a=a.return}}function wM(r,a,l){var c=ci();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},dm(r)?$b(a,l):(l=hy(r,a,l,c),l!==null&&(Qn(l,r,c),Qb(l,a,c)))}function Kb(r,a,l){var c=ci();eh(r,a,l,c)}function eh(r,a,l,c){var p={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(dm(r))$b(a,p);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var E=a.lastRenderedState,A=g(E,l);if(p.hasEagerState=!0,p.eagerState=A,ri(A,E))return Kf(r,a,p,0),lt===null&&Gf(),!1}catch{}finally{}if(l=hy(r,a,p,c),l!==null)return Qn(l,r,c),Qb(l,a,c),!0}return!1}function Qy(r,a,l,c){if(c={lane:2,revertLane:I_(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},dm(r)){if(a)throw Error(i(479))}else a=hy(r,l,c,2),a!==null&&Qn(a,r,2)}function dm(r){var a=r.alternate;return r===Pe||a!==null&&a===Pe}function $b(r,a){zl=sm=!0;var l=r.pending;l===null?a.next=a:(a.next=l.next,l.next=a),r.pending=a}function Qb(r,a,l){if((l&4194048)!==0){var c=a.lanes;c&=r.pendingLanes,l|=c,a.lanes=l,wc(r,l)}}var th={readContext:_n,use:lm,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt};th.useEffectEvent=xt;var Wb={readContext:_n,use:lm,useCallback:function(r,a){return On().memoizedState=[r,a===void 0?null:a],r},useContext:_n,useEffect:Pb,useImperativeHandle:function(r,a,l){l=l!=null?l.concat([r]):null,cm(4194308,4,kb.bind(null,a,r),l)},useLayoutEffect:function(r,a){return cm(4194308,4,r,a)},useInsertionEffect:function(r,a){cm(4,2,r,a)},useMemo:function(r,a){var l=On();a=a===void 0?null:a;var c=r();if(To){_i(!0);try{r()}finally{_i(!1)}}return l.memoizedState=[c,a],c},useReducer:function(r,a,l){var c=On();if(l!==void 0){var p=l(a);if(To){_i(!0);try{l(a)}finally{_i(!1)}}}else p=a;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=wM.bind(null,Pe,r),[c.memoizedState,r]},useRef:function(r){var a=On();return r={current:r},a.memoizedState=r},useState:function(r){r=Fy(r);var a=r.queue,l=Kb.bind(null,Pe,a);return a.dispatch=l,[r.memoizedState,l]},useDebugValue:Hy,useDeferredValue:function(r,a){var l=On();return Gy(l,r,a)},useTransition:function(){var r=Fy(!1);return r=Fb.bind(null,Pe,r.queue,!0,!1),On().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,l){var c=Pe,p=On();if(qe){if(l===void 0)throw Error(i(407));l=l()}else{if(l=a(),lt===null)throw Error(i(349));(Be&127)!==0||gb(c,a,l)}p.memoizedState=l;var g={value:l,getSnapshot:a};return p.queue=g,Pb(_b.bind(null,c,g,r),[r]),c.flags|=2048,Hl(9,{destroy:void 0},yb.bind(null,c,g,l,a),null),l},useId:function(){var r=On(),a=lt.identifierPrefix;if(qe){var l=Ar,c=br;l=(c&~(1<<32-Mt(c)-1)).toString(32)+l,a="_"+a+"R_"+l,l=am++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=pM++,a="_"+a+"r_"+l.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:$y,useFormState:Rb,useActionState:Rb,useOptimistic:function(r){var a=On();a.memoizedState=a.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Qy.bind(null,Pe,!0,l),l.dispatch=a,[r,a]},useMemoCache:Uy,useCacheRefresh:function(){return On().memoizedState=EM.bind(null,Pe)},useEffectEvent:function(r){var a=On(),l={impl:r};return a.memoizedState=l,function(){if((Xe&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Wy={readContext:_n,use:lm,useCallback:Ub,useContext:_n,useEffect:qy,useImperativeHandle:Lb,useInsertionEffect:Mb,useLayoutEffect:Ob,useMemo:jb,useReducer:um,useRef:Nb,useState:function(){return um(ts)},useDebugValue:Hy,useDeferredValue:function(r,a){var l=Lt();return Bb(l,st.memoizedState,r,a)},useTransition:function(){var r=um(ts)[0],a=Lt().memoizedState;return[typeof r=="boolean"?r:Zc(r),a]},useSyncExternalStore:pb,useId:Hb,useHostTransitionStatus:$y,useFormState:xb,useActionState:xb,useOptimistic:function(r,a){var l=Lt();return Eb(l,st,r,a)},useMemoCache:Uy,useCacheRefresh:Gb};Wy.useEffectEvent=Vb;var Yb={readContext:_n,use:lm,useCallback:Ub,useContext:_n,useEffect:qy,useImperativeHandle:Lb,useInsertionEffect:Mb,useLayoutEffect:Ob,useMemo:jb,useReducer:By,useRef:Nb,useState:function(){return By(ts)},useDebugValue:Hy,useDeferredValue:function(r,a){var l=Lt();return st===null?Gy(l,r,a):Bb(l,st.memoizedState,r,a)},useTransition:function(){var r=By(ts)[0],a=Lt().memoizedState;return[typeof r=="boolean"?r:Zc(r),a]},useSyncExternalStore:pb,useId:Hb,useHostTransitionStatus:$y,useFormState:Db,useActionState:Db,useOptimistic:function(r,a){var l=Lt();return st!==null?Eb(l,st,r,a):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Uy,useCacheRefresh:Gb};Yb.useEffectEvent=Vb;function Yy(r,a,l,c){a=r.memoizedState,l=l(c,a),l=l==null?a:_({},a,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Xy={enqueueSetState:function(r,a,l){r=r._reactInternals;var c=ci(),p=Gs(c);p.payload=a,l!=null&&(p.callback=l),a=Ks(r,p,c),a!==null&&(Qn(a,r,c),Wc(a,r,c))},enqueueReplaceState:function(r,a,l){r=r._reactInternals;var c=ci(),p=Gs(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Ks(r,p,c),a!==null&&(Qn(a,r,c),Wc(a,r,c))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var l=ci(),c=Gs(l);c.tag=2,a!=null&&(c.callback=a),a=Ks(r,c,l),a!==null&&(Qn(a,r,l),Wc(a,r,l))}};function Xb(r,a,l,c,p,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,E):a.prototype&&a.prototype.isPureReactComponent?!Fc(l,c)||!Fc(p,g):!0}function Jb(r,a,l,c){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==r&&Xy.enqueueReplaceState(a,a.state,null)}function Eo(r,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(r=r.defaultProps){l===a&&(l=_({},l));for(var p in r)l[p]===void 0&&(l[p]=r[p])}return l}function Zb(r){Hf(r)}function eA(r){console.error(r)}function tA(r){Hf(r)}function fm(r,a){try{var l=r.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function nA(r,a,l){try{var c=r.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Jy(r,a,l){return l=Gs(l),l.tag=3,l.payload={element:null},l.callback=function(){fm(r,a)},l}function iA(r){return r=Gs(r),r.tag=3,r}function rA(r,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;r.payload=function(){return p(g)},r.callback=function(){nA(a,l,c)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){nA(a,l,c),typeof p!="function"&&(Js===null?Js=new Set([this]):Js.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function bM(r,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&kl(a,l,p,!0),l=ai.current,l!==null){switch(l.tag){case 31:case 13:return xi===null?Sm():l.alternate===null&&Ct===0&&(Ct=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===em?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),b_(r,c,p)),!1;case 22:return l.flags|=65536,c===em?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),b_(r,c,p)),!1}throw Error(i(435,l.tag))}return b_(r,c,p),Sm(),!1}if(qe)return a=ai.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==yy&&(r=Error(i(422),{cause:c}),Hc(Ai(r,l)))):(c!==yy&&(a=Error(i(423),{cause:c}),Hc(Ai(a,l))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=Ai(c,l),p=Jy(r.stateNode,c,p),xy(r,p),Ct!==4&&(Ct=2)),!1;var g=Error(i(520),{cause:c});if(g=Ai(g,l),uh===null?uh=[g]:uh.push(g),Ct!==4&&(Ct=2),a===null)return!0;c=Ai(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,r=p&-p,l.lanes|=r,r=Jy(l.stateNode,c,r),xy(l,r),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Js===null||!Js.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=iA(p),rA(p,r,l,c),xy(l,p),!1}l=l.return}while(l!==null);return!1}var Zy=Error(i(461)),Wt=!1;function vn(r,a,l,c){a.child=r===null?lb(a,null,l,c):vo(a,r.child,l,c)}function sA(r,a,l,c,p){l=l.render;var g=a.ref;if("ref"in c){var E={};for(var A in c)A!=="ref"&&(E[A]=c[A])}else E=c;return po(a),c=My(r,a,l,E,g,p),A=Oy(),r!==null&&!Wt?(ky(r,a,p),ns(r,a,p)):(qe&&A&&py(a),a.flags|=1,vn(r,a,c,p),a.child)}function aA(r,a,l,c,p){if(r===null){var g=l.type;return typeof g=="function"&&!dy(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,oA(r,a,g,c,p)):(r=Qf(l.type,null,c,a,a.mode,p),r.ref=a.ref,r.return=a,a.child=r)}if(g=r.child,!o_(r,p)){var E=g.memoizedProps;if(l=l.compare,l=l!==null?l:Fc,l(E,c)&&r.ref===a.ref)return ns(r,a,p)}return a.flags|=1,r=Yr(g,c),r.ref=a.ref,r.return=a,a.child=r}function oA(r,a,l,c,p){if(r!==null){var g=r.memoizedProps;if(Fc(g,c)&&r.ref===a.ref)if(Wt=!1,a.pendingProps=c=g,o_(r,p))(r.flags&131072)!==0&&(Wt=!0);else return a.lanes=r.lanes,ns(r,a,p)}return e_(r,a,l,c,p)}function lA(r,a,l,c){var p=c.children,g=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((a.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,r!==null){for(c=a.child=r.child,p=0;c!==null;)p=p|c.lanes|c.childLanes,c=c.sibling;c=p&~g}else c=0,a.child=null;return uA(r,a,g,l,c)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&Jf(a,g!==null?g.cachePool:null),g!==null?hb(a,g):Dy(),db(a);else return c=a.lanes=536870912,uA(r,a,g!==null?g.baseLanes|l:l,l,c)}else g!==null?(Jf(a,g.cachePool),hb(a,g),Qs(),a.memoizedState=null):(r!==null&&Jf(a,null),Dy(),Qs());return vn(r,a,p,l),a.child}function nh(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function uA(r,a,l,c,p){var g=Ay();return g=g===null?null:{parent:$t._currentValue,pool:g},a.memoizedState={baseLanes:l,cachePool:g},r!==null&&Jf(a,null),Dy(),db(a),r!==null&&kl(r,a,c,!0),a.childLanes=p,null}function mm(r,a){return a=gm({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function cA(r,a,l){return vo(a,r.child,null,l),r=mm(a,a.pendingProps),r.flags|=2,oi(a),a.memoizedState=null,r}function AM(r,a,l){var c=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(qe){if(c.mode==="hidden")return r=mm(a,c),a.lanes=536870912,nh(null,r);if(Py(a),(r=dt)?(r=wS(r,Ri),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Bs!==null?{id:br,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},l=$w(r),l.return=a,a.child=l,yn=a,dt=null)):r=null,r===null)throw zs(a);return a.lanes=536870912,null}return mm(a,c)}var g=r.memoizedState;if(g!==null){var E=g.dehydrated;if(Py(a),p)if(a.flags&256)a.flags&=-257,a=cA(r,a,l);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(Wt||kl(r,a,l,!1),p=(l&r.childLanes)!==0,Wt||p){if(c=lt,c!==null&&(E=bc(c,l),E!==0&&E!==g.retryLane))throw g.retryLane=E,co(r,E),Qn(c,r,E),Zy;Sm(),a=cA(r,a,l)}else r=g.treeContext,dt=Ci(E.nextSibling),yn=a,qe=!0,Fs=null,Ri=!1,r!==null&&Yw(a,r),a=mm(a,c),a.flags|=4096;return a}return r=Yr(r.child,{mode:c.mode,children:c.children}),r.ref=a.ref,a.child=r,r.return=a,r}function pm(r,a){var l=a.ref;if(l===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(a.flags|=4194816)}}function e_(r,a,l,c,p){return po(a),l=My(r,a,l,c,void 0,p),c=Oy(),r!==null&&!Wt?(ky(r,a,p),ns(r,a,p)):(qe&&c&&py(a),a.flags|=1,vn(r,a,l,p),a.child)}function hA(r,a,l,c,p,g){return po(a),a.updateQueue=null,l=mb(a,c,l,p),fb(r),c=Oy(),r!==null&&!Wt?(ky(r,a,g),ns(r,a,g)):(qe&&c&&py(a),a.flags|=1,vn(r,a,l,g),a.child)}function dA(r,a,l,c,p){if(po(a),a.stateNode===null){var g=Pl,E=l.contextType;typeof E=="object"&&E!==null&&(g=_n(E)),g=new l(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Xy,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},Iy(a),E=l.contextType,g.context=typeof E=="object"&&E!==null?_n(E):Pl,g.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Yy(a,l,E,c),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(E=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),E!==g.state&&Xy.enqueueReplaceState(g,g.state,null),Xc(a,c,g,p),Yc(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(r===null){g=a.stateNode;var A=a.memoizedProps,O=Eo(l,A);g.props=O;var Q=g.context,ee=l.contextType;E=Pl,typeof ee=="object"&&ee!==null&&(E=_n(ee));var ie=l.getDerivedStateFromProps;ee=typeof ie=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,ee||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||Q!==E)&&Jb(a,g,c,E),Hs=!1;var Y=a.memoizedState;g.state=Y,Xc(a,c,g,p),Yc(),Q=a.memoizedState,A||Y!==Q||Hs?(typeof ie=="function"&&(Yy(a,l,ie,c),Q=a.memoizedState),(O=Hs||Xb(a,l,O,c,Y,Q,E))?(ee||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=Q),g.props=c,g.state=Q,g.context=E,c=O):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,Ry(r,a),E=a.memoizedProps,ee=Eo(l,E),g.props=ee,ie=a.pendingProps,Y=g.context,Q=l.contextType,O=Pl,typeof Q=="object"&&Q!==null&&(O=_n(Q)),A=l.getDerivedStateFromProps,(Q=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==ie||Y!==O)&&Jb(a,g,c,O),Hs=!1,Y=a.memoizedState,g.state=Y,Xc(a,c,g,p),Yc();var Z=a.memoizedState;E!==ie||Y!==Z||Hs||r!==null&&r.dependencies!==null&&Yf(r.dependencies)?(typeof A=="function"&&(Yy(a,l,A,c),Z=a.memoizedState),(ee=Hs||Xb(a,l,ee,c,Y,Z,O)||r!==null&&r.dependencies!==null&&Yf(r.dependencies))?(Q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Z,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Z,O)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=Z),g.props=c,g.state=Z,g.context=O,c=ee):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(a.flags|=1024),c=!1)}return g=c,pm(r,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,r!==null&&c?(a.child=vo(a,r.child,null,p),a.child=vo(a,null,l,p)):vn(r,a,l,p),a.memoizedState=g.state,r=a.child):r=ns(r,a,p),r}function fA(r,a,l,c){return fo(),a.flags|=256,vn(r,a,l,c),a.child}var t_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function n_(r){return{baseLanes:r,cachePool:nb()}}function i_(r,a,l){return r=r!==null?r.childLanes&~l:0,a&&(r|=ui),r}function mA(r,a,l){var c=a.pendingProps,p=!1,g=(a.flags&128)!==0,E;if((E=g)||(E=r!==null&&r.memoizedState===null?!1:(kt.current&2)!==0),E&&(p=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(qe){if(p?$s(a):Qs(),(r=dt)?(r=wS(r,Ri),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:Bs!==null?{id:br,overflow:Ar}:null,retryLane:536870912,hydrationErrors:null},l=$w(r),l.return=a,a.child=l,yn=a,dt=null)):r=null,r===null)throw zs(a);return j_(r)?a.lanes=32:a.lanes=536870912,null}var A=c.children;return c=c.fallback,p?(Qs(),p=a.mode,A=gm({mode:"hidden",children:A},p),c=ho(c,p,l,null),A.return=a,c.return=a,A.sibling=c,a.child=A,c=a.child,c.memoizedState=n_(l),c.childLanes=i_(r,E,l),a.memoizedState=t_,nh(null,c)):($s(a),r_(a,A))}var O=r.memoizedState;if(O!==null&&(A=O.dehydrated,A!==null)){if(g)a.flags&256?($s(a),a.flags&=-257,a=s_(r,a,l)):a.memoizedState!==null?(Qs(),a.child=r.child,a.flags|=128,a=null):(Qs(),A=c.fallback,p=a.mode,c=gm({mode:"visible",children:c.children},p),A=ho(A,p,l,null),A.flags|=2,c.return=a,A.return=a,c.sibling=A,a.child=c,vo(a,r.child,null,l),c=a.child,c.memoizedState=n_(l),c.childLanes=i_(r,E,l),a.memoizedState=t_,a=nh(null,c));else if($s(a),j_(A)){if(E=A.nextSibling&&A.nextSibling.dataset,E)var Q=E.dgst;E=Q,c=Error(i(419)),c.stack="",c.digest=E,Hc({value:c,source:null,stack:null}),a=s_(r,a,l)}else if(Wt||kl(r,a,l,!1),E=(l&r.childLanes)!==0,Wt||E){if(E=lt,E!==null&&(c=bc(E,l),c!==0&&c!==O.retryLane))throw O.retryLane=c,co(r,c),Qn(E,r,c),Zy;U_(A)||Sm(),a=s_(r,a,l)}else U_(A)?(a.flags|=192,a.child=r.child,a=null):(r=O.treeContext,dt=Ci(A.nextSibling),yn=a,qe=!0,Fs=null,Ri=!1,r!==null&&Yw(a,r),a=r_(a,c.children),a.flags|=4096);return a}return p?(Qs(),A=c.fallback,p=a.mode,O=r.child,Q=O.sibling,c=Yr(O,{mode:"hidden",children:c.children}),c.subtreeFlags=O.subtreeFlags&65011712,Q!==null?A=Yr(Q,A):(A=ho(A,p,l,null),A.flags|=2),A.return=a,c.return=a,c.sibling=A,a.child=c,nh(null,c),c=a.child,A=r.child.memoizedState,A===null?A=n_(l):(p=A.cachePool,p!==null?(O=$t._currentValue,p=p.parent!==O?{parent:O,pool:O}:p):p=nb(),A={baseLanes:A.baseLanes|l,cachePool:p}),c.memoizedState=A,c.childLanes=i_(r,E,l),a.memoizedState=t_,nh(r.child,c)):($s(a),l=r.child,r=l.sibling,l=Yr(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=l,a.memoizedState=null,l)}function r_(r,a){return a=gm({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function gm(r,a){return r=si(22,r,null,a),r.lanes=0,r}function s_(r,a,l){return vo(a,r.child,null,l),r=r_(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function pA(r,a,l){r.lanes|=a;var c=r.alternate;c!==null&&(c.lanes|=a),Ty(r.return,a,l)}function a_(r,a,l,c,p,g){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p,treeForkCount:g}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=c,E.tail=l,E.tailMode=p,E.treeForkCount=g)}function gA(r,a,l){var c=a.pendingProps,p=c.revealOrder,g=c.tail;c=c.children;var E=kt.current,A=(E&2)!==0;if(A?(E=E&1|2,a.flags|=128):E&=1,ge(kt,E),vn(r,a,c,l),c=qe?qc:0,!A&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&pA(r,l,a);else if(r.tag===19)pA(r,l,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(p){case"forwards":for(l=a.child,p=null;l!==null;)r=l.alternate,r!==null&&rm(r)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),a_(a,!1,p,l,g,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(r=p.alternate,r!==null&&rm(r)===null){a.child=p;break}r=p.sibling,p.sibling=l,l=p,p=r}a_(a,!0,l,null,g,c);break;case"together":a_(a,!1,null,null,void 0,c);break;default:a.memoizedState=null}return a.child}function ns(r,a,l){if(r!==null&&(a.dependencies=r.dependencies),Xs|=a.lanes,(l&a.childLanes)===0)if(r!==null){if(kl(r,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,l=Yr(r,r.pendingProps),a.child=l,l.return=a;r.sibling!==null;)r=r.sibling,l=l.sibling=Yr(r,r.pendingProps),l.return=a;l.sibling=null}return a.child}function o_(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&Yf(r)))}function SM(r,a,l){switch(a.tag){case 3:tn(a,a.stateNode.containerInfo),qs(a,$t,r.memoizedState.cache),fo();break;case 27:case 5:Ka(a);break;case 4:tn(a,a.stateNode.containerInfo);break;case 10:qs(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Py(a),null;break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?($s(a),a.flags|=128,null):(l&a.child.childLanes)!==0?mA(r,a,l):($s(a),r=ns(r,a,l),r!==null?r.sibling:null);$s(a);break;case 19:var p=(r.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(kl(r,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return gA(r,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ge(kt,kt.current),c)break;return null;case 22:return a.lanes=0,lA(r,a,l,a.pendingProps);case 24:qs(a,$t,r.memoizedState.cache)}return ns(r,a,l)}function yA(r,a,l){if(r!==null)if(r.memoizedProps!==a.pendingProps)Wt=!0;else{if(!o_(r,l)&&(a.flags&128)===0)return Wt=!1,SM(r,a,l);Wt=(r.flags&131072)!==0}else Wt=!1,qe&&(a.flags&1048576)!==0&&Ww(a,qc,a.index);switch(a.lanes=0,a.tag){case 16:e:{var c=a.pendingProps;if(r=yo(a.elementType),a.type=r,typeof r=="function")dy(r)?(c=Eo(r,c),a.tag=1,a=dA(null,a,r,c,l)):(a.tag=0,a=e_(null,a,r,c,l));else{if(r!=null){var p=r.$$typeof;if(p===ae){a.tag=11,a=sA(null,a,r,c,l);break e}else if(p===x){a.tag=14,a=aA(null,a,r,c,l);break e}}throw a=Ke(r)||r,Error(i(306,a,""))}}return a;case 0:return e_(r,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=Eo(c,a.pendingProps),dA(r,a,c,p,l);case 3:e:{if(tn(a,a.stateNode.containerInfo),r===null)throw Error(i(387));c=a.pendingProps;var g=a.memoizedState;p=g.element,Ry(r,a),Xc(a,c,null,l);var E=a.memoizedState;if(c=E.cache,qs(a,$t,c),c!==g.cache&&Ey(a,[$t],l,!0),Yc(),c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=fA(r,a,c,l);break e}else if(c!==p){p=Ai(Error(i(424)),a),Hc(p),a=fA(r,a,c,l);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(dt=Ci(r.firstChild),yn=a,qe=!0,Fs=null,Ri=!0,l=lb(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(fo(),c===p){a=ns(r,a,l);break e}vn(r,a,c,l)}a=a.child}return a;case 26:return pm(r,a),r===null?(l=xS(a.type,null,a.pendingProps,null))?a.memoizedState=l:qe||(l=a.type,r=a.pendingProps,c=Pm(Me.current).createElement(l),c[Ht]=a,c[un]=r,Tn(c,l,r),Gt(c),a.stateNode=c):a.memoizedState=xS(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return Ka(a),r===null&&qe&&(c=a.stateNode=SS(a.type,a.pendingProps,Me.current),yn=a,Ri=!0,p=dt,na(a.type)?(B_=p,dt=Ci(c.firstChild)):dt=p),vn(r,a,a.pendingProps.children,l),pm(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&qe&&((p=c=dt)&&(c=tO(c,a.type,a.pendingProps,Ri),c!==null?(a.stateNode=c,yn=a,dt=Ci(c.firstChild),Ri=!1,p=!0):p=!1),p||zs(a)),Ka(a),p=a.type,g=a.pendingProps,E=r!==null?r.memoizedProps:null,c=g.children,O_(p,g)?c=null:E!==null&&O_(p,E)&&(a.flags|=32),a.memoizedState!==null&&(p=My(r,a,gM,null,null,l),yh._currentValue=p),pm(r,a),vn(r,a,c,l),a.child;case 6:return r===null&&qe&&((r=l=dt)&&(l=nO(l,a.pendingProps,Ri),l!==null?(a.stateNode=l,yn=a,dt=null,r=!0):r=!1),r||zs(a)),null;case 13:return mA(r,a,l);case 4:return tn(a,a.stateNode.containerInfo),c=a.pendingProps,r===null?a.child=vo(a,null,c,l):vn(r,a,c,l),a.child;case 11:return sA(r,a,a.type,a.pendingProps,l);case 7:return vn(r,a,a.pendingProps,l),a.child;case 8:return vn(r,a,a.pendingProps.children,l),a.child;case 12:return vn(r,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,qs(a,a.type,c.value),vn(r,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,po(a),p=_n(p),c=c(p),a.flags|=1,vn(r,a,c,l),a.child;case 14:return aA(r,a,a.type,a.pendingProps,l);case 15:return oA(r,a,a.type,a.pendingProps,l);case 19:return gA(r,a,l);case 31:return AM(r,a,l);case 22:return lA(r,a,l,a.pendingProps);case 24:return po(a),c=_n($t),r===null?(p=Ay(),p===null&&(p=lt,g=wy(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),a.memoizedState={parent:c,cache:p},Iy(a),qs(a,$t,p)):((r.lanes&l)!==0&&(Ry(r,a),Xc(a,null,null,l),Yc()),p=r.memoizedState,g=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),qs(a,$t,c)):(c=g.cache,qs(a,$t,c),c!==p.cache&&Ey(a,[$t],l,!0))),vn(r,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function is(r){r.flags|=4}function l_(r,a,l,c,p){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(p&335544128)===p)if(r.stateNode.complete)r.flags|=8192;else if(HA())r.flags|=8192;else throw _o=em,Sy}else r.flags&=-16777217}function _A(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!VS(a))if(HA())r.flags|=8192;else throw _o=em,Sy}function ym(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?bf():536870912,r.lanes|=a,Ql|=a)}function ih(r,a){if(!qe)switch(r.tailMode){case"hidden":a=r.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ft(r){var a=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(a)for(var p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=l,a}function IM(r,a,l){var c=a.pendingProps;switch(gy(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(a),null;case 1:return ft(a),null;case 3:return l=a.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Zr($t),gt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Ol(a)?is(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,_y())),ft(a),null;case 26:var p=a.type,g=a.memoizedState;return r===null?(is(a),g!==null?(ft(a),_A(a,g)):(ft(a),l_(a,p,null,c,l))):g?g!==r.memoizedState?(is(a),ft(a),_A(a,g)):(ft(a),a.flags&=-16777217):(r=r.memoizedProps,r!==c&&is(a),ft(a),l_(a,p,r,c,l)),null;case 27:if(fl(a),l=Me.current,p=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&is(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return ft(a),null}r=_e.current,Ol(a)?Xw(a):(r=SS(p,c,l),a.stateNode=r,is(a))}return ft(a),null;case 5:if(fl(a),p=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==c&&is(a);else{if(!c){if(a.stateNode===null)throw Error(i(166));return ft(a),null}if(g=_e.current,Ol(a))Xw(a);else{var E=Pm(Me.current);switch(g){case 1:g=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=E.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?E.createElement("select",{is:c.is}):E.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?E.createElement(p,{is:c.is}):E.createElement(p)}}g[Ht]=a,g[un]=c;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)g.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=g;e:switch(Tn(g,p,c),p){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&is(a)}}return ft(a),l_(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,l),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==c&&is(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(i(166));if(r=Me.current,Ol(a)){if(r=a.stateNode,l=a.memoizedProps,c=null,p=yn,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[Ht]=a,r=!!(r.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||mS(r.nodeValue,l)),r||zs(a,!0)}else r=Pm(r).createTextNode(c),r[Ht]=a,a.stateNode=r}return ft(a),null;case 31:if(l=a.memoizedState,r===null||r.memoizedState!==null){if(c=Ol(a),l!==null){if(r===null){if(!c)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ht]=a}else fo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ft(a),r=!1}else l=_y(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return a.flags&256?(oi(a),a):(oi(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ft(a),null;case 13:if(c=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=Ol(a),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Ht]=a}else fo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ft(a),p=!1}else p=_y(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(oi(a),a):(oi(a),null)}return oi(a),(a.flags&128)!==0?(a.lanes=l,a):(l=c!==null,r=r!==null&&r.memoizedState!==null,l&&(c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)),l!==r&&l&&(a.child.flags|=8192),ym(a,a.updateQueue),ft(a),null);case 4:return gt(),r===null&&D_(a.stateNode.containerInfo),ft(a),null;case 10:return Zr(a.type),ft(a),null;case 19:if(se(kt),c=a.memoizedState,c===null)return ft(a),null;if(p=(a.flags&128)!==0,g=c.rendering,g===null)if(p)ih(c,!1);else{if(Ct!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(g=rm(r),g!==null){for(a.flags|=128,ih(c,!1),r=g.updateQueue,a.updateQueue=r,ym(a,r),a.subtreeFlags=0,r=l,l=a.child;l!==null;)Kw(l,r),l=l.sibling;return ge(kt,kt.current&1|2),qe&&Xr(a,c.treeForkCount),a.child}r=r.sibling}c.tail!==null&&Vn()>wm&&(a.flags|=128,p=!0,ih(c,!1),a.lanes=4194304)}else{if(!p)if(r=rm(g),r!==null){if(a.flags|=128,p=!0,r=r.updateQueue,a.updateQueue=r,ym(a,r),ih(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!qe)return ft(a),null}else 2*Vn()-c.renderingStartTime>wm&&l!==536870912&&(a.flags|=128,p=!0,ih(c,!1),a.lanes=4194304);c.isBackwards?(g.sibling=a.child,a.child=g):(r=c.last,r!==null?r.sibling=g:a.child=g,c.last=g)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=Vn(),r.sibling=null,l=kt.current,ge(kt,p?l&1|2:l&1),qe&&Xr(a,c.treeForkCount),r):(ft(a),null);case 22:case 23:return oi(a),Ny(),c=a.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(ft(a),a.subtreeFlags&6&&(a.flags|=8192)):ft(a),l=a.updateQueue,l!==null&&ym(a,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),r!==null&&se(go),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),Zr($t),ft(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function RM(r,a){switch(gy(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Zr($t),gt(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return fl(a),null;case 31:if(a.memoizedState!==null){if(oi(a),a.alternate===null)throw Error(i(340));fo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(oi(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));fo()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return se(kt),null;case 4:return gt(),null;case 10:return Zr(a.type),null;case 22:case 23:return oi(a),Ny(),r!==null&&se(go),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return Zr($t),null;case 25:return null;default:return null}}function vA(r,a){switch(gy(a),a.tag){case 3:Zr($t),gt();break;case 26:case 27:case 5:fl(a);break;case 4:gt();break;case 31:a.memoizedState!==null&&oi(a);break;case 13:oi(a);break;case 19:se(kt);break;case 10:Zr(a.type);break;case 22:case 23:oi(a),Ny(),r!==null&&se(go);break;case 24:Zr($t)}}function rh(r,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&r)===r){c=void 0;var g=l.create,E=l.inst;c=g(),E.destroy=c}l=l.next}while(l!==p)}}catch(A){tt(a,a.return,A)}}function Ws(r,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&r)===r){var E=c.inst,A=E.destroy;if(A!==void 0){E.destroy=void 0,p=a;var O=l,Q=A;try{Q()}catch(ee){tt(p,O,ee)}}}c=c.next}while(c!==g)}}catch(ee){tt(a,a.return,ee)}}function TA(r){var a=r.updateQueue;if(a!==null){var l=r.stateNode;try{cb(a,l)}catch(c){tt(r,r.return,c)}}}function EA(r,a,l){l.props=Eo(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(c){tt(r,a,c)}}function sh(r,a){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof l=="function"?r.refCleanup=l(c):l.current=c}}catch(p){tt(r,a,p)}}function Sr(r,a){var l=r.ref,c=r.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){tt(r,a,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){tt(r,a,p)}else l.current=null}function wA(r){var a=r.type,l=r.memoizedProps,c=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){tt(r,r.return,p)}}function u_(r,a,l){try{var c=r.stateNode;WM(c,r.type,l,a),c[un]=a}catch(p){tt(r,r.return,p)}}function bA(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&na(r.type)||r.tag===4}function c_(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||bA(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&na(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function h_(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(r),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=zi));else if(c!==4&&(c===27&&na(r.type)&&(l=r.stateNode,a=null),r=r.child,r!==null))for(h_(r,a,l),r=r.sibling;r!==null;)h_(r,a,l),r=r.sibling}function _m(r,a,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,a?l.insertBefore(r,a):l.appendChild(r);else if(c!==4&&(c===27&&na(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(_m(r,a,l),r=r.sibling;r!==null;)_m(r,a,l),r=r.sibling}function AA(r){var a=r.stateNode,l=r.memoizedProps;try{for(var c=r.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);Tn(a,c,l),a[Ht]=r,a[un]=l}catch(g){tt(r,r.return,g)}}var rs=!1,Yt=!1,d_=!1,SA=typeof WeakSet=="function"?WeakSet:Set,hn=null;function xM(r,a){if(r=r.containerInfo,V_=jm,r=Lw(r),sy(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var E=0,A=-1,O=-1,Q=0,ee=0,ie=r,Y=null;t:for(;;){for(var Z;ie!==l||p!==0&&ie.nodeType!==3||(A=E+p),ie!==g||c!==0&&ie.nodeType!==3||(O=E+c),ie.nodeType===3&&(E+=ie.nodeValue.length),(Z=ie.firstChild)!==null;)Y=ie,ie=Z;for(;;){if(ie===r)break t;if(Y===l&&++Q===p&&(A=E),Y===g&&++ee===c&&(O=E),(Z=ie.nextSibling)!==null)break;ie=Y,Y=ie.parentNode}ie=Z}l=A===-1||O===-1?null:{start:A,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(M_={focusedElem:r,selectionRange:l},jm=!1,hn=a;hn!==null;)if(a=hn,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,hn=r;else for(;hn!==null;){switch(a=hn,g=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)p=r[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,l=a,p=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var ve=Eo(l.type,p);r=c.getSnapshotBeforeUpdate(ve,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(Se){tt(l,l.return,Se)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,l=r.nodeType,l===9)L_(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":L_(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,hn=r;break}hn=a.return}}function IA(r,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:as(r,l),c&4&&rh(5,l);break;case 1:if(as(r,l),c&4)if(r=l.stateNode,a===null)try{r.componentDidMount()}catch(E){tt(l,l.return,E)}else{var p=Eo(l.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(p,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(l,l.return,E)}}c&64&&TA(l),c&512&&sh(l,l.return);break;case 3:if(as(r,l),c&64&&(r=l.updateQueue,r!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{cb(r,a)}catch(E){tt(l,l.return,E)}}break;case 27:a===null&&c&4&&AA(l);case 26:case 5:as(r,l),a===null&&c&4&&wA(l),c&512&&sh(l,l.return);break;case 12:as(r,l);break;case 31:as(r,l),c&4&&CA(r,l);break;case 13:as(r,l),c&4&&DA(r,l),c&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=LM.bind(null,l),iO(r,l))));break;case 22:if(c=l.memoizedState!==null||rs,!c){a=a!==null&&a.memoizedState!==null||Yt,p=rs;var g=Yt;rs=c,(Yt=a)&&!g?os(r,l,(l.subtreeFlags&8772)!==0):as(r,l),rs=p,Yt=g}break;case 30:break;default:as(r,l)}}function RA(r){var a=r.alternate;a!==null&&(r.alternate=null,RA(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&_l(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _t=null,Hn=!1;function ss(r,a,l){for(l=l.child;l!==null;)xA(r,a,l),l=l.sibling}function xA(r,a,l){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Ui,l)}catch{}switch(l.tag){case 26:Yt||Sr(l,a),ss(r,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Yt||Sr(l,a);var c=_t,p=Hn;na(l.type)&&(_t=l.stateNode,Hn=!1),ss(r,a,l),mh(l.stateNode),_t=c,Hn=p;break;case 5:Yt||Sr(l,a);case 6:if(c=_t,p=Hn,_t=null,ss(r,a,l),_t=c,Hn=p,_t!==null)if(Hn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(l.stateNode)}catch(g){tt(l,a,g)}else try{_t.removeChild(l.stateNode)}catch(g){tt(l,a,g)}break;case 18:_t!==null&&(Hn?(r=_t,TS(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),nu(r)):TS(_t,l.stateNode));break;case 4:c=_t,p=Hn,_t=l.stateNode.containerInfo,Hn=!0,ss(r,a,l),_t=c,Hn=p;break;case 0:case 11:case 14:case 15:Ws(2,l,a),Yt||Ws(4,l,a),ss(r,a,l);break;case 1:Yt||(Sr(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&EA(l,a,c)),ss(r,a,l);break;case 21:ss(r,a,l);break;case 22:Yt=(c=Yt)||l.memoizedState!==null,ss(r,a,l),Yt=c;break;default:ss(r,a,l)}}function CA(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{nu(r)}catch(l){tt(a,a.return,l)}}}function DA(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{nu(r)}catch(l){tt(a,a.return,l)}}function CM(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new SA),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new SA),a;default:throw Error(i(435,r.tag))}}function vm(r,a){var l=CM(r);a.forEach(function(c){if(!l.has(c)){l.add(c);var p=UM.bind(null,r,c);c.then(p,p)}})}function Gn(r,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],g=r,E=a,A=E;e:for(;A!==null;){switch(A.tag){case 27:if(na(A.type)){_t=A.stateNode,Hn=!1;break e}break;case 5:_t=A.stateNode,Hn=!1;break e;case 3:case 4:_t=A.stateNode.containerInfo,Hn=!0;break e}A=A.return}if(_t===null)throw Error(i(160));xA(g,E,p),_t=null,Hn=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)NA(a,r),a=a.sibling}var Qi=null;function NA(r,a){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Gn(a,r),Kn(r),c&4&&(Ws(3,r,r.return),rh(3,r),Ws(5,r,r.return));break;case 1:Gn(a,r),Kn(r),c&512&&(Yt||l===null||Sr(l,l.return)),c&64&&rs&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=Qi;if(Gn(a,r),Kn(r),c&512&&(Yt||l===null||Sr(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=r.memoizedState,l===null)if(c===null)if(r.stateNode===null){e:{c=r.type,l=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[hr]||g[Ht]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Tn(g,c,l),g[Ht]=r,Gt(g),c=g;break e;case"link":var E=NS("link","href",p).get(c+(l.href||""));if(E){for(var A=0;A<E.length;A++)if(g=E[A],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(A,1);break t}}g=p.createElement(c),Tn(g,c,l),p.head.appendChild(g);break;case"meta":if(E=NS("meta","content",p).get(c+(l.content||""))){for(A=0;A<E.length;A++)if(g=E[A],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(A,1);break t}}g=p.createElement(c),Tn(g,c,l),p.head.appendChild(g);break;default:throw Error(i(468,c))}g[Ht]=r,Gt(g),c=g}r.stateNode=c}else PS(p,r.type,r.stateNode);else r.stateNode=DS(p,c,r.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?PS(p,r.type,r.stateNode):DS(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&u_(r,r.memoizedProps,l.memoizedProps)}break;case 27:Gn(a,r),Kn(r),c&512&&(Yt||l===null||Sr(l,l.return)),l!==null&&c&4&&u_(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Gn(a,r),Kn(r),c&512&&(Yt||l===null||Sr(l,l.return)),r.flags&32){p=r.stateNode;try{qn(p,"")}catch(ve){tt(r,r.return,ve)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,u_(r,p,l!==null?l.memoizedProps:p)),c&1024&&(d_=!0);break;case 6:if(Gn(a,r),Kn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,l=r.stateNode;try{l.nodeValue=c}catch(ve){tt(r,r.return,ve)}}break;case 3:if(Om=null,p=Qi,Qi=Vm(a.containerInfo),Gn(a,r),Qi=p,Kn(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{nu(a.containerInfo)}catch(ve){tt(r,r.return,ve)}d_&&(d_=!1,PA(r));break;case 4:c=Qi,Qi=Vm(r.stateNode.containerInfo),Gn(a,r),Kn(r),Qi=c;break;case 12:Gn(a,r),Kn(r);break;case 31:Gn(a,r),Kn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,vm(r,c)));break;case 13:Gn(a,r),Kn(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Em=Vn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,vm(r,c)));break;case 22:p=r.memoizedState!==null;var O=l!==null&&l.memoizedState!==null,Q=rs,ee=Yt;if(rs=Q||p,Yt=ee||O,Gn(a,r),Yt=ee,rs=Q,Kn(r),c&8192)e:for(a=r.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||O||rs||Yt||wo(r)),l=null,a=r;;){if(a.tag===5||a.tag===26){if(l===null){O=l=a;try{if(g=O.stateNode,p)E=g.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{A=O.stateNode;var ie=O.memoizedProps.style,Y=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;A.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(ve){tt(O,O.return,ve)}}}else if(a.tag===6){if(l===null){O=a;try{O.stateNode.nodeValue=p?"":O.memoizedProps}catch(ve){tt(O,O.return,ve)}}}else if(a.tag===18){if(l===null){O=a;try{var Z=O.stateNode;p?ES(Z,!0):ES(O.stateNode,!1)}catch(ve){tt(O,O.return,ve)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=r.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,vm(r,l))));break;case 19:Gn(a,r),Kn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,vm(r,c)));break;case 30:break;case 21:break;default:Gn(a,r),Kn(r)}}function Kn(r){var a=r.flags;if(a&2){try{for(var l,c=r.return;c!==null;){if(bA(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var p=l.stateNode,g=c_(r);_m(r,g,p);break;case 5:var E=l.stateNode;l.flags&32&&(qn(E,""),l.flags&=-33);var A=c_(r);_m(r,A,E);break;case 3:case 4:var O=l.stateNode.containerInfo,Q=c_(r);h_(r,Q,O);break;default:throw Error(i(161))}}catch(ee){tt(r,r.return,ee)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function PA(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;PA(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function as(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)IA(r,a.alternate,a),a=a.sibling}function wo(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:Ws(4,a,a.return),wo(a);break;case 1:Sr(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&EA(a,a.return,l),wo(a);break;case 27:mh(a.stateNode);case 26:case 5:Sr(a,a.return),wo(a);break;case 22:a.memoizedState===null&&wo(a);break;case 30:wo(a);break;default:wo(a)}r=r.sibling}}function os(r,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=r,g=a,E=g.flags;switch(g.tag){case 0:case 11:case 15:os(p,g,l),rh(4,g);break;case 1:if(os(p,g,l),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Q){tt(c,c.return,Q)}if(c=g,p=c.updateQueue,p!==null){var A=c.stateNode;try{var O=p.shared.hiddenCallbacks;if(O!==null)for(p.shared.hiddenCallbacks=null,p=0;p<O.length;p++)ub(O[p],A)}catch(Q){tt(c,c.return,Q)}}l&&E&64&&TA(g),sh(g,g.return);break;case 27:AA(g);case 26:case 5:os(p,g,l),l&&c===null&&E&4&&wA(g),sh(g,g.return);break;case 12:os(p,g,l);break;case 31:os(p,g,l),l&&E&4&&CA(p,g);break;case 13:os(p,g,l),l&&E&4&&DA(p,g);break;case 22:g.memoizedState===null&&os(p,g,l),sh(g,g.return);break;case 30:break;default:os(p,g,l)}a=a.sibling}}function f_(r,a){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Gc(l))}function m_(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Gc(r))}function Wi(r,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)VA(r,a,l,c),a=a.sibling}function VA(r,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(r,a,l,c),p&2048&&rh(9,a);break;case 1:Wi(r,a,l,c);break;case 3:Wi(r,a,l,c),p&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Gc(r)));break;case 12:if(p&2048){Wi(r,a,l,c),r=a.stateNode;try{var g=a.memoizedProps,E=g.id,A=g.onPostCommit;typeof A=="function"&&A(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(O){tt(a,a.return,O)}}else Wi(r,a,l,c);break;case 31:Wi(r,a,l,c);break;case 13:Wi(r,a,l,c);break;case 23:break;case 22:g=a.stateNode,E=a.alternate,a.memoizedState!==null?g._visibility&2?Wi(r,a,l,c):ah(r,a):g._visibility&2?Wi(r,a,l,c):(g._visibility|=2,Gl(r,a,l,c,(a.subtreeFlags&10256)!==0||!1)),p&2048&&f_(E,a);break;case 24:Wi(r,a,l,c),p&2048&&m_(a.alternate,a);break;default:Wi(r,a,l,c)}}function Gl(r,a,l,c,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var g=r,E=a,A=l,O=c,Q=E.flags;switch(E.tag){case 0:case 11:case 15:Gl(g,E,A,O,p),rh(8,E);break;case 23:break;case 22:var ee=E.stateNode;E.memoizedState!==null?ee._visibility&2?Gl(g,E,A,O,p):ah(g,E):(ee._visibility|=2,Gl(g,E,A,O,p)),p&&Q&2048&&f_(E.alternate,E);break;case 24:Gl(g,E,A,O,p),p&&Q&2048&&m_(E.alternate,E);break;default:Gl(g,E,A,O,p)}a=a.sibling}}function ah(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=r,c=a,p=c.flags;switch(c.tag){case 22:ah(l,c),p&2048&&f_(c.alternate,c);break;case 24:ah(l,c),p&2048&&m_(c.alternate,c);break;default:ah(l,c)}a=a.sibling}}var oh=8192;function Kl(r,a,l){if(r.subtreeFlags&oh)for(r=r.child;r!==null;)MA(r,a,l),r=r.sibling}function MA(r,a,l){switch(r.tag){case 26:Kl(r,a,l),r.flags&oh&&r.memoizedState!==null&&pO(l,Qi,r.memoizedState,r.memoizedProps);break;case 5:Kl(r,a,l);break;case 3:case 4:var c=Qi;Qi=Vm(r.stateNode.containerInfo),Kl(r,a,l),Qi=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=oh,oh=16777216,Kl(r,a,l),oh=c):Kl(r,a,l));break;default:Kl(r,a,l)}}function OA(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function lh(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];hn=c,LA(c,r)}OA(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)kA(r),r=r.sibling}function kA(r){switch(r.tag){case 0:case 11:case 15:lh(r),r.flags&2048&&Ws(9,r,r.return);break;case 3:lh(r);break;case 12:lh(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,Tm(r)):lh(r);break;default:lh(r)}}function Tm(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];hn=c,LA(c,r)}OA(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:Ws(8,a,a.return),Tm(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Tm(a));break;default:Tm(a)}r=r.sibling}}function LA(r,a){for(;hn!==null;){var l=hn;switch(l.tag){case 0:case 11:case 15:Ws(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Gc(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,hn=c;else e:for(l=r;hn!==null;){c=hn;var p=c.sibling,g=c.return;if(RA(c),c===l){hn=null;break e}if(p!==null){p.return=g,hn=p;break e}hn=g}}}var DM={getCacheForType:function(r){var a=_n($t),l=a.data.get(r);return l===void 0&&(l=r(),a.data.set(r,l)),l},cacheSignal:function(){return _n($t).controller.signal}},NM=typeof WeakMap=="function"?WeakMap:Map,Xe=0,lt=null,ke=null,Be=0,et=0,li=null,Ys=!1,$l=!1,p_=!1,ls=0,Ct=0,Xs=0,bo=0,g_=0,ui=0,Ql=0,uh=null,$n=null,y_=!1,Em=0,UA=0,wm=1/0,bm=null,Js=null,rn=0,Zs=null,Wl=null,us=0,__=0,v_=null,jA=null,ch=0,T_=null;function ci(){return(Xe&2)!==0&&Be!==0?Be&-Be:K.T!==null?I_():Af()}function BA(){if(ui===0)if((Be&536870912)===0||qe){var r=Wa;Wa<<=1,(Wa&3932160)===0&&(Wa=262144),ui=r}else ui=536870912;return r=ai.current,r!==null&&(r.flags|=32),ui}function Qn(r,a,l){(r===lt&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(Yl(r,0),ea(r,Be,ui,!1)),Ya(r,l),((Xe&2)===0||r!==lt)&&(r===lt&&((Xe&2)===0&&(bo|=l),Ct===4&&ea(r,Be,ui,!1)),Ir(r))}function FA(r,a,l){if((Xe&6)!==0)throw Error(i(327));var c=!l&&(a&127)===0&&(a&r.expiredLanes)===0||ji(r,a),p=c?MM(r,a):w_(r,a,!0),g=c;do{if(p===0){$l&&!c&&ea(r,a,0,!1);break}else{if(l=r.current.alternate,g&&!PM(l)){p=w_(r,a,!1),g=!1;continue}if(p===2){if(g=a,r.errorRecoveryDisabledLanes&g)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var A=r;p=uh;var O=A.current.memoizedState.isDehydrated;if(O&&(Yl(A,E).flags|=256),E=w_(A,E,!1),E!==2){if(p_&&!O){A.errorRecoveryDisabledLanes|=g,bo|=g,p=4;break e}g=$n,$n=p,g!==null&&($n===null?$n=g:$n.push.apply($n,g))}p=E}if(g=!1,p!==2)continue}}if(p===1){Yl(r,0),ea(r,a,0,!0);break}e:{switch(c=r,g=p,g){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ea(c,a,ui,!Ys);break e;case 2:$n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(p=Em+300-Vn(),10<p)){if(ea(c,a,ui,!Ys),lr(c,0,!0)!==0)break e;us=a,c.timeoutHandle=_S(zA.bind(null,c,l,$n,bm,y_,a,ui,bo,Ql,Ys,g,"Throttled",-0,0),p);break e}zA(c,l,$n,bm,y_,a,ui,bo,Ql,Ys,g,null,-0,0)}}break}while(!0);Ir(r)}function zA(r,a,l,c,p,g,E,A,O,Q,ee,ie,Y,Z){if(r.timeoutHandle=-1,ie=a.subtreeFlags,ie&8192||(ie&16785408)===16785408){ie={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zi},MA(a,g,ie);var ve=(g&62914560)===g?Em-Vn():(g&4194048)===g?UA-Vn():0;if(ve=gO(ie,ve),ve!==null){us=g,r.cancelPendingCommit=ve(YA.bind(null,r,a,g,l,c,p,E,A,O,ee,ie,null,Y,Z)),ea(r,g,E,!Q);return}}YA(r,a,g,l,c,p,E,A,O)}function PM(r){for(var a=r;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],g=p.getSnapshot;p=p.value;try{if(!ri(g(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ea(r,a,l,c){a&=~g_,a&=~bo,r.suspendedLanes|=a,r.pingedLanes&=~a,c&&(r.warmLanes|=a),c=r.expirationTimes;for(var p=a;0<p;){var g=31-Mt(p),E=1<<g;c[g]=-1,p&=~E}l!==0&&Xa(r,l,a)}function Am(){return(Xe&6)===0?(hh(0),!1):!0}function E_(){if(ke!==null){if(et===0)var r=ke.return;else r=ke,Jr=mo=null,Ly(r),Bl=null,$c=0,r=ke;for(;r!==null;)vA(r.alternate,r),r=r.return;ke=null}}function Yl(r,a){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,JM(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),us=0,E_(),lt=r,ke=l=Yr(r.current,null),Be=a,et=0,li=null,Ys=!1,$l=ji(r,a),p_=!1,Ql=ui=g_=bo=Xs=Ct=0,$n=uh=null,y_=!1,(a&8)!==0&&(a|=a&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=a;0<c;){var p=31-Mt(c),g=1<<p;a|=r[p],c&=~g}return ls=a,Gf(),l}function qA(r,a){Pe=null,K.H=th,a===jl||a===Zf?(a=sb(),et=3):a===Sy?(a=sb(),et=4):et=a===Zy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,li=a,ke===null&&(Ct=1,fm(r,Ai(a,r.current)))}function HA(){var r=ai.current;return r===null?!0:(Be&4194048)===Be?xi===null:(Be&62914560)===Be||(Be&536870912)!==0?r===xi:!1}function GA(){var r=K.H;return K.H=th,r===null?th:r}function KA(){var r=K.A;return K.A=DM,r}function Sm(){Ct=4,Ys||(Be&4194048)!==Be&&ai.current!==null||($l=!0),(Xs&134217727)===0&&(bo&134217727)===0||lt===null||ea(lt,Be,ui,!1)}function w_(r,a,l){var c=Xe;Xe|=2;var p=GA(),g=KA();(lt!==r||Be!==a)&&(bm=null,Yl(r,a)),a=!1;var E=Ct;e:do try{if(et!==0&&ke!==null){var A=ke,O=li;switch(et){case 8:E_(),E=6;break e;case 3:case 2:case 9:case 6:ai.current===null&&(a=!0);var Q=et;if(et=0,li=null,Xl(r,A,O,Q),l&&$l){E=0;break e}break;default:Q=et,et=0,li=null,Xl(r,A,O,Q)}}VM(),E=Ct;break}catch(ee){qA(r,ee)}while(!0);return a&&r.shellSuspendCounter++,Jr=mo=null,Xe=c,K.H=p,K.A=g,ke===null&&(lt=null,Be=0,Gf()),E}function VM(){for(;ke!==null;)$A(ke)}function MM(r,a){var l=Xe;Xe|=2;var c=GA(),p=KA();lt!==r||Be!==a?(bm=null,wm=Vn()+500,Yl(r,a)):$l=ji(r,a);e:do try{if(et!==0&&ke!==null){a=ke;var g=li;t:switch(et){case 1:et=0,li=null,Xl(r,a,g,1);break;case 2:case 9:if(ib(g)){et=0,li=null,QA(a);break}a=function(){et!==2&&et!==9||lt!==r||(et=7),Ir(r)},g.then(a,a);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:ib(g)?(et=0,li=null,QA(a)):(et=0,li=null,Xl(r,a,g,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var A=ke;if(E?VS(E):A.stateNode.complete){et=0,li=null;var O=A.sibling;if(O!==null)ke=O;else{var Q=A.return;Q!==null?(ke=Q,Im(Q)):ke=null}break t}}et=0,li=null,Xl(r,a,g,5);break;case 6:et=0,li=null,Xl(r,a,g,6);break;case 8:E_(),Ct=6;break e;default:throw Error(i(462))}}OM();break}catch(ee){qA(r,ee)}while(!0);return Jr=mo=null,K.H=c,K.A=p,Xe=l,ke!==null?0:(lt=null,Be=0,Gf(),Ct)}function OM(){for(;ke!==null&&!Jg();)$A(ke)}function $A(r){var a=yA(r.alternate,r,ls);r.memoizedProps=r.pendingProps,a===null?Im(r):ke=a}function QA(r){var a=r,l=a.alternate;switch(a.tag){case 15:case 0:a=hA(l,a,a.pendingProps,a.type,void 0,Be);break;case 11:a=hA(l,a,a.pendingProps,a.type.render,a.ref,Be);break;case 5:Ly(a);default:vA(l,a),a=ke=Kw(a,ls),a=yA(l,a,ls)}r.memoizedProps=r.pendingProps,a===null?Im(r):ke=a}function Xl(r,a,l,c){Jr=mo=null,Ly(a),Bl=null,$c=0;var p=a.return;try{if(bM(r,p,a,l,Be)){Ct=1,fm(r,Ai(l,r.current)),ke=null;return}}catch(g){if(p!==null)throw ke=p,g;Ct=1,fm(r,Ai(l,r.current)),ke=null;return}a.flags&32768?(qe||c===1?r=!0:$l||(Be&536870912)!==0?r=!1:(Ys=r=!0,(c===2||c===9||c===3||c===6)&&(c=ai.current,c!==null&&c.tag===13&&(c.flags|=16384))),WA(a,r)):Im(a)}function Im(r){var a=r;do{if((a.flags&32768)!==0){WA(a,Ys);return}r=a.return;var l=IM(a.alternate,a,ls);if(l!==null){ke=l;return}if(a=a.sibling,a!==null){ke=a;return}ke=a=r}while(a!==null);Ct===0&&(Ct=5)}function WA(r,a){do{var l=RM(r.alternate,r);if(l!==null){l.flags&=32767,ke=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(r=r.sibling,r!==null)){ke=r;return}ke=r=l}while(r!==null);Ct=6,ke=null}function YA(r,a,l,c,p,g,E,A,O){r.cancelPendingCommit=null;do Rm();while(rn!==0);if((Xe&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(g=a.lanes|a.childLanes,g|=cy,ty(r,l,g,E,A,O),r===lt&&(ke=lt=null,Be=0),Wl=a,Zs=r,us=l,__=g,v_=p,jA=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,jM(Ds,function(){return tS(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,p=re.p,re.p=2,E=Xe,Xe|=4;try{xM(r,a,l)}finally{Xe=E,re.p=p,K.T=c}}rn=1,XA(),JA(),ZA()}}function XA(){if(rn===1){rn=0;var r=Zs,a=Wl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=K.T,K.T=null;var c=re.p;re.p=2;var p=Xe;Xe|=4;try{NA(a,r);var g=M_,E=Lw(r.containerInfo),A=g.focusedElem,O=g.selectionRange;if(E!==A&&A&&A.ownerDocument&&kw(A.ownerDocument.documentElement,A)){if(O!==null&&sy(A)){var Q=O.start,ee=O.end;if(ee===void 0&&(ee=Q),"selectionStart"in A)A.selectionStart=Q,A.selectionEnd=Math.min(ee,A.value.length);else{var ie=A.ownerDocument||document,Y=ie&&ie.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),ve=A.textContent.length,Se=Math.min(O.start,ve),ot=O.end===void 0?Se:Math.min(O.end,ve);!Z.extend&&Se>ot&&(E=ot,ot=Se,Se=E);var q=Ow(A,Se),B=Ow(A,ot);if(q&&B&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==B.node||Z.focusOffset!==B.offset)){var $=ie.createRange();$.setStart(q.node,q.offset),Z.removeAllRanges(),Se>ot?(Z.addRange($),Z.extend(B.node,B.offset)):($.setEnd(B.node,B.offset),Z.addRange($))}}}}for(ie=[],Z=A;Z=Z.parentNode;)Z.nodeType===1&&ie.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<ie.length;A++){var te=ie[A];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}jm=!!V_,M_=V_=null}finally{Xe=p,re.p=c,K.T=l}}r.current=a,rn=2}}function JA(){if(rn===2){rn=0;var r=Zs,a=Wl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=K.T,K.T=null;var c=re.p;re.p=2;var p=Xe;Xe|=4;try{IA(r,a.alternate,a)}finally{Xe=p,re.p=c,K.T=l}}rn=3}}function ZA(){if(rn===4||rn===3){rn=0,yf();var r=Zs,a=Wl,l=us,c=jA;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?rn=5:(rn=0,Wl=Zs=null,eS(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(Js=null),Kr(l),a=a.stateNode,pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Ui,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=K.T,p=re.p,re.p=2,K.T=null;try{for(var g=r.onRecoverableError,E=0;E<c.length;E++){var A=c[E];g(A.value,{componentStack:A.stack})}}finally{K.T=a,re.p=p}}(us&3)!==0&&Rm(),Ir(r),p=r.pendingLanes,(l&261930)!==0&&(p&42)!==0?r===T_?ch++:(ch=0,T_=r):ch=0,hh(0)}}function eS(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Gc(a)))}function Rm(){return XA(),JA(),ZA(),tS()}function tS(){if(rn!==5)return!1;var r=Zs,a=__;__=0;var l=Kr(us),c=K.T,p=re.p;try{re.p=32>l?32:l,K.T=null,l=v_,v_=null;var g=Zs,E=us;if(rn=0,Wl=Zs=null,us=0,(Xe&6)!==0)throw Error(i(331));var A=Xe;if(Xe|=4,kA(g.current),VA(g,g.current,E,l),Xe=A,hh(0,!1),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Ui,g)}catch{}return!0}finally{re.p=p,K.T=c,eS(r,a)}}function nS(r,a,l){a=Ai(l,a),a=Jy(r.stateNode,a,2),r=Ks(r,a,2),r!==null&&(Ya(r,2),Ir(r))}function tt(r,a,l){if(r.tag===3)nS(r,r,l);else for(;a!==null;){if(a.tag===3){nS(a,r,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Js===null||!Js.has(c))){r=Ai(l,r),l=iA(2),c=Ks(a,l,2),c!==null&&(rA(l,c,a,r),Ya(c,2),Ir(c));break}}a=a.return}}function b_(r,a,l){var c=r.pingCache;if(c===null){c=r.pingCache=new NM;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(p_=!0,p.add(l),r=kM.bind(null,r,a,l),a.then(r,r))}function kM(r,a,l){var c=r.pingCache;c!==null&&c.delete(a),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,lt===r&&(Be&l)===l&&(Ct===4||Ct===3&&(Be&62914560)===Be&&300>Vn()-Em?(Xe&2)===0&&Yl(r,0):g_|=l,Ql===Be&&(Ql=0)),Ir(r)}function iS(r,a){a===0&&(a=bf()),r=co(r,a),r!==null&&(Ya(r,a),Ir(r))}function LM(r){var a=r.memoizedState,l=0;a!==null&&(l=a.retryLane),iS(r,l)}function UM(r,a){var l=0;switch(r.tag){case 31:case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(a),iS(r,l)}function jM(r,a){return nn(r,a)}var xm=null,Jl=null,A_=!1,Cm=!1,S_=!1,ta=0;function Ir(r){r!==Jl&&r.next===null&&(Jl===null?xm=Jl=r:Jl=Jl.next=r),Cm=!0,A_||(A_=!0,FM())}function hh(r,a){if(!S_&&Cm){S_=!0;do for(var l=!1,c=xm;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var E=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-Mt(42|r)+1)-1,g&=p&~(E&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,oS(c,g))}else g=Be,g=lr(c,c===lt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||ji(c,g)||(l=!0,oS(c,g));c=c.next}while(l);S_=!1}}function BM(){rS()}function rS(){Cm=A_=!1;var r=0;ta!==0&&XM()&&(r=ta);for(var a=Vn(),l=null,c=xm;c!==null;){var p=c.next,g=sS(c,a);g===0?(c.next=null,l===null?xm=p:l.next=p,p===null&&(Jl=l)):(l=c,(r!==0||(g&3)!==0)&&(Cm=!0)),c=p}rn!==0&&rn!==5||hh(r),ta!==0&&(ta=0)}function sS(r,a){for(var l=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var E=31-Mt(g),A=1<<E,O=p[E];O===-1?((A&l)===0||(A&c)!==0)&&(p[E]=ey(A,a)):O<=a&&(r.expiredLanes|=A),g&=~A}if(a=lt,l=Be,l=lr(r,r===a?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,l===0||r===a&&(et===2||et===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Cs(c),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||ji(r,l)){if(a=l&-l,a===r.callbackPriority)return a;switch(c!==null&&Cs(c),Kr(l)){case 2:case 8:l=Ec;break;case 32:l=Ds;break;case 268435456:l=_f;break;default:l=Ds}return c=aS.bind(null,r),l=nn(l,c),r.callbackPriority=a,r.callbackNode=l,a}return c!==null&&c!==null&&Cs(c),r.callbackPriority=2,r.callbackNode=null,2}function aS(r,a){if(rn!==0&&rn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(Rm()&&r.callbackNode!==l)return null;var c=Be;return c=lr(r,r===lt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(FA(r,c,a),sS(r,Vn()),r.callbackNode!=null&&r.callbackNode===l?aS.bind(null,r):null)}function oS(r,a){if(Rm())return null;FA(r,a,!0)}function FM(){ZM(function(){(Xe&6)!==0?nn(Tc,BM):rS()})}function I_(){if(ta===0){var r=Ll;r===0&&(r=ar,ar<<=1,(ar&261888)===0&&(ar=256)),ta=r}return ta}function lS(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:wl(""+r)}function uS(r,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,r.id&&l.setAttribute("form",r.id),a.parentNode.insertBefore(l,a),r=new FormData(r),l.parentNode.removeChild(l),r}function zM(r,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var g=lS((p[un]||null).action),E=c.submitter;E&&(a=(a=E[un]||null)?lS(a.formAction):E.getAttribute("formAction"),a!==null&&(g=a,E=null));var A=new vr("action","action",null,c,p);r.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ta!==0){var O=E?uS(p,E):new FormData(p);Ky(l,{pending:!0,data:O,method:p.method,action:g},null,O)}}else typeof g=="function"&&(A.preventDefault(),O=E?uS(p,E):new FormData(p),Ky(l,{pending:!0,data:O,method:p.method,action:g},g,O))},currentTarget:p}]})}}for(var R_=0;R_<uy.length;R_++){var x_=uy[R_],qM=x_.toLowerCase(),HM=x_[0].toUpperCase()+x_.slice(1);$i(qM,"on"+HM)}$i(Bw,"onAnimationEnd"),$i(Fw,"onAnimationIteration"),$i(zw,"onAnimationStart"),$i("dblclick","onDoubleClick"),$i("focusin","onFocus"),$i("focusout","onBlur"),$i(aM,"onTransitionRun"),$i(oM,"onTransitionStart"),$i(lM,"onTransitionCancel"),$i(qw,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dh));function cS(r,a){a=(a&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],p=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var E=c.length-1;0<=E;E--){var A=c[E],O=A.instance,Q=A.currentTarget;if(A=A.listener,O!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=Q;try{g(p)}catch(ee){Hf(ee)}p.currentTarget=null,g=O}else for(E=0;E<c.length;E++){if(A=c[E],O=A.instance,Q=A.currentTarget,A=A.listener,O!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=Q;try{g(p)}catch(ee){Hf(ee)}p.currentTarget=null,g=O}}}}function Le(r,a){var l=a[yl];l===void 0&&(l=a[yl]=new Set);var c=r+"__bubble";l.has(c)||(hS(a,r,2,!1),l.add(c))}function C_(r,a,l){var c=0;a&&(c|=4),hS(l,r,c,a)}var Dm="_reactListening"+Math.random().toString(36).slice(2);function D_(r){if(!r[Dm]){r[Dm]=!0,Ac.forEach(function(l){l!=="selectionchange"&&(GM.has(l)||C_(l,!1,r),C_(l,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Dm]||(a[Dm]=!0,C_("selectionchange",!1,a))}}function hS(r,a,l,c){switch(BS(a)){case 2:var p=vO;break;case 8:p=TO;break;default:p=G_}l=p.bind(null,a,l,r),p=void 0,!no||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(a,l,{capture:!0,passive:p}):r.addEventListener(a,l,!0):p!==void 0?r.addEventListener(a,l,{passive:p}):r.addEventListener(a,l,!1)}function N_(r,a,l,c,p){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var A=c.stateNode.containerInfo;if(A===p)break;if(E===4)for(E=c.return;E!==null;){var O=E.tag;if((O===3||O===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;A!==null;){if(E=dr(A),E===null)return;if(O=E.tag,O===5||O===6||O===26||O===27){c=g=E;continue e}A=A.parentNode}}c=c.return}ks(function(){var Q=g,ee=Ti(l),ie=[];e:{var Y=Hw.get(r);if(Y!==void 0){var Z=vr,ve=r;switch(r){case"keypress":if(ro(l)===0)break e;case"keydown":case"keyup":Z=Ff;break;case"focusin":ve="focus",Z=ao;break;case"focusout":ve="blur",Z=ao;break;case"beforeblur":case"afterblur":Z=ao;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=v;break;case Bw:case Fw:case zw:Z=Mf;break;case qw:Z=R;break;case"scroll":case"scrollend":Z=kc;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=Of;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=Wr;break;case"toggle":case"beforetoggle":Z=Ne}var Se=(a&4)!==0,ot=!Se&&(r==="scroll"||r==="scrollend"),q=Se?Y!==null?Y+"Capture":null:Y;Se=[];for(var B=Q,$;B!==null;){var te=B;if($=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||$===null||q===null||(te=qi(B,q),te!=null&&Se.push(fh(B,te,$))),ot)break;B=B.return}0<Se.length&&(Y=new Z(Y,ve,null,l,ee),ie.push({event:Y,listeners:Se}))}}if((a&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",Z=r==="mouseout"||r==="pointerout",Y&&l!==Vc&&(ve=l.relatedTarget||l.fromElement)&&(dr(ve)||ve[cr]))break e;if((Z||Y)&&(Y=ee.window===ee?ee:(Y=ee.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(ve=l.relatedTarget||l.toElement,Z=Q,ve=ve?dr(ve):null,ve!==null&&(ot=o(ve),Se=ve.tag,ve!==ot||Se!==5&&Se!==27&&Se!==6)&&(ve=null)):(Z=null,ve=Q),Z!==ve)){if(Se=Lc,te="onMouseLeave",q="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(Se=Wr,te="onPointerLeave",q="onPointerEnter",B="pointer"),ot=Z==null?Y:ni(Z),$=ve==null?Y:ni(ve),Y=new Se(te,B+"leave",Z,l,ee),Y.target=ot,Y.relatedTarget=$,te=null,dr(ee)===Q&&(Se=new Se(q,B+"enter",ve,l,ee),Se.target=$,Se.relatedTarget=ot,te=Se),ot=te,Z&&ve)t:{for(Se=KM,q=Z,B=ve,$=0,te=q;te;te=Se(te))$++;te=0;for(var be=B;be;be=Se(be))te++;for(;0<$-te;)q=Se(q),$--;for(;0<te-$;)B=Se(B),te--;for(;$--;){if(q===B||B!==null&&q===B.alternate){Se=q;break t}q=Se(q),B=Se(B)}Se=null}else Se=null;Z!==null&&dS(ie,Y,Z,Se,!1),ve!==null&&ot!==null&&dS(ie,ot,ve,Se,!0)}}e:{if(Y=Q?ni(Q):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var $e=Cw;else if(Rw(Y))if(Dw)$e=iM;else{$e=tM;var Ee=eM}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?Q&&El(Q.elementType)&&($e=Cw):$e=nM;if($e&&($e=$e(r,Q))){xw(ie,$e,l,ee);break e}Ee&&Ee(r,Y,Q),r==="focusout"&&Q&&Y.type==="number"&&Q.memoizedProps.value!=null&&Dc(Y,"number",Y.value)}switch(Ee=Q?ni(Q):window,r){case"focusin":(Rw(Ee)||Ee.contentEditable==="true")&&(Cl=Ee,ay=Q,zc=null);break;case"focusout":zc=ay=Cl=null;break;case"mousedown":oy=!0;break;case"contextmenu":case"mouseup":case"dragend":oy=!1,Uw(ie,l,ee);break;case"selectionchange":if(sM)break;case"keydown":case"keyup":Uw(ie,l,ee)}var Oe;if(Ye)e:{switch(r){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else xl?oo(r,l)&&(Fe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(wr&&l.locale!=="ko"&&(xl||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&xl&&(Oe=Oc()):(_r=ee,Mc="value"in _r?_r.value:_r.textContent,xl=!0)),Ee=Nm(Q,Fe),0<Ee.length&&(Fe=new Er(Fe,r,null,l,ee),ie.push({event:Fe,listeners:Ee}),Oe?Fe.data=Oe:(Oe=Rl(l),Oe!==null&&(Fe.data=Oe)))),(Oe=wi?YV(r,l):XV(r,l))&&(Fe=Nm(Q,"onBeforeInput"),0<Fe.length&&(Ee=new Er("onBeforeInput","beforeinput",null,l,ee),ie.push({event:Ee,listeners:Fe}),Ee.data=Oe)),zM(ie,r,Q,l,ee)}cS(ie,a)})}function fh(r,a,l){return{instance:r,listener:a,currentTarget:l}}function Nm(r,a){for(var l=a+"Capture",c=[];r!==null;){var p=r,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=qi(r,l),p!=null&&c.unshift(fh(r,p,g)),p=qi(r,a),p!=null&&c.push(fh(r,p,g))),r.tag===3)return c;r=r.return}return[]}function KM(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function dS(r,a,l,c,p){for(var g=a._reactName,E=[];l!==null&&l!==c;){var A=l,O=A.alternate,Q=A.stateNode;if(A=A.tag,O!==null&&O===c)break;A!==5&&A!==26&&A!==27||Q===null||(O=Q,p?(Q=qi(l,g),Q!=null&&E.unshift(fh(l,Q,O))):p||(Q=qi(l,g),Q!=null&&E.push(fh(l,Q,O)))),l=l.return}E.length!==0&&r.push({event:a,listeners:E})}var $M=/\r\n?/g,QM=/\u0000|\uFFFD/g;function fS(r){return(typeof r=="string"?r:""+r).replace($M,`
`).replace(QM,"")}function mS(r,a){return a=fS(a),fS(r)===a}function at(r,a,l,c,p,g){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||qn(r,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&qn(r,""+c);break;case"className":ii(r,"class",c);break;case"tabIndex":ii(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ii(r,l,c);break;case"style":Pc(r,c,g);break;case"data":if(a!=="object"){ii(r,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){r.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=wl(""+c),r.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&at(r,a,"name",p.name,p,null),at(r,a,"formEncType",p.formEncType,p,null),at(r,a,"formMethod",p.formMethod,p,null),at(r,a,"formTarget",p.formTarget,p,null)):(at(r,a,"encType",p.encType,p,null),at(r,a,"method",p.method,p,null),at(r,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(l);break}c=wl(""+c),r.setAttribute(l,c);break;case"onClick":c!=null&&(r.onclick=zi);break;case"onScroll":c!=null&&Le("scroll",r);break;case"onScrollEnd":c!=null&&Le("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}l=wl(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""+c):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":c===!0?r.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(l,c):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(l,c):r.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(l):r.setAttribute(l,c);break;case"popover":Le("beforetoggle",r),Le("toggle",r),vl(r,"popover",c);break;case"xlinkActuate":Kt(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Kt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Kt(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Kt(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Kt(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Kt(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Kt(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":vl(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Nf.get(l)||l,vl(r,l,c))}}function P_(r,a,l,c,p,g){switch(l){case"style":Pc(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof c=="string"?qn(r,c):(typeof c=="number"||typeof c=="bigint")&&qn(r,""+c);break;case"onScroll":c!=null&&Le("scroll",r);break;case"onScrollEnd":c!=null&&Le("scrollend",r);break;case"onClick":c!=null&&(r.onclick=zi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),g=r[un]||null,g=g!=null?g[l]:null,typeof g=="function"&&r.removeEventListener(a,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(a,c,p);break e}l in r?r[l]=c:c===!0?r.setAttribute(l,""):vl(r,l,c)}}}function Tn(r,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",r),Le("load",r);var c=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var E=l[g];if(E!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:at(r,a,g,E,l,null)}}p&&at(r,a,"srcSet",l.srcSet,l,null),c&&at(r,a,"src",l.src,l,null);return;case"input":Le("invalid",r);var A=g=E=p=null,O=null,Q=null;for(c in l)if(l.hasOwnProperty(c)){var ee=l[c];if(ee!=null)switch(c){case"name":p=ee;break;case"type":E=ee;break;case"checked":O=ee;break;case"defaultChecked":Q=ee;break;case"value":g=ee;break;case"defaultValue":A=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,a));break;default:at(r,a,c,ee,l,null)}}xf(r,g,A,O,Q,E,p,!1);return;case"select":Le("invalid",r),c=E=g=null;for(p in l)if(l.hasOwnProperty(p)&&(A=l[p],A!=null))switch(p){case"value":g=A;break;case"defaultValue":E=A;break;case"multiple":c=A;default:at(r,a,p,A,l,null)}a=g,l=E,r.multiple=!!c,a!=null?Ps(r,!!c,a,!1):l!=null&&Ps(r,!!c,l,!0);return;case"textarea":Le("invalid",r),g=p=c=null;for(E in l)if(l.hasOwnProperty(E)&&(A=l[E],A!=null))switch(E){case"value":c=A;break;case"defaultValue":p=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:at(r,a,E,A,l,null)}Vs(r,c,p,g);return;case"option":for(O in l)if(l.hasOwnProperty(O)&&(c=l[O],c!=null))switch(O){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:at(r,a,O,c,l,null)}return;case"dialog":Le("beforetoggle",r),Le("toggle",r),Le("cancel",r),Le("close",r);break;case"iframe":case"object":Le("load",r);break;case"video":case"audio":for(c=0;c<dh.length;c++)Le(dh[c],r);break;case"image":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"embed":case"source":case"link":Le("error",r),Le("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in l)if(l.hasOwnProperty(Q)&&(c=l[Q],c!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:at(r,a,Q,c,l,null)}return;default:if(El(a)){for(ee in l)l.hasOwnProperty(ee)&&(c=l[ee],c!==void 0&&P_(r,a,ee,c,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(c=l[A],c!=null&&at(r,a,A,c,l,null))}function WM(r,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,E=null,A=null,O=null,Q=null,ee=null;for(Z in l){var ie=l[Z];if(l.hasOwnProperty(Z)&&ie!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":O=ie;default:c.hasOwnProperty(Z)||at(r,a,Z,null,c,ie)}}for(var Y in c){var Z=c[Y];if(ie=l[Y],c.hasOwnProperty(Y)&&(Z!=null||ie!=null))switch(Y){case"type":g=Z;break;case"name":p=Z;break;case"checked":Q=Z;break;case"defaultChecked":ee=Z;break;case"value":E=Z;break;case"defaultValue":A=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Z!==ie&&at(r,a,Y,Z,c,ie)}}Tl(r,E,A,O,Q,ee,g,p);return;case"select":Z=E=A=Y=null;for(g in l)if(O=l[g],l.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":Z=O;default:c.hasOwnProperty(g)||at(r,a,g,null,c,O)}for(p in c)if(g=c[p],O=l[p],c.hasOwnProperty(p)&&(g!=null||O!=null))switch(p){case"value":Y=g;break;case"defaultValue":A=g;break;case"multiple":E=g;default:g!==O&&at(r,a,p,g,c,O)}a=A,l=E,c=Z,Y!=null?Ps(r,!!l,Y,!1):!!c!=!!l&&(a!=null?Ps(r,!!l,a,!0):Ps(r,!!l,l?[]:"",!1));return;case"textarea":Z=Y=null;for(A in l)if(p=l[A],l.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:at(r,a,A,null,c,p)}for(E in c)if(p=c[E],g=l[E],c.hasOwnProperty(E)&&(p!=null||g!=null))switch(E){case"value":Y=p;break;case"defaultValue":Z=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==g&&at(r,a,E,p,c,g)}Cf(r,Y,Z);return;case"option":for(var ve in l)if(Y=l[ve],l.hasOwnProperty(ve)&&Y!=null&&!c.hasOwnProperty(ve))switch(ve){case"selected":r.selected=!1;break;default:at(r,a,ve,null,c,Y)}for(O in c)if(Y=c[O],Z=l[O],c.hasOwnProperty(O)&&Y!==Z&&(Y!=null||Z!=null))switch(O){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:at(r,a,O,Y,c,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in l)Y=l[Se],l.hasOwnProperty(Se)&&Y!=null&&!c.hasOwnProperty(Se)&&at(r,a,Se,null,c,Y);for(Q in c)if(Y=c[Q],Z=l[Q],c.hasOwnProperty(Q)&&Y!==Z&&(Y!=null||Z!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,a));break;default:at(r,a,Q,Y,c,Z)}return;default:if(El(a)){for(var ot in l)Y=l[ot],l.hasOwnProperty(ot)&&Y!==void 0&&!c.hasOwnProperty(ot)&&P_(r,a,ot,void 0,c,Y);for(ee in c)Y=c[ee],Z=l[ee],!c.hasOwnProperty(ee)||Y===Z||Y===void 0&&Z===void 0||P_(r,a,ee,Y,c,Z);return}}for(var q in l)Y=l[q],l.hasOwnProperty(q)&&Y!=null&&!c.hasOwnProperty(q)&&at(r,a,q,null,c,Y);for(ie in c)Y=c[ie],Z=l[ie],!c.hasOwnProperty(ie)||Y===Z||Y==null&&Z==null||at(r,a,ie,Y,c,Z)}function pS(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YM(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var p=l[c],g=p.transferSize,E=p.initiatorType,A=p.duration;if(g&&A&&pS(E)){for(E=0,A=p.responseEnd,c+=1;c<l.length;c++){var O=l[c],Q=O.startTime;if(Q>A)break;var ee=O.transferSize,ie=O.initiatorType;ee&&pS(ie)&&(O=O.responseEnd,E+=ee*(O<A?1:(A-Q)/(O-Q)))}if(--c,a+=8*(g+E)/(p.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var V_=null,M_=null;function Pm(r){return r.nodeType===9?r:r.ownerDocument}function gS(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yS(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function O_(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var k_=null;function XM(){var r=window.event;return r&&r.type==="popstate"?r===k_?!1:(k_=r,!0):(k_=null,!1)}var _S=typeof setTimeout=="function"?setTimeout:void 0,JM=typeof clearTimeout=="function"?clearTimeout:void 0,vS=typeof Promise=="function"?Promise:void 0,ZM=typeof queueMicrotask=="function"?queueMicrotask:typeof vS<"u"?function(r){return vS.resolve(null).then(r).catch(eO)}:_S;function eO(r){setTimeout(function(){throw r})}function na(r){return r==="head"}function TS(r,a){var l=a,c=0;do{var p=l.nextSibling;if(r.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(c===0){r.removeChild(p),nu(a);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")mh(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,mh(l);for(var g=l.firstChild;g;){var E=g.nextSibling,A=g.nodeName;g[hr]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=E}}else l==="body"&&mh(r.ownerDocument.body);l=p}while(l);nu(a)}function ES(r,a){var l=r;r=0;do{var c=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=c}while(l)}function L_(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":L_(l),_l(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function tO(r,a,l,c){for(;r.nodeType===1;){var p=l;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[hr])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=Ci(r.nextSibling),r===null)break}return null}function nO(r,a,l){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=Ci(r.nextSibling),r===null))return null;return r}function wS(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Ci(r.nextSibling),r===null))return null;return r}function U_(r){return r.data==="$?"||r.data==="$~"}function j_(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function iO(r,a){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||l.readyState!=="loading")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Ci(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var B_=null;function bS(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(a===0)return Ci(r.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}r=r.nextSibling}return null}function AS(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return r;a--}else l!=="/$"&&l!=="/&"||a++}r=r.previousSibling}return null}function SS(r,a,l){switch(a=Pm(l),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function mh(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);_l(r)}var Di=new Map,IS=new Set;function Vm(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var cs=re.d;re.d={f:rO,r:sO,D:aO,C:oO,L:lO,m:uO,X:hO,S:cO,M:dO};function rO(){var r=cs.f(),a=Am();return r||a}function sO(r){var a=vi(r);a!==null&&a.tag===5&&a.type==="form"?qb(a):cs.r(r)}var Zl=typeof document>"u"?null:document;function RS(r,a,l){var c=Zl;if(c&&typeof a=="string"&&a){var p=zn(a);p='link[rel="'+r+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),IS.has(p)||(IS.add(p),r={rel:r,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),Tn(a,"link",r),Gt(a),c.head.appendChild(a)))}}function aO(r){cs.D(r),RS("dns-prefetch",r,null)}function oO(r,a){cs.C(r,a),RS("preconnect",r,a)}function lO(r,a,l){cs.L(r,a,l);var c=Zl;if(c&&r&&a){var p='link[rel="preload"][as="'+zn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+zn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+zn(l.imageSizes)+'"]')):p+='[href="'+zn(r)+'"]';var g=p;switch(a){case"style":g=eu(r);break;case"script":g=tu(r)}Di.has(g)||(r=_({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:r,as:a},l),Di.set(g,r),c.querySelector(p)!==null||a==="style"&&c.querySelector(ph(g))||a==="script"&&c.querySelector(gh(g))||(a=c.createElement("link"),Tn(a,"link",r),Gt(a),c.head.appendChild(a)))}}function uO(r,a){cs.m(r,a);var l=Zl;if(l&&r){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+zn(c)+'"][href="'+zn(r)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=tu(r)}if(!Di.has(g)&&(r=_({rel:"modulepreload",href:r},a),Di.set(g,r),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(gh(g)))return}c=l.createElement("link"),Tn(c,"link",r),Gt(c),l.head.appendChild(c)}}}function cO(r,a,l){cs.S(r,a,l);var c=Zl;if(c&&r){var p=fr(c).hoistableStyles,g=eu(r);a=a||"default";var E=p.get(g);if(!E){var A={loading:0,preload:null};if(E=c.querySelector(ph(g)))A.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":a},l),(l=Di.get(g))&&F_(r,l);var O=E=c.createElement("link");Gt(O),Tn(O,"link",r),O._p=new Promise(function(Q,ee){O.onload=Q,O.onerror=ee}),O.addEventListener("load",function(){A.loading|=1}),O.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Mm(E,a,c)}E={type:"stylesheet",instance:E,count:1,state:A},p.set(g,E)}}}function hO(r,a){cs.X(r,a);var l=Zl;if(l&&r){var c=fr(l).hoistableScripts,p=tu(r),g=c.get(p);g||(g=l.querySelector(gh(p)),g||(r=_({src:r,async:!0},a),(a=Di.get(p))&&z_(r,a),g=l.createElement("script"),Gt(g),Tn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function dO(r,a){cs.M(r,a);var l=Zl;if(l&&r){var c=fr(l).hoistableScripts,p=tu(r),g=c.get(p);g||(g=l.querySelector(gh(p)),g||(r=_({src:r,async:!0,type:"module"},a),(a=Di.get(p))&&z_(r,a),g=l.createElement("script"),Gt(g),Tn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function xS(r,a,l,c){var p=(p=Me.current)?Vm(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=eu(l.href),l=fr(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=eu(l.href);var g=fr(p).hoistableStyles,E=g.get(r);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,E),(g=p.querySelector(ph(r)))&&!g._p&&(E.instance=g,E.state.loading=5),Di.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Di.set(r,l),g||fO(p,r,l,E.state))),a&&c===null)throw Error(i(528,""));return E}if(a&&c!==null)throw Error(i(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=tu(l),l=fr(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function eu(r){return'href="'+zn(r)+'"'}function ph(r){return'link[rel="stylesheet"]['+r+"]"}function CS(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function fO(r,a,l,c){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=r.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),Tn(a,"link",l),Gt(a),r.head.appendChild(a))}function tu(r){return'[src="'+zn(r)+'"]'}function gh(r){return"script[async]"+r}function DS(r,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=r.querySelector('style[data-href~="'+zn(l.href)+'"]');if(c)return a.instance=c,Gt(c),c;var p=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),Gt(c),Tn(c,"style",p),Mm(c,l.precedence,r),a.instance=c;case"stylesheet":p=eu(l.href);var g=r.querySelector(ph(p));if(g)return a.state.loading|=4,a.instance=g,Gt(g),g;c=CS(l),(p=Di.get(p))&&F_(c,p),g=(r.ownerDocument||r).createElement("link"),Gt(g);var E=g;return E._p=new Promise(function(A,O){E.onload=A,E.onerror=O}),Tn(g,"link",c),a.state.loading|=4,Mm(g,l.precedence,r),a.instance=g;case"script":return g=tu(l.src),(p=r.querySelector(gh(g)))?(a.instance=p,Gt(p),p):(c=l,(p=Di.get(g))&&(c=_({},l),z_(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),Gt(p),Tn(p,"link",c),r.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Mm(c,l.precedence,r));return a.instance}function Mm(r,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,E=0;E<c.length;E++){var A=c[E];if(A.dataset.precedence===a)g=A;else if(g!==p)break}g?g.parentNode.insertBefore(r,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(r,a.firstChild))}function F_(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function z_(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var Om=null;function NS(r,a,l){if(Om===null){var c=new Map,p=Om=new Map;p.set(l,c)}else p=Om,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(r))return c;for(c.set(r,null),l=l.getElementsByTagName(r),p=0;p<l.length;p++){var g=l[p];if(!(g[hr]||g[Ht]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var E=g.getAttribute(a)||"";E=r+E;var A=c.get(E);A?A.push(g):c.set(E,[g])}}return c}function PS(r,a,l){r=r.ownerDocument||r,r.head.insertBefore(l,a==="title"?r.querySelector("head > title"):null)}function mO(r,a,l){if(l===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function VS(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function pO(r,a,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=eu(c.href),g=a.querySelector(ph(p));if(g){a=g._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=km.bind(r),a.then(r,r)),l.state.loading|=4,l.instance=g,Gt(g);return}g=a.ownerDocument||a,c=CS(c),(p=Di.get(p))&&F_(c,p),g=g.createElement("link"),Gt(g);var E=g;E._p=new Promise(function(A,O){E.onload=A,E.onerror=O}),Tn(g,"link",c),l.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=km.bind(r),a.addEventListener("load",l),a.addEventListener("error",l))}}var q_=0;function gO(r,a){return r.stylesheets&&r.count===0&&Um(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var c=setTimeout(function(){if(r.stylesheets&&Um(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+a);0<r.imgBytes&&q_===0&&(q_=62500*YM());var p=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Um(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>q_?50:800)+a);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(p)}}:null}function km(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Um(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Lm=null;function Um(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Lm=new Map,a.forEach(yO,r),Lm=null,km.call(r))}function yO(r,a){if(!(a.state.loading&4)){var l=Lm.get(r);if(l)var c=l.get(null);else{l=new Map,Lm.set(r,l);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var E=p[g];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),c=E)}c&&l.set(null,c)}p=a.instance,E=p.getAttribute("data-precedence"),g=l.get(E)||c,g===c&&l.set(null,p),l.set(E,p),this.count++,c=km.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),a.state.loading|=4}}var yh={$$typeof:F,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function _O(r,a,l,c,p,g,E,A,O){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ur(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ur(0),this.hiddenUpdates=ur(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function MS(r,a,l,c,p,g,E,A,O,Q,ee,ie){return r=new _O(r,a,l,E,O,Q,ee,ie,A),a=1,g===!0&&(a|=24),g=si(3,null,null,a),r.current=g,g.stateNode=r,a=wy(),a.refCount++,r.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:a},Iy(g),r}function OS(r){return r?(r=Pl,r):Pl}function kS(r,a,l,c,p,g){p=OS(p),c.context===null?c.context=p:c.pendingContext=p,c=Gs(a),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=Ks(r,c,a),l!==null&&(Qn(l,r,a),Wc(l,r,a))}function LS(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<a?l:a}}function H_(r,a){LS(r,a),(r=r.alternate)&&LS(r,a)}function US(r){if(r.tag===13||r.tag===31){var a=co(r,67108864);a!==null&&Qn(a,r,67108864),H_(r,67108864)}}function jS(r){if(r.tag===13||r.tag===31){var a=ci();a=Ja(a);var l=co(r,a);l!==null&&Qn(l,r,a),H_(r,a)}}var jm=!0;function vO(r,a,l,c){var p=K.T;K.T=null;var g=re.p;try{re.p=2,G_(r,a,l,c)}finally{re.p=g,K.T=p}}function TO(r,a,l,c){var p=K.T;K.T=null;var g=re.p;try{re.p=8,G_(r,a,l,c)}finally{re.p=g,K.T=p}}function G_(r,a,l,c){if(jm){var p=K_(c);if(p===null)N_(r,a,c,Bm,l),FS(r,c);else if(wO(p,r,a,l,c))c.stopPropagation();else if(FS(r,c),a&4&&-1<EO.indexOf(r)){for(;p!==null;){var g=vi(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var E=or(g.pendingLanes);if(E!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;E;){var O=1<<31-Mt(E);A.entanglements[1]|=O,E&=~O}Ir(g),(Xe&6)===0&&(wm=Vn()+500,hh(0))}}break;case 31:case 13:A=co(g,2),A!==null&&Qn(A,g,2),Am(),H_(g,2)}if(g=K_(c),g===null&&N_(r,a,c,Bm,l),g===p)break;p=g}p!==null&&c.stopPropagation()}else N_(r,a,c,null,l)}}function K_(r){return r=Ti(r),$_(r)}var Bm=null;function $_(r){if(Bm=null,r=dr(r),r!==null){var a=o(r);if(a===null)r=null;else{var l=a.tag;if(l===13){if(r=u(a),r!==null)return r;r=null}else if(l===31){if(r=h(a),r!==null)return r;r=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Bm=r,null}function BS(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qa()){case Tc:return 2;case Ec:return 8;case Ds:case Zg:return 32;case _f:return 268435456;default:return 32}default:return 32}}var Q_=!1,ia=null,ra=null,sa=null,_h=new Map,vh=new Map,aa=[],EO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function FS(r,a){switch(r){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":sa=null;break;case"pointerover":case"pointerout":_h.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(a.pointerId)}}function Th(r,a,l,c,p,g){return r===null||r.nativeEvent!==g?(r={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},a!==null&&(a=vi(a),a!==null&&US(a)),r):(r.eventSystemFlags|=c,a=r.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),r)}function wO(r,a,l,c,p){switch(a){case"focusin":return ia=Th(ia,r,a,l,c,p),!0;case"dragenter":return ra=Th(ra,r,a,l,c,p),!0;case"mouseover":return sa=Th(sa,r,a,l,c,p),!0;case"pointerover":var g=p.pointerId;return _h.set(g,Th(_h.get(g)||null,r,a,l,c,p)),!0;case"gotpointercapture":return g=p.pointerId,vh.set(g,Th(vh.get(g)||null,r,a,l,c,p)),!0}return!1}function zS(r){var a=dr(r.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){r.blockedOn=a,Bi(r.priority,function(){jS(l)});return}}else if(a===31){if(a=h(l),a!==null){r.blockedOn=a,Bi(r.priority,function(){jS(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fm(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var l=K_(r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);Vc=c,l.target.dispatchEvent(c),Vc=null}else return a=vi(l),a!==null&&US(a),r.blockedOn=l,!1;a.shift()}return!0}function qS(r,a,l){Fm(r)&&l.delete(a)}function bO(){Q_=!1,ia!==null&&Fm(ia)&&(ia=null),ra!==null&&Fm(ra)&&(ra=null),sa!==null&&Fm(sa)&&(sa=null),_h.forEach(qS),vh.forEach(qS)}function zm(r,a){r.blockedOn===a&&(r.blockedOn=null,Q_||(Q_=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,bO)))}var qm=null;function HS(r){qm!==r&&(qm=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qm===r&&(qm=null);for(var a=0;a<r.length;a+=3){var l=r[a],c=r[a+1],p=r[a+2];if(typeof c!="function"){if($_(c||l)===null)continue;break}var g=vi(l);g!==null&&(r.splice(a,3),a-=3,Ky(g,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function nu(r){function a(O){return zm(O,r)}ia!==null&&zm(ia,r),ra!==null&&zm(ra,r),sa!==null&&zm(sa,r),_h.forEach(a),vh.forEach(a);for(var l=0;l<aa.length;l++){var c=aa[l];c.blockedOn===r&&(c.blockedOn=null)}for(;0<aa.length&&(l=aa[0],l.blockedOn===null);)zS(l),l.blockedOn===null&&aa.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],E=p[un]||null;if(typeof g=="function")E||HS(l);else if(E){var A=null;if(g&&g.hasAttribute("formAction")){if(p=g,E=g[un]||null)A=E.formAction;else if($_(p)!==null)continue}else A=E.action;typeof A=="function"?l[c+1]=A:(l.splice(c,3),c-=3),HS(l)}}}function GS(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,p=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function W_(r){this._internalRoot=r}Hm.prototype.render=W_.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var l=a.current,c=ci();kS(l,c,r,a,null,null)},Hm.prototype.unmount=W_.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;kS(r.current,2,null,r,null,null),Am(),a[cr]=null}};function Hm(r){this._internalRoot=r}Hm.prototype.unstable_scheduleHydration=function(r){if(r){var a=Af();r={blockedOn:null,target:r,priority:a};for(var l=0;l<aa.length&&a!==0&&a<aa[l].priority;l++);aa.splice(l,0,r),l===0&&zS(r)}};var KS=e.version;if(KS!=="19.2.1")throw Error(i(527,KS,"19.2.1"));re.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=m(a),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var AO={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gm.isDisabled&&Gm.supportsFiber)try{Ui=Gm.inject(AO),pn=Gm}catch{}}return wh.createRoot=function(r,a){if(!s(r))throw Error(i(299));var l=!1,c="",p=Zb,g=eA,E=tA;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=MS(r,1,!1,null,null,l,c,null,p,g,E,GS),r[cr]=a.current,D_(r),new W_(a)},wh.hydrateRoot=function(r,a,l){if(!s(r))throw Error(i(299));var c=!1,p="",g=Zb,E=eA,A=tA,O=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.formState!==void 0&&(O=l.formState)),a=MS(r,1,!0,a,l??null,c,p,O,g,E,A,GS),a.context=OS(null),l=a.current,c=ci(),c=Ja(c),p=Gs(c),p.callback=null,Ks(l,p,c),l=c,a.current.lanes=l,Ya(a,l),Ir(a),r[cr]=a.current,D_(r),new Hm(a)},wh.version="19.2.1",wh}var nI;function OO(){if(nI)return J_.exports;nI=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),J_.exports=MO(),J_.exports}var kO=OO();const LO=Lx(kO);/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iI="popstate";function UO(n={}){function e(s,o){let{pathname:u="/",search:h="",hash:d=""}=al(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Bv("",{pathname:u,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){let u=s.document.querySelector("base"),h="";if(u&&u.getAttribute("href")){let d=s.location.href,m=d.indexOf("#");h=m===-1?d:d.slice(0,m)}return h+"#"+(typeof o=="string"?o:cd(o))}function i(s,o){gi(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return BO(e,t,i,n)}function At(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jO(){return Math.random().toString(36).substring(2,10)}function rI(n,e){return{usr:n.state,key:n.key,idx:e}}function Bv(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?al(e):e,state:t,key:e&&e.key||i||jO()}}function cd({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function al(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function BO(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:o=!1}=i,u=s.history,h="POP",d=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function _(){h="POP";let V=y(),U=V==null?null:V-m;m=V,d&&d({action:h,location:P.location,delta:U})}function T(V,U){h="PUSH";let W=Bv(P.location,V,U);t&&t(W,V),m=y()+1;let F=rI(W,m),ae=P.createHref(W);try{u.pushState(F,"",ae)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;s.location.assign(ae)}o&&d&&d({action:h,location:P.location,delta:1})}function b(V,U){h="REPLACE";let W=Bv(P.location,V,U);t&&t(W,V),m=y();let F=rI(W,m),ae=P.createHref(W);u.replaceState(F,"",ae),o&&d&&d({action:h,location:P.location,delta:0})}function C(V){return FO(V)}let P={get action(){return h},get location(){return n(s,u)},listen(V){if(d)throw new Error("A history only accepts one active listener");return s.addEventListener(iI,_),d=V,()=>{s.removeEventListener(iI,_),d=null}},createHref(V){return e(s,V)},createURL:C,encodeLocation(V){let U=C(V);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:T,replace:b,go(V){return u.go(V)}};return P}function FO(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),At(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:cd(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Ux(n,e,t="/"){return zO(n,e,t,!1)}function zO(n,e,t,i){let s=typeof e=="string"?al(e):e,o=ps(s.pathname||"/",t);if(o==null)return null;let u=jx(n);qO(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=ek(o);h=JO(u[d],m,i)}return h}function jx(n,e=[],t=[],i="",s=!1){let o=(u,h,d=s,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&d)return;At(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=fs([i,y.relativePath]),T=t.concat(y);u.children&&u.children.length>0&&(At(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),jx(u.children,e,T,_,d)),!(u.path==null&&!u.index)&&e.push({path:_,score:YO(_,u.index),routesMeta:T})};return n.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let m of Bx(u.path))o(u,h,!0,m)}),e}function Bx(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(i.length===0)return s?[o,""]:[o];let u=Bx(i.join("/")),h=[];return h.push(...u.map(d=>d===""?o:[o,d].join("/"))),s&&h.push(...u),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function qO(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:XO(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var HO=/^:[\w-]+$/,GO=3,KO=2,$O=1,QO=10,WO=-2,sI=n=>n==="*";function YO(n,e){let t=n.split("/"),i=t.length;return t.some(sI)&&(i+=WO),e&&(i+=KO),t.filter(s=>!sI(s)).reduce((s,o)=>s+(HO.test(o)?GO:o===""?$O:QO),i)}function XO(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function JO(n,e,t=!1){let{routesMeta:i}=n,s={},o="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,y=o==="/"?e:e.slice(o.length)||"/",_=Rp({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},y),T=d.route;if(!_&&m&&t&&!i[i.length-1].route.index&&(_=Rp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},y)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:fs([o,_.pathname]),pathnameBase:sk(fs([o,_.pathnameBase])),route:T}),_.pathnameBase!=="/"&&(o=fs([o,_.pathnameBase]))}return u}function Rp(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=ZO(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:_},T)=>{if(y==="*"){let C=h[T]||"";u=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const b=h[T];return _&&!b?m[y]=void 0:m[y]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:n}}function ZO(n,e=!1,t=!0){gi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function ek(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ps(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var tk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nk=n=>tk.test(n);function ik(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?al(n):n,o;if(t)if(nk(t))o=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),gi(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?o=aI(t.substring(1),"/"):o=aI(t,e)}else o=e;return{pathname:o,search:ak(i),hash:ok(s)}}function aI(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function nv(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function rk(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function ZT(n){let e=rk(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function e0(n,e,t,i=!1){let s;typeof n=="string"?s=al(n):(s={...n},At(!s.pathname||!s.pathname.includes("?"),nv("?","pathname","search",s)),At(!s.pathname||!s.pathname.includes("#"),nv("#","pathname","hash",s)),At(!s.search||!s.search.includes("#"),nv("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,h;if(u==null)h=t;else{let _=e.length-1;if(!i&&u.startsWith("..")){let T=u.split("/");for(;T[0]==="..";)T.shift(),_-=1;s.pathname=T.join("/")}h=_>=0?e[_]:"/"}let d=ik(s,h),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(m||y)&&(d.pathname+="/"),d}var fs=n=>n.join("/").replace(/\/\/+/g,"/"),sk=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ak=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ok=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function lk(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function uk(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Fx=["POST","PUT","PATCH","DELETE"];new Set(Fx);var ck=["GET",...Fx];new Set(ck);var Zu=N.createContext(null);Zu.displayName="DataRouter";var ag=N.createContext(null);ag.displayName="DataRouterState";N.createContext(!1);var zx=N.createContext({isTransitioning:!1});zx.displayName="ViewTransition";var hk=N.createContext(new Map);hk.displayName="Fetchers";var dk=N.createContext(null);dk.displayName="Await";var Li=N.createContext(null);Li.displayName="Navigation";var Fd=N.createContext(null);Fd.displayName="Location";var rr=N.createContext({outlet:null,matches:[],isDataRoute:!1});rr.displayName="Route";var t0=N.createContext(null);t0.displayName="RouteError";function fk(n,{relative:e}={}){At(ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=N.useContext(Li),{hash:s,pathname:o,search:u}=qd(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:fs([t,o])),i.createHref({pathname:h,search:u,hash:s})}function ec(){return N.useContext(Fd)!=null}function Gr(){return At(ec(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Fd).location}var qx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hx(n){N.useContext(Li).static||N.useLayoutEffect(n)}function zd(){let{isDataRoute:n}=N.useContext(rr);return n?Ik():mk()}function mk(){At(ec(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(Zu),{basename:e,navigator:t}=N.useContext(Li),{matches:i}=N.useContext(rr),{pathname:s}=Gr(),o=JSON.stringify(ZT(i)),u=N.useRef(!1);return Hx(()=>{u.current=!0}),N.useCallback((d,m={})=>{if(gi(u.current,qx),!u.current)return;if(typeof d=="number"){t.go(d);return}let y=e0(d,JSON.parse(o),s,m.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:fs([e,y.pathname])),(m.replace?t.replace:t.push)(y,m.state,m)},[e,t,o,s,n])}N.createContext(null);function Gx(){let{matches:n}=N.useContext(rr),e=n[n.length-1];return e?e.params:{}}function qd(n,{relative:e}={}){let{matches:t}=N.useContext(rr),{pathname:i}=Gr(),s=JSON.stringify(ZT(t));return N.useMemo(()=>e0(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function pk(n,e){return Kx(n,e)}function Kx(n,e,t,i,s){var W;At(ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=N.useContext(Li),{matches:u}=N.useContext(rr),h=u[u.length-1],d=h?h.params:{},m=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let F=_&&_.path||"";$x(m,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let T=Gr(),b;if(e){let F=typeof e=="string"?al(e):e;At(y==="/"||((W=F.pathname)==null?void 0:W.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${F.pathname}" was given in the \`location\` prop.`),b=F}else b=T;let C=b.pathname||"/",P=C;if(y!=="/"){let F=y.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(F.length).join("/")}let V=Ux(n,{pathname:P});gi(_||V!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),gi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=Tk(V&&V.map(F=>Object.assign({},F,{params:Object.assign({},d,F.params),pathname:fs([y,o.encodeLocation?o.encodeLocation(F.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?y:fs([y,o.encodeLocation?o.encodeLocation(F.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:F.pathnameBase])})),u,t,i,s);return e&&U?N.createElement(Fd.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},U):U}function gk(){let n=Sk(),e=lk(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:s},t):null,u)}var yk=N.createElement(gk,null),_k=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?N.createElement(rr.Provider,{value:this.props.routeContext},N.createElement(t0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vk({routeContext:n,match:e,children:t}){let i=N.useContext(Zu);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(rr.Provider,{value:n},t)}function Tk(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t==null?void 0:t.errors;if(u!=null){let y=o.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);At(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let h=!1,d=-1;if(t)for(let y=0;y<o.length;y++){let _=o[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=y),_.route.id){let{loaderData:T,errors:b}=t,C=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||C){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let m=t&&i?(y,_)=>{var T,b;i(y,{location:t.location,params:((b=(T=t.matches)==null?void 0:T[0])==null?void 0:b.params)??{},unstable_pattern:uk(t.matches),errorInfo:_})}:void 0;return o.reduceRight((y,_,T)=>{let b,C=!1,P=null,V=null;t&&(b=u&&_.route.id?u[_.route.id]:void 0,P=_.route.errorElement||yk,h&&(d<0&&T===0?($x("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,V=null):d===T&&(C=!0,V=_.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,T+1)),W=()=>{let F;return b?F=P:C?F=V:_.route.Component?F=N.createElement(_.route.Component,null):_.route.element?F=_.route.element:F=y,N.createElement(vk,{match:_,routeContext:{outlet:y,matches:U,isDataRoute:t!=null},children:F})};return t&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?N.createElement(_k,{location:t.location,revalidation:t.revalidation,component:P,error:b,children:W(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:m}):W()},null)}function n0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ek(n){let e=N.useContext(Zu);return At(e,n0(n)),e}function wk(n){let e=N.useContext(ag);return At(e,n0(n)),e}function bk(n){let e=N.useContext(rr);return At(e,n0(n)),e}function i0(n){let e=bk(n),t=e.matches[e.matches.length-1];return At(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ak(){return i0("useRouteId")}function Sk(){var i;let n=N.useContext(t0),e=wk("useRouteError"),t=i0("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function Ik(){let{router:n}=Ek("useNavigate"),e=i0("useNavigate"),t=N.useRef(!1);return Hx(()=>{t.current=!0}),N.useCallback(async(s,o={})=>{gi(t.current,qx),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var oI={};function $x(n,e,t){!e&&!oI[n]&&(oI[n]=!0,gi(!1,t))}N.memo(Rk);function Rk({routes:n,future:e,state:t,unstable_onError:i}){return Kx(n,void 0,t,i,e)}function lI({to:n,replace:e,state:t,relative:i}){At(ec(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=N.useContext(Li);gi(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=N.useContext(rr),{pathname:u}=Gr(),h=zd(),d=e0(n,ZT(o),u,i==="path"),m=JSON.stringify(d);return N.useEffect(()=>{h(JSON.parse(m),{replace:e,state:t,relative:i})},[h,m,i,e,t]),null}function fa(n){At(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xk({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:o=!1,unstable_useTransitions:u}){At(!ec(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:h,navigator:s,static:o,unstable_useTransitions:u,future:{}}),[h,s,o,u]);typeof t=="string"&&(t=al(t));let{pathname:m="/",search:y="",hash:_="",state:T=null,key:b="default"}=t,C=N.useMemo(()=>{let P=ps(m,h);return P==null?null:{location:{pathname:P,search:y,hash:_,state:T,key:b},navigationType:i}},[h,m,y,_,T,b,i]);return gi(C!=null,`<Router basename="${h}"> is not able to match the URL "${m}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:N.createElement(Li.Provider,{value:d},N.createElement(Fd.Provider,{children:e,value:C}))}function uI({children:n,location:e}){return pk(Fv(n),e)}function Fv(n,e=[]){let t=[];return N.Children.forEach(n,(i,s)=>{if(!N.isValidElement(i))return;let o=[...e,s];if(i.type===N.Fragment){t.push.apply(t,Fv(i.props.children,o));return}At(i.type===fa,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),At(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Fv(i.props.children,o)),t.push(u)}),t}var sp="get",ap="application/x-www-form-urlencoded";function og(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Ck(n){return og(n)&&n.tagName.toLowerCase()==="button"}function Dk(n){return og(n)&&n.tagName.toLowerCase()==="form"}function Nk(n){return og(n)&&n.tagName.toLowerCase()==="input"}function Pk(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Vk(n,e){return n.button===0&&(!e||e==="_self")&&!Pk(n)}var Km=null;function Mk(){if(Km===null)try{new FormData(document.createElement("form"),0),Km=!1}catch{Km=!0}return Km}var Ok=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function iv(n){return n!=null&&!Ok.has(n)?(gi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ap}"`),null):n}function kk(n,e){let t,i,s,o,u;if(Dk(n)){let h=n.getAttribute("action");i=h?ps(h,e):null,t=n.getAttribute("method")||sp,s=iv(n.getAttribute("enctype"))||ap,o=new FormData(n)}else if(Ck(n)||Nk(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(i=d?ps(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||sp,s=iv(n.getAttribute("formenctype"))||iv(h.getAttribute("enctype"))||ap,o=new FormData(h,n),!Mk()){let{name:m,type:y,value:_}=n;if(y==="image"){let T=m?`${m}.`:"";o.append(`${T}x`,"0"),o.append(`${T}y`,"0")}else m&&o.append(m,_)}}else{if(og(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=sp,i=null,s=ap,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function r0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Lk(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&ps(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function Uk(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jk(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Bk(n,e,t){let i=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await Uk(o,t);return u.links?u.links():[]}return[]}));return Hk(i.flat(1).filter(jk).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function cI(n,e,t,i,s,o){let u=(d,m)=>t[m]?d.route.id!==t[m].route.id:!0,h=(d,m)=>{var y;return t[m].pathname!==d.pathname||((y=t[m].route.path)==null?void 0:y.endsWith("*"))&&t[m].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):o==="data"?e.filter((d,m)=>{var _;let y=i.routes[d.route.id];if(!y||!y.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let T=d.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function Fk(n,e,{includeHydrateFallback:t}={}){return zk(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function zk(n){return[...new Set(n)]}function qk(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Hk(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let o=JSON.stringify(qk(s));return t.has(o)||(t.add(o),i.push({key:o,link:s})),i},[])}function Qx(){let n=N.useContext(Zu);return r0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Gk(){let n=N.useContext(ag);return r0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var s0=N.createContext(void 0);s0.displayName="FrameworkContext";function Wx(){let n=N.useContext(s0);return r0(n,"You must render this element inside a <HydratedRouter> element"),n}function Kk(n,e){let t=N.useContext(s0),[i,s]=N.useState(!1),[o,u]=N.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:y,onTouchStart:_}=e,T=N.useRef(null);N.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=U=>{U.forEach(W=>{u(W.isIntersecting)})},V=new IntersectionObserver(P,{threshold:.5});return T.current&&V.observe(T.current),()=>{V.disconnect()}}},[n]),N.useEffect(()=>{if(i){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[i]);let b=()=>{s(!0)},C=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,T,{}]:[o,T,{onFocus:bh(h,b),onBlur:bh(d,C),onMouseEnter:bh(m,b),onMouseLeave:bh(y,C),onTouchStart:bh(_,b)}]:[!1,T,{}]}function bh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function $k({page:n,...e}){let{router:t}=Qx(),i=N.useMemo(()=>Ux(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?N.createElement(Wk,{page:n,matches:i,...e}):null}function Qk(n){let{manifest:e,routeModules:t}=Wx(),[i,s]=N.useState([]);return N.useEffect(()=>{let o=!1;return Bk(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),i}function Wk({page:n,matches:e,...t}){let i=Gr(),{manifest:s,routeModules:o}=Wx(),{basename:u}=Qx(),{loaderData:h,matches:d}=Gk(),m=N.useMemo(()=>cI(n,e,d,s,i,"data"),[n,e,d,s,i]),y=N.useMemo(()=>cI(n,e,d,s,i,"assets"),[n,e,d,s,i]),_=N.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,P=!1;if(e.forEach(U=>{var F;let W=s.routes[U.route.id];!W||!W.hasLoader||(!m.some(ae=>ae.route.id===U.route.id)&&U.route.id in h&&((F=o[U.route.id])!=null&&F.shouldRevalidate)||W.hasClientLoader?P=!0:C.add(U.route.id))}),C.size===0)return[];let V=Lk(n,u,"data");return P&&C.size>0&&V.searchParams.set("_routes",e.filter(U=>C.has(U.route.id)).map(U=>U.route.id).join(",")),[V.pathname+V.search]},[u,h,i,s,m,e,n,o]),T=N.useMemo(()=>Fk(y,s),[y,s]),b=Qk(y);return N.createElement(N.Fragment,null,_.map(C=>N.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),T.map(C=>N.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),b.map(({key:C,link:P})=>N.createElement("link",{key:C,nonce:t.nonce,...P})))}function Yk(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Yx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yx&&(window.__reactRouterVersion="7.10.1")}catch{}function Xk({basename:n,children:e,unstable_useTransitions:t,window:i}){let s=N.useRef();s.current==null&&(s.current=UO({window:i,v5Compat:!0}));let o=s.current,[u,h]=N.useState({action:o.action,location:o.location}),d=N.useCallback(m=>{t===!1?h(m):N.startTransition(()=>h(m))},[t]);return N.useLayoutEffect(()=>o.listen(d),[o,d]),N.createElement(xk,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:o,unstable_useTransitions:t===!0})}var Xx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jx=N.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:o,replace:u,state:h,target:d,to:m,preventScrollReset:y,viewTransition:_,...T},b){let{basename:C,unstable_useTransitions:P}=N.useContext(Li),V=typeof m=="string"&&Xx.test(m),U,W=!1;if(typeof m=="string"&&V&&(U=m,Yx))try{let k=new URL(window.location.href),L=m.startsWith("//")?new URL(k.protocol+m):new URL(m),z=ps(L.pathname,C);L.origin===k.origin&&z!=null?m=z+L.search+L.hash:W=!0}catch{gi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=fk(m,{relative:s}),[ae,ne,le]=Kk(i,T),x=eL(m,{replace:u,state:h,target:d,preventScrollReset:y,relative:s,viewTransition:_,unstable_useTransitions:P});function I(k){e&&e(k),k.defaultPrevented||x(k)}let D=N.createElement("a",{...T,...le,href:U||F,onClick:W||o?e:I,ref:Yk(b,ne),target:d,"data-discover":!V&&t==="render"?"true":void 0});return ae&&!V?N.createElement(N.Fragment,null,D,N.createElement($k,{page:F})):D});Jx.displayName="Link";var Mh=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:o,to:u,viewTransition:h,children:d,...m},y){let _=qd(u,{relative:m.relative}),T=Gr(),b=N.useContext(ag),{navigator:C,basename:P}=N.useContext(Li),V=b!=null&&sL(_)&&h===!0,U=C.encodeLocation?C.encodeLocation(_).pathname:_.pathname,W=T.pathname,F=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;t||(W=W.toLowerCase(),F=F?F.toLowerCase():null,U=U.toLowerCase()),F&&P&&(F=ps(F,P)||F);const ae=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let ne=W===U||!s&&W.startsWith(U)&&W.charAt(ae)==="/",le=F!=null&&(F===U||!s&&F.startsWith(U)&&F.charAt(U.length)==="/"),x={isActive:ne,isPending:le,isTransitioning:V},I=ne?e:void 0,D;typeof i=="function"?D=i(x):D=[i,ne?"active":null,le?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(x):o;return N.createElement(Jx,{...m,"aria-current":I,className:D,ref:y,style:k,to:u,viewTransition:h},typeof d=="function"?d(x):d)});Mh.displayName="NavLink";var Jk=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:o,method:u=sp,action:h,onSubmit:d,relative:m,preventScrollReset:y,viewTransition:_,...T},b)=>{let{unstable_useTransitions:C}=N.useContext(Li),P=iL(),V=rL(h,{relative:m}),U=u.toLowerCase()==="get"?"get":"post",W=typeof h=="string"&&Xx.test(h),F=ae=>{if(d&&d(ae),ae.defaultPrevented)return;ae.preventDefault();let ne=ae.nativeEvent.submitter,le=(ne==null?void 0:ne.getAttribute("formmethod"))||u,x=()=>P(ne||ae.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:s,state:o,relative:m,preventScrollReset:y,viewTransition:_});C&&t!==!1?N.startTransition(()=>x()):x()};return N.createElement("form",{ref:b,method:U,action:V,onSubmit:i?d:F,...T,"data-discover":!W&&n==="render"?"true":void 0})});Jk.displayName="Form";function Zk(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zx(n){let e=N.useContext(Zu);return At(e,Zk(n)),e}function eL(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:o,viewTransition:u,unstable_useTransitions:h}={}){let d=zd(),m=Gr(),y=qd(n,{relative:o});return N.useCallback(_=>{if(Vk(_,e)){_.preventDefault();let T=t!==void 0?t:cd(m)===cd(y),b=()=>d(n,{replace:T,state:i,preventScrollReset:s,relative:o,viewTransition:u});h?N.startTransition(()=>b()):b()}},[m,d,y,t,i,e,n,s,o,u,h])}var tL=0,nL=()=>`__${String(++tL)}__`;function iL(){let{router:n}=Zx("useSubmit"),{basename:e}=N.useContext(Li),t=Ak(),i=n.fetch,s=n.navigate;return N.useCallback(async(o,u={})=>{let{action:h,method:d,encType:m,formData:y,body:_}=kk(o,e);if(u.navigate===!1){let T=u.fetcherKey||nL();await i(T,t,u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||d,formEncType:u.encType||m,flushSync:u.flushSync})}else await s(u.action||h,{preventScrollReset:u.preventScrollReset,formData:y,body:_,formMethod:u.method||d,formEncType:u.encType||m,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,s,e,t])}function rL(n,{relative:e}={}){let{basename:t}=N.useContext(Li),i=N.useContext(rr);At(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...qd(n||".",{relative:e})},u=Gr();if(n==null){o.search=u.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(y=>y==="")){h.delete("index"),d.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();o.search=y?`?${y}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:fs([t,o.pathname])),cd(o)}function sL(n,{relative:e}={}){let t=N.useContext(zx);At(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Zx("useViewTransitionState"),s=qd(n,{relative:e});if(!t.isTransitioning)return!1;let o=ps(t.currentLocation.pathname,i)||t.currentLocation.pathname,u=ps(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Rp(s.pathname,u)!=null||Rp(s.pathname,o)!=null}const aL=()=>{};var hI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},oL=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],h=n[t++],d=((s&7)<<18|(o&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],u=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},tC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,h=u?n[s+1]:0,d=s+2<n.length,m=d?n[s+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let T=(h&15)<<2|m>>6,b=m&63;d||(b=64,u||(T=64)),i.push(t[y],t[_],t[T],t[b])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(eC(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):oL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const m=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||h==null||m==null||_==null)throw new lL;const T=o<<2|h>>4;if(i.push(T),m!==64){const b=h<<4&240|m>>2;if(i.push(b),_!==64){const C=m<<6&192|_;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uL=function(n){const e=eC(n);return tC.encodeByteArray(e,!0)},xp=function(n){return uL(n).replace(/\./g,"")},a0=function(n){try{return tC.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Cp(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!cL(t)||(n[t]=Cp(n[t],e[t]));return n}function cL(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL=()=>o0().__FIREBASE_DEFAULTS__,dL=()=>{if(typeof process>"u"||typeof hI>"u")return;const n=hI.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},fL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&a0(n[1]);return e&&JSON.parse(e)},l0=()=>{try{return aL()||hL()||dL()||fL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},u0=()=>{var n;return(n=l0())==null?void 0:n.config},mL=n=>{var e;return(e=l0())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nC(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[xp(JSON.stringify(t)),xp(JSON.stringify(u)),""].join(".")}const Hh={};function yL(){const n={prod:[],emulator:[]};for(const e of Object.keys(Hh))Hh[e]?n.emulator.push(e):n.prod.push(e);return n}function _L(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let dI=!1;function iC(n,e){if(typeof window>"u"||typeof document>"u"||!tc(window.location.host)||Hh[n]===e||Hh[n]||dI)return;Hh[n]=e;function t(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=yL().prod.length>0;function u(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function d(T,b){T.setAttribute("width","24"),T.setAttribute("id",b),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{dI=!0,u()},T}function y(T,b){T.setAttribute("id",b),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function _(){const T=_L(i),b=t("text"),C=document.getElementById(b)||document.createElement("span"),P=t("learnmore"),V=document.getElementById(P)||document.createElement("a"),U=t("preprendIcon"),W=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const F=T.element;h(F),y(V,P);const ae=m();d(W,U),F.append(W,C,V,ae),document.body.appendChild(F)}o?(C.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function lg(){var e;const n=(e=l0())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TL(){return typeof window<"u"||rC()}function rC(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function EL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function c0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aC(){const n=It();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function oC(){return!lg()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lC(){return!lg()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function hd(){try{return typeof indexedDB=="object"}catch{return!1}}function wL(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL="FirebaseError";class jn extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=bL,Object.setPrototypeOf(this,jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ol.prototype.create)}}class ol{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?AL(o,i):"Error",h=`${this.serviceName}: ${u} (${s}).`;return new jn(s,h,i)}}function AL(n,e){return n.replace(SL,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const SL=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function IL(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Aa(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const o=n[s],u=e[s];if(mI(o)&&mI(u)){if(!Aa(o,u))return!1}else if(o!==u)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function mI(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function pu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,o]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Oh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function uC(n,e){const t=new RL(n,e);return t.subscribe.bind(t)}class RL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");xL(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=rv),s.error===void 0&&(s.error=rv),s.complete===void 0&&(s.complete=rv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xL(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function rv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n){return n&&n._delegate?n._delegate:n}class Fr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new pL;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NL(e))try{this.getOrInitializeService({instanceIdentifier:Io})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Io){return this.instances.has(e)}getOptions(e=Io){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&u.resolve(s)}return s}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:DL(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Io){return this.component?this.component.multipleInstances?e:Io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DL(n){return n===Io?void 0:n}function NL(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=[];var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const hC={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},PL=Ue.INFO,VL={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},ML=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=VL[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ug{constructor(e){this.name=e,this._logLevel=PL,this._logHandler=ML,this._userLogHandler=null,h0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}function OL(n){h0.forEach(e=>{e.setLogLevel(n)})}function kL(n,e){for(const t of h0){let i=null;e&&e.level&&(i=hC[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(s,o,...u)=>{const h=u.map(d=>{if(d==null)return null;if(typeof d=="string")return d;if(typeof d=="number"||typeof d=="boolean")return d.toString();if(d instanceof Error)return d.message;try{return JSON.stringify(d)}catch{return null}}).filter(d=>d).join(" ");o>=(i??s.logLevel)&&n({level:Ue[o].toLowerCase(),message:h,args:u,type:s.name})}}}const LL=(n,e)=>e.some(t=>n instanceof t);let pI,gI;function UL(){return pI||(pI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jL(){return gI||(gI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dC=new WeakMap,zv=new WeakMap,fC=new WeakMap,sv=new WeakMap,d0=new WeakMap;function BL(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(va(n.result)),s()},u=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&dC.set(t,n)}).catch(()=>{}),d0.set(e,n),e}function FL(n){if(zv.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});zv.set(n,e)}let qv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fC.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return va(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function zL(n){qv=n(qv)}function qL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(av(this),e,...t);return fC.set(i,e.sort?e.sort():[e]),va(i)}:jL().includes(n)?function(...e){return n.apply(av(this),e),va(dC.get(this))}:function(...e){return va(n.apply(av(this),e))}}function HL(n){return typeof n=="function"?qL(n):(n instanceof IDBTransaction&&FL(n),LL(n,UL())?new Proxy(n,qv):n)}function va(n){if(n instanceof IDBRequest)return BL(n);if(sv.has(n))return sv.get(n);const e=HL(n);return e!==n&&(sv.set(n,e),d0.set(e,n)),e}const av=n=>d0.get(n);function GL(n,e,{blocked:t,upgrade:i,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),h=va(u);return i&&u.addEventListener("upgradeneeded",d=>{i(va(u.result),d.oldVersion,d.newVersion,va(u.transaction),d)}),t&&u.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const KL=["get","getKey","getAll","getAllKeys","count"],$L=["put","add","delete","clear"],ov=new Map;function yI(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ov.get(e))return ov.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=$L.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||KL.includes(t)))return;const o=async function(u,...h){const d=this.transaction(u,s?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),s&&d.done]))[0]};return ov.set(e,o),o}zL(n=>({...n,get:(e,t,i)=>yI(e,t)||n.get(e,t,i),has:(e,t)=>!!yI(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(WL(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function WL(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dp="@firebase/app",Hv="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new ug("@firebase/app"),YL="@firebase/app-compat",XL="@firebase/analytics-compat",JL="@firebase/analytics",ZL="@firebase/app-check-compat",e4="@firebase/app-check",t4="@firebase/auth",n4="@firebase/auth-compat",i4="@firebase/database",r4="@firebase/data-connect",s4="@firebase/database-compat",a4="@firebase/functions",o4="@firebase/functions-compat",l4="@firebase/installations",u4="@firebase/installations-compat",c4="@firebase/messaging",h4="@firebase/messaging-compat",d4="@firebase/performance",f4="@firebase/performance-compat",m4="@firebase/remote-config",p4="@firebase/remote-config-compat",g4="@firebase/storage",y4="@firebase/storage-compat",_4="@firebase/firestore",v4="@firebase/ai",T4="@firebase/firestore-compat",E4="firebase",w4="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="[DEFAULT]",b4={[Dp]:"fire-core",[YL]:"fire-core-compat",[JL]:"fire-analytics",[XL]:"fire-analytics-compat",[e4]:"fire-app-check",[ZL]:"fire-app-check-compat",[t4]:"fire-auth",[n4]:"fire-auth-compat",[i4]:"fire-rtdb",[r4]:"fire-data-connect",[s4]:"fire-rtdb-compat",[a4]:"fire-fn",[o4]:"fire-fn-compat",[l4]:"fire-iid",[u4]:"fire-iid-compat",[c4]:"fire-fcm",[h4]:"fire-fcm-compat",[d4]:"fire-perf",[f4]:"fire-perf-compat",[m4]:"fire-rc",[p4]:"fire-rc-compat",[g4]:"fire-gcs",[y4]:"fire-gcs-compat",[_4]:"fire-fst",[T4]:"fire-fst-compat",[v4]:"fire-vertex","fire-js":"fire-js",[E4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Map,xu=new Map,Cu=new Map;function dd(n,e){try{n.container.addComponent(e)}catch(t){gs.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mC(n,e){n.container.addOrOverwriteComponent(e)}function Ra(n){const e=n.name;if(Cu.has(e))return gs.debug(`There were multiple attempts to register component ${e}.`),!1;Cu.set(e,n);for(const t of Ia.values())dd(t,n);for(const t of xu.values())dd(t,n);return!0}function pC(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function A4(n,e,t=Sa){pC(n,e).clearInstance(t)}function f0(n){return n.options!==void 0}function gC(n){return f0(n)?!1:"authIdToken"in n||"appCheckToken"in n||"releaseOnDeref"in n||"automaticDataCollectionEnabled"in n}function Tt(n){return n==null?!1:n.settings!==void 0}function S4(){Cu.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new ol("app","Firebase",I4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yC=class{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(n,e){const t=a0(n.split(".")[1]);if(t===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(t).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const s=JSON.parse(t).exp*1e3,o=new Date().getTime();s-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class R4 extends yC{constructor(e,t,i,s){const o=t.automaticDataCollectionEnabled!==void 0?t.automaticDataCollectionEnabled:!0,u={name:i,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,u,s);else{const h=e;super(h.options,u,s)}this._serverConfig={automaticDataCollectionEnabled:o,...t},this._serverConfig.authIdToken&&_I(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&_I(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,er(Dp,Hv,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){p0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw pi.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=w4;function m0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Sa,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw pi.create("bad-app-name",{appName:String(s)});if(t||(t=u0()),!t)throw pi.create("no-options");const o=Ia.get(s);if(o){if(Aa(t,o.options)&&Aa(i,o.config))return o;throw pi.create("duplicate-app",{appName:s})}const u=new cC(s);for(const d of Cu.values())u.addComponent(d);const h=new yC(t,i,u);return Ia.set(s,h),h}function x4(n,e={}){if(TL()&&!rC())throw pi.create("invalid-server-app-environment");let t,i=e||{};if(n&&(f0(n)?t=n.options:gC(n)?i=n:t=n),i.automaticDataCollectionEnabled===void 0&&(i.automaticDataCollectionEnabled=!0),t||(t=u0()),!t)throw pi.create("no-options");const s={...i,...t};s.releaseOnDeref!==void 0&&delete s.releaseOnDeref;const o=y=>[...y].reduce((_,T)=>Math.imul(31,_)+T.charCodeAt(0)|0,0);if(i.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw pi.create("finalization-registry-not-supported",{});const u=""+o(JSON.stringify(s)),h=xu.get(u);if(h)return h.incRefCount(i.releaseOnDeref),h;const d=new cC(u);for(const y of Cu.values())d.addComponent(y);const m=new R4(t,i,u,d);return xu.set(u,m),m}function C4(n=Sa){const e=Ia.get(n);if(!e&&n===Sa&&u0())return m0();if(!e)throw pi.create("no-app",{appName:n});return e}function D4(){return Array.from(Ia.values())}async function p0(n){let e=!1;const t=n.name;Ia.has(t)?(e=!0,Ia.delete(t)):xu.has(t)&&n.decRefCount()<=0&&(xu.delete(t),e=!0),e&&(await Promise.all(n.container.getProviders().map(i=>i.delete())),n.isDeleted=!0)}function er(n,e,t){let i=b4[n]??n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${i}" with version "${e}":`];s&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gs.warn(u.join(" "));return}Ra(new Fr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function _C(n,e){if(n!==null&&typeof n!="function")throw pi.create("invalid-log-argument");kL(n,e)}function vC(n){OL(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4="firebase-heartbeat-database",P4=1,fd="firebase-heartbeat-store";let lv=null;function TC(){return lv||(lv=GL(N4,P4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fd)}catch(t){console.warn(t)}}}}).catch(n=>{throw pi.create("idb-open",{originalErrorMessage:n.message})})),lv}async function V4(n){try{const t=(await TC()).transaction(fd),i=await t.objectStore(fd).get(EC(n));return await t.done,i}catch(e){if(e instanceof jn)gs.warn(e.message);else{const t=pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gs.warn(t.message)}}}async function vI(n,e){try{const i=(await TC()).transaction(fd,"readwrite");await i.objectStore(fd).put(e,EC(n)),await i.done}catch(t){if(t instanceof jn)gs.warn(t.message);else{const i=pi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});gs.warn(i.message)}}}function EC(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4=1024,O4=30;class k4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new U4(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=TI();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>O4){const u=j4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){gs.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=TI(),{heartbeatsToSend:i,unsentEntries:s}=L4(this._heartbeatsCache.heartbeats),o=xp(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return gs.warn(t),""}}}function TI(){return new Date().toISOString().substring(0,10)}function L4(n,e=M4){const t=[];let i=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),EI(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),EI(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class U4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hd()?wL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await V4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return vI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return vI(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function EI(n){return xp(JSON.stringify({version:2,heartbeats:n})).length}function j4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(n){Ra(new Fr("platform-logger",e=>new QL(e),"PRIVATE")),Ra(new Fr("heartbeat",e=>new k4(e),"PRIVATE")),er(Dp,Hv,n),er(Dp,Hv,"esm2020"),er("fire-js","")}B4("");const F4=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:jn,SDK_VERSION:Ua,_DEFAULT_ENTRY_NAME:Sa,_addComponent:dd,_addOrOverwriteComponent:mC,_apps:Ia,_clearComponents:S4,_components:Cu,_getProvider:pC,_isFirebaseApp:f0,_isFirebaseServerApp:Tt,_isFirebaseServerAppSettings:gC,_registerComponent:Ra,_removeServiceInstance:A4,_serverApps:xu,deleteApp:p0,getApp:C4,getApps:D4,initializeApp:m0,initializeServerApp:x4,onLog:_C,registerVersion:er,setLogLevel:vC},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,t){this._delegate=e,this.firebase=t,dd(e,new Fr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),p0(this._delegate)))}_getService(e,t=Sa){var s;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((s=i.getComponent())==null?void 0:s.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Sa){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){dd(this._delegate,e)}_addOrOverwriteComponent(e){mC(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},wI=new ol("app-compat","Firebase",q4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(n){const e={},t={__esModule:!0,initializeApp:o,app:s,registerVersion:er,setLogLevel:vC,onLog:_C,apps:null,SDK_VERSION:Ua,INTERNAL:{registerComponent:h,removeApp:i,useAsService:d,modularAPIs:F4}};t.default=t,Object.defineProperty(t,"apps",{get:u});function i(m){delete e[m]}function s(m){if(m=m||Sa,!fI(e,m))throw wI.create("no-app",{appName:m});return e[m]}s.App=n;function o(m,y={}){const _=m0(m,y);if(fI(e,_.name))return e[_.name];const T=new n(_,t);return e[_.name]=T,T}function u(){return Object.keys(e).map(m=>e[m])}function h(m){const y=m.name,_=y.replace("-compat","");if(Ra(m)&&m.type==="PUBLIC"){const T=(b=s())=>{if(typeof b[_]!="function")throw wI.create("invalid-app-argument",{appName:y});return b[_]()};m.serviceProps!==void 0&&Cp(T,m.serviceProps),t[_]=T,n.prototype[_]=function(...b){return this._getService.bind(this,y).apply(this,m.multipleInstances?b:[])}}return m.type==="PUBLIC"?t[_]:null}function d(m,y){return y==="serverAuth"?null:y}return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(){const n=H4(z4);n.INTERNAL={...n.INTERNAL,createFirebaseNamespace:wC,extendNamespace:e,createSubscribe:uC,ErrorFactory:ol,deepExtend:Cp};function e(t){Cp(n,t)}return n}const G4=wC();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=new ug("@firebase/app-compat"),K4="@firebase/app-compat",$4="0.5.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q4(n){er(K4,$4,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const n=o0();if(n.firebase!==void 0){bI.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=n.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&bI.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const ys=G4;Q4();var W4="firebase",Y4="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys.registerVersion(W4,Y4,"app-compat");const Ah={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},iu={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function bC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J4=X4,Z4=bC,AC=new ol("auth","Firebase",bC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=new ug("@firebase/auth");function e3(n,...e){Np.logLevel<=Ue.WARN&&Np.warn(`Auth (${Ua}): ${n}`,...e)}function op(n,...e){Np.logLevel<=Ue.ERROR&&Np.error(`Auth (${Ua}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(n,...e){throw y0(n,...e)}function on(n,...e){return y0(n,...e)}function g0(n,e,t){const i={...Z4(),[e]:t};return new ol("auth","Firebase",i).create(e,{appName:n.name})}function mn(n){return g0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ic(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Sn(n,"argument-error"),g0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y0(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return AC.create(n,...e)}function ce(n,e,...t){if(!n)throw y0(e,...t)}function Vr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw op(e),new Error(e)}function ir(n,e){n||Vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function _0(){return AI()==="http:"||AI()==="https:"}function AI(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_0()||sC()||"connection"in navigator)?navigator.onLine:!0}function n3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,t){this.shortDelay=e,this.longDelay=t,ir(t>e,"Short delay should be less than long delay!"),this.isMobile=vL()||c0()}get(){return t3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v0(n,e){ir(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],s3=new Hd(3e4,6e4);function Pt(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Vt(n,e,t,i,s={}){return IC(n,s,async()=>{let o={},u={};i&&(e==="GET"?u=i:o={body:JSON.stringify(i)});const h=nc({key:n.config.apiKey,...u}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:d,...o};return EL()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&tc(n.emulatorConfig.host)&&(m.credentials="include"),SC.fetch()(await RC(n,n.config.apiHost,t,h),m)})}async function IC(n,e,t){n._canInitEmulator=!1;const i={...i3,...e};try{const s=new o3(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw kh(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const h=o.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw kh(n,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw kh(n,"email-already-in-use",u);if(d==="USER_DISABLED")throw kh(n,"user-disabled",u);const y=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw g0(n,y,m);Sn(n,y)}}catch(s){if(s instanceof jn)throw s;Sn(n,"network-request-failed",{message:String(s)})}}async function bs(n,e,t,i,s={}){const o=await Vt(n,e,t,i,s);return"mfaPendingCredential"in o&&Sn(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function RC(n,e,t,i){const s=`${e}${t}?${i}`,o=n,u=o.config.emulator?v0(n.config,s):`${n.config.apiScheme}://${s}`;return r3.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function a3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(on(this.auth,"network-request-failed")),s3.get())})}}function kh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=on(n,e,i);return s.customData._tokenResponse=t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(n){return n!==void 0&&n.getResponse!==void 0}function II(n){return n!==void 0&&n.enterprise!==void 0}class xC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return a3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(n){return(await Vt(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function CC(n,e){return Vt(n,"GET","/v2/recaptchaConfig",Pt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3(n,e){return Vt(n,"POST","/v1/accounts:delete",e)}async function c3(n,e){return Vt(n,"POST","/v1/accounts:update",e)}async function Pp(n,e){return Vt(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function h3(n,e=!1){const t=Ae(n),i=await t.getIdToken(e),s=cg(i);ce(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:Gh(uv(s.auth_time)),issuedAtTime:Gh(uv(s.iat)),expirationTime:Gh(uv(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function uv(n){return Number(n)*1e3}function cg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return op("JWT malformed, contained fewer than 3 sections"),null;try{const s=a0(t);return s?JSON.parse(s):(op("Failed to decode base64 JWT payload"),null)}catch(s){return op("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function RI(n){const e=cg(n);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof jn&&d3(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function d3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gh(this.lastLoginAt),this.creationTime=Gh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pd(n){var _;const e=n.auth,t=await n.getIdToken(),i=await _s(n,Pp(e,{idToken:t}));ce(i==null?void 0:i.users.length,e,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=(_=s.providerUserInfo)!=null&&_.length?DC(s.providerUserInfo):[],u=p3(n.providerData,o),h=n.isAnonymous,d=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),m=h?d:!1,y={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Gv(s.createdAt,s.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function m3(n){const e=Ae(n);await pd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p3(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function DC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g3(n,e){const t=await IC(n,{},async()=>{const i=nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await RC(n,s,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return n.emulatorConfig&&tc(n.emulatorConfig.host)&&(d.credentials="include"),SC.fetch()(u,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function y3(n,e){return Vt(n,"POST","/v2/accounts:revokeToken",Pt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ce(e.length!==0,"internal-error");const t=RI(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:o}=await g3(e,t);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:o}=t,u=new Eu;return i&&(ce(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),s&&(ce(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(ce(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eu,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(n,e){ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zi{constructor({uid:e,auth:t,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new f3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await _s(this,this.stsTokenManager.getToken(this.auth,e));return ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return h3(this,e)}reload(){return m3(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await pd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Tt(this.auth.app))return Promise.reject(mn(this.auth));const e=await this.getIdToken();return await _s(this,u3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,h=t.tenantId??void 0,d=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:_,emailVerified:T,isAnonymous:b,providerData:C,stsTokenManager:P}=t;ce(_&&P,e,"internal-error");const V=Eu.fromJSON(this.name,P);ce(typeof _=="string",e,"internal-error"),la(i,e.name),la(s,e.name),ce(typeof T=="boolean",e,"internal-error"),ce(typeof b=="boolean",e,"internal-error"),la(o,e.name),la(u,e.name),la(h,e.name),la(d,e.name),la(m,e.name),la(y,e.name);const U=new Zi({uid:_,auth:e,email:s,emailVerified:T,displayName:i,isAnonymous:b,photoURL:u,phoneNumber:o,tenantId:h,stsTokenManager:V,createdAt:m,lastLoginAt:y});return C&&Array.isArray(C)&&(U.providerData=C.map(W=>({...W}))),d&&(U._redirectEventId=d),U}static async _fromIdTokenResponse(e,t,i=!1){const s=new Eu;s.updateFromServerResponse(t);const o=new Zi({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await pd(o),o}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];ce(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?DC(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),h=new Eu;h.updateFromIdToken(i);const d=new Zi({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Gv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=new Map;function fi(n){ir(n instanceof Function,"Expected a class definition");let e=xI.get(n);return e?(ir(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,xI.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}NC.type="NONE";const Du=NC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(n,e,t){return`firebase:${n}:${e}:${t}`}class wu{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Fo(this.userKey,s.apiKey,o),this.fullPersistenceKey=Fo("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Pp(this.auth,{idToken:e}).catch(()=>{});return t?Zi._fromGetAccountInfoResponse(this.auth,t,e):null}return Zi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new wu(fi(Du),e,i);const s=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||fi(Du);const u=Fo(i,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(u);if(y){let _;if(typeof y=="string"){const T=await Pp(e,{idToken:y}).catch(()=>{});if(!T)break;_=await Zi._fromGetAccountInfoResponse(e,T,y)}else _=Zi._fromJSON(e,y);m!==o&&(h=_),o=m;break}}catch{}const d=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new wu(o,e,i):(o=d[0],h&&await o._set(u,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new wu(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kC(e))return"Blackberry";if(LC(e))return"Webos";if(VC(e))return"Safari";if((e.includes("chrome/")||MC(e))&&!e.includes("edge/"))return"Chrome";if(Gd(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function PC(n=It()){return/firefox\//i.test(n)}function VC(n=It()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function MC(n=It()){return/crios\//i.test(n)}function OC(n=It()){return/iemobile/i.test(n)}function Gd(n=It()){return/android/i.test(n)}function kC(n=It()){return/blackberry/i.test(n)}function LC(n=It()){return/webos/i.test(n)}function Kd(n=It()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _3(n=It()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function v3(n=It()){var e;return Kd(n)&&!!((e=window.navigator)!=null&&e.standalone)}function T3(){return aC()&&document.documentMode===10}function UC(n=It()){return Kd(n)||Gd(n)||LC(n)||kC(n)||/windows phone/i.test(n)||OC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n,e=[]){let t;switch(n){case"Browser":t=CI(It());break;case"Worker":t=`${CI(It())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ua}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((u,h)=>{try{const d=e(o);u(d)}catch(d){h(d)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w3(n,e={}){return Vt(n,"GET","/v2/passwordPolicy",Pt(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=6;class A3{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??b3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DI(this),this.idTokenSubscription=new DI(this),this.beforeStateQueue=new E3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fi(t)),this._initializationPromise=this.queue(async()=>{var i,s,o;if(!this._deleted&&(this.persistenceManager=await wu.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Pp(this,{idToken:e}),i=await Zi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Tt(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(o=this.redirectUser)==null?void 0:o._redirectEventId,h=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await pd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Tt(this.app))return Promise.reject(mn(this));const t=e?Ae(e):null;return t&&ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Tt(this.app)?Promise.reject(mn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Tt(this.app)?Promise.reject(mn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await w3(this),t=new A3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ol("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await y3(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fi(e)||this._popupRedirectResolver;ce(t,this,"argument-error"),this.redirectPersistenceManager=await wu.create(this,[fi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(h,this,"internal-error"),h.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,i,s);return()=>{u=!0,d()}}else{const d=e.addObserver(t);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(Tt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&e3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Rt(n){return Ae(n)}class DI{constructor(e){this.auth=e,this.observer=null,this.addObserver=uC(t=>this.observer=t)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $d={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function I3(n){$d=n}function T0(n){return $d.loadJS(n)}function R3(){return $d.recaptchaV2Script}function x3(){return $d.recaptchaEnterpriseScript}function C3(){return $d.gapiScript}function BC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=500,N3=6e4,$m=1e12;class P3{constructor(e){this.auth=e,this.counter=$m,this._widgets=new Map}render(e,t){const i=this.counter;return this._widgets.set(i,new O3(e,this.auth.name,t||{})),this.counter++,i}reset(e){var i;const t=e||$m;(i=this._widgets.get(t))==null||i.delete(),this._widgets.delete(t)}getResponse(e){var i;const t=e||$m;return((i=this._widgets.get(t))==null?void 0:i.getResponse())||""}async execute(e){var i;const t=e||$m;return(i=this._widgets.get(t))==null||i.execute(),""}}class V3{constructor(){this.enterprise=new M3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class M3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class O3{constructor(e,t,i){this.params=i,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const s=typeof e=="string"?document.getElementById(e):e;ce(s,"argument-error",{appName:t}),this.container=s,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=k3(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},N3)},D3))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function k3(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<n;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}const L3="recaptcha-enterprise",Kh="NO_RECAPTCHA";class FC{constructor(e){this.type=L3,this.auth=Rt(e)}async verify(e="verify",t=!1){async function i(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,h)=>{CC(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new xC(d);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function s(o,u,h){const d=window.grecaptcha;II(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(Kh)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new V3().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{i(this.auth).then(h=>{if(!t&&II(window.grecaptcha))s(h,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=x3();d.length!==0&&(d+=h),T0(d).then(()=>{s(h,o,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function Sh(n,e,t,i=!1,s=!1){const o=new FC(n);let u;if(s)u=Kh;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ta(n,e,t,i,s){var o,u;if(s==="EMAIL_PASSWORD_PROVIDER")if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Sh(n,e,t,t==="getOobCode");return i(n,h)}else return i(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Sh(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(h)});else if(s==="PHONE_PROVIDER")if((u=n._getRecaptchaConfig())!=null&&u.isProviderEnabled("PHONE_PROVIDER")){const h=await Sh(n,e,t);return i(n,h).catch(async d=>{var m;if(((m=n._getRecaptchaConfig())==null?void 0:m.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(d.code==="auth/missing-recaptcha-token"||d.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const y=await Sh(n,e,t,!1,!0);return i(n,y)}return Promise.reject(d)})}else{const h=await Sh(n,e,t,!1,!0);return i(n,h)}else return Promise.reject(s+" provider is not supported.")}async function U3(n){const e=Rt(n),t=await CC(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),i=new xC(t);e.tenantId==null?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,i.isAnyProviderEnabled()&&new FC(e).verify()}function j3(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(fi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function B3(n,e,t){const i=Rt(n);ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!!(t!=null&&t.disableWarnings),o=zC(e),{host:u,port:h}=F3(e),d=h===null?"":`:${h}`,m={url:`${o}//${u}${d}/`},y=Object.freeze({host:u,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),ce(Aa(m,i.config.emulator)&&Aa(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,tc(u)?(nC(`${o}//${u}${d}`),iC("Auth",!0)):s||z3()}function zC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function F3(n){const e=zC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const o=s[1];return{host:o,port:NI(i.substr(o.length+1))}}else{const[o,u]=i.split(":");return{host:o,port:NI(u)}}}function NI(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function z3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,t){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(n,e){return Vt(n,"POST","/v1/accounts:resetPassword",Pt(n,e))}async function q3(n,e){return Vt(n,"POST","/v1/accounts:update",e)}async function H3(n,e){return Vt(n,"POST","/v1/accounts:signUp",e)}async function G3(n,e){return Vt(n,"POST","/v1/accounts:update",Pt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(n,e){return bs(n,"POST","/v1/accounts:signInWithPassword",Pt(n,e))}async function hg(n,e){return Vt(n,"POST","/v1/accounts:sendOobCode",Pt(n,e))}async function $3(n,e){return hg(n,e)}async function Q3(n,e){return hg(n,e)}async function W3(n,e){return hg(n,e)}async function Y3(n,e){return hg(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(n,e){return bs(n,"POST","/v1/accounts:signInWithEmailLink",Pt(n,e))}async function J3(n,e){return bs(n,"POST","/v1/accounts:signInWithEmailLink",Pt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends rc{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new gd(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new gd(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ta(e,t,"signInWithPassword",K3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return X3(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ta(e,i,"signUpPassword",H3,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return J3(e,{idToken:t,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ms(n,e){return bs(n,"POST","/v1/accounts:signInWithIdp",Pt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="http://localhost";class zr extends rc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new zr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...o}=t;if(!i||!s)return null;const u=new zr(i,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return ms(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ms(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ms(e,t)}buildRequest(){const e={requestUri:Z3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=nc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(n,e){return Vt(n,"POST","/v1/accounts:sendVerificationCode",Pt(n,e))}async function e6(n,e){return bs(n,"POST","/v1/accounts:signInWithPhoneNumber",Pt(n,e))}async function t6(n,e){const t=await bs(n,"POST","/v1/accounts:signInWithPhoneNumber",Pt(n,e));if(t.temporaryProof)throw kh(n,"account-exists-with-different-credential",t);return t}const n6={USER_NOT_FOUND:"user-not-found"};async function i6(n,e){const t={...e,operation:"REAUTH"};return bs(n,"POST","/v1/accounts:signInWithPhoneNumber",Pt(n,t),n6)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo extends rc{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new zo({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new zo({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return e6(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return t6(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return i6(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:s}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:s}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:t,verificationCode:i,phoneNumber:s,temporaryProof:o}=e;return!i&&!t&&!s&&!o?null:new zo({verificationId:t,verificationCode:i,phoneNumber:s,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function s6(n){const e=pu(Oh(n)).link,t=e?pu(Oh(e)).deep_link_id:null,i=pu(Oh(n)).deep_link_id;return(i?pu(Oh(i)).link:null)||i||t||e||n}class dg{constructor(e){const t=pu(Oh(e)),i=t.apiKey??null,s=t.oobCode??null,o=r6(t.mode??null);ce(i&&s&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=s6(e);try{return new dg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.providerId=ja.PROVIDER_ID}static credential(e,t){return gd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=dg.parseLink(t);return ce(i,"argument-error"),gd._fromEmailAndCode(e,i.code,i.tenantId)}}ja.PROVIDER_ID="password";ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends As{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class bu extends sc{static credentialFromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;return ce("providerId"in t&&"signInMethod"in t,"argument-error"),zr._fromParams(t)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ce(e.idToken||e.accessToken,"argument-error"),zr._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return bu.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return bu.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:u,providerId:h}=e;if(!i&&!s&&!t&&!o||!h)return null;try{return new bu(h)._credential({idToken:t,accessToken:i,nonce:u,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends sc{constructor(){super("facebook.com")}static credential(e){return zr._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return zr._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Dr.credential(t,i)}catch{return null}}}Dr.GOOGLE_SIGN_IN_METHOD="google.com";Dr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends sc{constructor(){super("github.com")}static credential(e){return zr._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.GITHUB_SIGN_IN_METHOD="github.com";Nr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="http://localhost";class Nu extends rc{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return ms(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ms(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ms(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,pendingToken:o}=t;return!i||!s||!o||i!==s?null:new Nu(i,o)}static _create(e,t){return new Nu(e,t)}buildRequest(){return{requestUri:a6,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6="saml.";class Vp extends As{constructor(e){ce(e.startsWith(o6),"argument-error"),super(e)}static credentialFromResult(e){return Vp.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Vp.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Nu.fromJSON(e);return ce(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:i}=e;if(!t||!i)return null;try{return Nu._create(i,t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends sc{constructor(){super("twitter.com")}static credential(e,t){return zr._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Pr.credential(t,i)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(n,e){return bs(n,"POST","/v1/accounts:signUp",Pt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const o=await Zi._fromIdTokenResponse(e,i,s),u=VI(i);return new ki({user:o,providerId:u,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=VI(i);return new ki({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function VI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(n){var s;if(Tt(n.app))return Promise.reject(mn(n));const e=Rt(n);if(await e._initializationPromise,(s=e.currentUser)!=null&&s.isAnonymous)return new ki({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await HC(e,{returnSecureToken:!0}),i=await ki._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends jn{constructor(e,t,i,s){super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Mp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Mp(e,t,i,s)}}function GC(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Mp._fromErrorAndOperation(n,o,e,i):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u6(n,e){const t=Ae(n);await fg(!0,t,e);const{providerUserInfo:i}=await c3(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),s=KC(i||[]);return t.providerData=t.providerData.filter(o=>s.has(o.providerId)),s.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function E0(n,e,t=!1){const i=await _s(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ki._forOperation(n,"link",i)}async function fg(n,e,t){await pd(e);const i=KC(e.providerData),s=n===!1?"provider-already-linked":"no-such-provider";ce(i.has(t)===n,e.auth,s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(n,e,t=!1){const{auth:i}=n;if(Tt(i.app))return Promise.reject(mn(i));const s="reauthenticate";try{const o=await _s(n,GC(i,s,e,n),t);ce(o.idToken,i,"internal-error");const u=cg(o.idToken);ce(u,i,"internal-error");const{sub:h}=u;return ce(n.uid===h,i,"user-mismatch"),ki._forOperation(n,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Sn(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QC(n,e,t=!1){if(Tt(n.app))return Promise.reject(mn(n));const i="signIn",s=await GC(n,i,e),o=await ki._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(o.user),o}async function mg(n,e){return QC(Rt(n),e)}async function WC(n,e){const t=Ae(n);return await fg(!1,t,e.providerId),E0(t,e)}async function YC(n,e){return $C(Ae(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(n,e){return bs(n,"POST","/v1/accounts:signInWithCustomToken",Pt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(n,e){if(Tt(n.app))return Promise.reject(mn(n));const t=Rt(n),i=await c6(t,{token:e,returnSecureToken:!0}),s=await ki._fromIdTokenResponse(t,"signIn",i);return await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?w0._fromServerResponse(e,t):"totpInfo"in t?b0._fromServerResponse(e,t):Sn(e,"internal-error")}}class w0 extends Qd{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new w0(t)}}class b0 extends Qd{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new b0(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(n,e,t){var i;ce(((i=t.url)==null?void 0:i.length)>0,n,"invalid-continue-uri"),ce(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),ce(typeof t.linkDomain>"u"||t.linkDomain.length>0,n,"invalid-hosting-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.linkDomain=t.linkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(ce(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(ce(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A0(n){const e=Rt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function d6(n,e,t){const i=Rt(n),s={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&pg(i,s,t),await Ta(i,s,"getOobCode",Q3,"EMAIL_PASSWORD_PROVIDER")}async function f6(n,e,t){await qC(Ae(n),{oobCode:e,newPassword:t}).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&A0(n),i})}async function m6(n,e){await G3(Ae(n),{oobCode:e})}async function XC(n,e){const t=Ae(n),i=await qC(t,{oobCode:e}),s=i.requestType;switch(ce(s,t,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ce(i.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ce(i.mfaInfo,t,"internal-error");default:ce(i.email,t,"internal-error")}let o=null;return i.mfaInfo&&(o=Qd._fromServerResponse(Rt(t),i.mfaInfo)),{data:{email:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.newEmail:i.email)||null,previousEmail:(i.requestType==="VERIFY_AND_CHANGE_EMAIL"?i.email:i.newEmail)||null,multiFactorInfo:o},operation:s}}async function p6(n,e){const{data:t}=await XC(Ae(n),e);return t.email}async function g6(n,e,t){if(Tt(n.app))return Promise.reject(mn(n));const i=Rt(n),u=await Ta(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",HC,"EMAIL_PASSWORD_PROVIDER").catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&A0(n),d}),h=await ki._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function y6(n,e,t){return Tt(n.app)?Promise.reject(mn(n)):mg(Ae(n),ja.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&A0(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _6(n,e,t){const i=Rt(n),s={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(u,h){ce(h.handleCodeInApp,i,"argument-error"),h&&pg(i,u,h)}o(s,t),await Ta(i,s,"getOobCode",W3,"EMAIL_PASSWORD_PROVIDER")}function v6(n,e){const t=dg.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function T6(n,e,t){if(Tt(n.app))return Promise.reject(mn(n));const i=Ae(n),s=ja.credentialWithLink(e,t||md());return ce(s._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),mg(i,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E6(n,e){return Vt(n,"POST","/v1/accounts:createAuthUri",Pt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6(n,e){const t=_0()?md():"http://localhost",i={identifier:e,continueUri:t},{signinMethods:s}=await E6(Ae(n),i);return s||[]}async function b6(n,e){const t=Ae(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&pg(t.auth,s,e);const{email:o}=await $3(t.auth,s);o!==n.email&&await n.reload()}async function A6(n,e,t){const i=Ae(n),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&pg(i.auth,o,t);const{email:u}=await Y3(i.auth,o);u!==n.email&&await n.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(n,e){return Vt(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Ae(n),o={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await _s(i,S6(i.auth,o));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const h=i.providerData.find(({providerId:d})=>d==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function R6(n,e){const t=Ae(n);return Tt(t.auth.app)?Promise.reject(mn(t.auth)):JC(t,e,null)}function x6(n,e){return JC(Ae(n),null,e)}async function JC(n,e,t){const{auth:i}=n,o={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(o.email=e),t&&(o.password=t);const u=await _s(n,q3(i,o));await n._updateTokensIfNecessary(u,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(n){var s,o;if(!n)return null;const{providerId:e}=n,t=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},i=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(n!=null&&n.idToken)){const u=(o=(s=cg(n.idToken))==null?void 0:s.firebase)==null?void 0:o.sign_in_provider;if(u){const h=u!=="anonymous"&&u!=="custom"?u:null;return new Au(i,h)}}if(!e)return null;switch(e){case"facebook.com":return new D6(i,t);case"github.com":return new N6(i,t);case"google.com":return new P6(i,t);case"twitter.com":return new V6(i,t,n.screenName||null);case"custom":case"anonymous":return new Au(i,null);default:return new Au(i,e,t)}}class Au{constructor(e,t,i={}){this.isNewUser=e,this.providerId=t,this.profile=i}}class ZC extends Au{constructor(e,t,i,s){super(e,t,i),this.username=s}}class D6 extends Au{constructor(e,t){super(e,"facebook.com",t)}}class N6 extends ZC{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}}class P6 extends Au{constructor(e,t){super(e,"google.com",t)}}class V6 extends ZC{constructor(e,t,i){super(e,"twitter.com",t,i)}}function M6(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:C6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e,t,i){this.type=e,this.credential=t,this.user=i}static _fromIdtoken(e,t){return new Oo("enroll",e,t)}static _fromMfaPendingCredential(e){return new Oo("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,i;if(e!=null&&e.multiFactorSession){if((t=e.multiFactorSession)!=null&&t.pendingCredential)return Oo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((i=e.multiFactorSession)!=null&&i.idToken)return Oo._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,t,i){this.session=e,this.hints=t,this.signInResolver=i}static _fromError(e,t){const i=Rt(e),s=t.customData._serverResponse,o=(s.mfaInfo||[]).map(h=>Qd._fromServerResponse(i,h));ce(s.mfaPendingCredential,i,"internal-error");const u=Oo._fromMfaPendingCredential(s.mfaPendingCredential);return new S0(u,o,async h=>{const d=await h._process(i,u);delete s.mfaInfo,delete s.mfaPendingCredential;const m={...s,idToken:d.idToken,refreshToken:d.refreshToken};switch(t.operationType){case"signIn":const y=await ki._fromIdTokenResponse(i,t.operationType,m);return await i._updateCurrentUser(y.user),y;case"reauthenticate":return ce(t.user,i,"internal-error"),ki._forOperation(t.user,t.operationType,m);default:Sn(i,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function O6(n,e){var s;const t=Ae(n),i=e;return ce(e.customData.operationType,t,"argument-error"),ce((s=i.customData._serverResponse)==null?void 0:s.mfaPendingCredential,t,"argument-error"),S0._fromError(t,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(n,e){return Vt(n,"POST","/v2/accounts/mfaEnrollment:start",Pt(n,e))}function k6(n,e){return Vt(n,"POST","/v2/accounts/mfaEnrollment:finalize",Pt(n,e))}function L6(n,e){return Vt(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Pt(n,e))}class I0{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(i=>Qd._fromServerResponse(e.auth,i)))})}static _fromUser(e){return new I0(e)}async getSession(){return Oo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const i=e,s=await this.getSession(),o=await _s(this.user,i._process(this.user.auth,s,t));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const t=typeof e=="string"?e:e.uid,i=await this.user.getIdToken();try{const s=await _s(this.user,L6(this.user.auth,{idToken:i,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==t),await this.user._updateTokensIfNecessary(s),await this.user.reload()}catch(s){throw s}}}const cv=new WeakMap;function U6(n){const e=Ae(n);return cv.has(e)||cv.set(e,I0._fromUser(e)),cv.get(e)}const Op="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Op,"1"),this.storage.removeItem(Op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=1e3,B6=10;class tD extends eD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(i);!t&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);T3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,B6):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},j6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tD.type="LOCAL";const R0=tD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD extends eD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nD.type="SESSION";const $o=nD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new gg(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const h=Array.from(u).map(async m=>m(t.origin,o)),d=await F6(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((h,d)=>{const m=Wd("",20);s.port1.start();const y=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:s,onMessage(_){const T=_;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(y),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return window}function q6(n){Zt().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(){return typeof Zt().WorkerGlobalScope<"u"&&typeof Zt().importScripts=="function"}async function H6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function G6(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function K6(){return x0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="firebaseLocalStorageDb",$6=1,kp="firebaseLocalStorage",rD="fbase_key";class Yd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function yg(n,e){return n.transaction([kp],e?"readwrite":"readonly").objectStore(kp)}function Q6(){const n=indexedDB.deleteDatabase(iD);return new Yd(n).toPromise()}function Kv(){const n=indexedDB.open(iD,$6);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(kp,{keyPath:rD})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(kp)?e(i):(i.close(),await Q6(),e(await Kv()))})})}async function OI(n,e,t){const i=yg(n,!0).put({[rD]:e,value:t});return new Yd(i).toPromise()}async function W6(n,e){const t=yg(n,!1).get(e),i=await new Yd(t).toPromise();return i===void 0?null:i.value}function kI(n,e){const t=yg(n,!0).delete(e);return new Yd(t).toPromise()}const Y6=800,X6=3;class sD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>X6)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gg._getInstance(K6()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await H6(),!this.activeServiceWorker)return;this.sender=new z6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||G6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kv();return await OI(e,Op,"1"),await kI(e,Op),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>OI(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>W6(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>kI(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=yg(s,!1).getAll();return new Yd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sD.type="LOCAL";const yd=sD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n,e){return Vt(n,"POST","/v2/accounts/mfaSignIn:start",Pt(n,e))}function J6(n,e){return Vt(n,"POST","/v2/accounts/mfaSignIn:finalize",Pt(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=BC("rcb"),Z6=new Hd(3e4,6e4);class eU{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=Zt().grecaptcha)!=null&&e.render)}load(e,t=""){return ce(tU(t),e,"argument-error"),this.shouldResolveImmediately(t)&&SI(Zt().grecaptcha)?Promise.resolve(Zt().grecaptcha):new Promise((i,s)=>{const o=Zt().setTimeout(()=>{s(on(e,"network-request-failed"))},Z6.get());Zt()[hv]=()=>{Zt().clearTimeout(o),delete Zt()[hv];const h=Zt().grecaptcha;if(!h||!SI(h)){s(on(e,"internal-error"));return}const d=h.render;h.render=(m,y)=>{const _=d(m,y);return this.counter++,_},this.hostLanguage=t,i(h)};const u=`${R3()}?${nc({onload:hv,render:"explicit",hl:t})}`;T0(u).catch(()=>{clearTimeout(o),s(on(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!((t=Zt().grecaptcha)!=null&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function tU(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}class nU{async load(e){return new P3(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="recaptcha",iU={theme:"light",type:"image"};let rU=class{constructor(e,t,i={...iU}){this.parameters=i,this.type=$h,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rt(e),this.isInvisible=this.parameters.size==="invisible",ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const s=typeof t=="string"?document.getElementById(t):t;ce(s,this.auth,"argument-error"),this.container=s,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nU:new eU,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),i=t.getResponse(e);return i||new Promise(s=>{const o=u=>{u&&(this.tokenChangeListeners.delete(o),s(u))};this.tokenChangeListeners.add(o),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ce(!this.parameters.sitekey,this.auth,"argument-error"),ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ce(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(i=>i(t)),typeof e=="function")e(t);else if(typeof e=="string"){const i=Zt()[e];typeof i=="function"&&i(t)}}}assertNotDestroyed(){ce(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ce(_0()&&!x0(),this.auth,"internal-error"),await sU(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await l3(this.auth);ce(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function sU(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=zo._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function aU(n,e,t){if(Tt(n.app))return Promise.reject(mn(n));const i=Rt(n),s=await _g(i,e,Ae(t));return new C0(s,o=>mg(i,o))}async function oU(n,e,t){const i=Ae(n);await fg(!1,i,"phone");const s=await _g(i.auth,e,Ae(t));return new C0(s,o=>WC(i,o))}async function lU(n,e,t){const i=Ae(n);if(Tt(i.auth.app))return Promise.reject(mn(i.auth));const s=await _g(i.auth,e,Ae(t));return new C0(s,o=>YC(i,o))}async function _g(n,e,t){var i;if(!n._getRecaptchaConfig())try{await U3(n)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){const o=s.session;if("phoneNumber"in s){ce(o.type==="enroll",n,"internal-error");const u={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Ta(n,u,"mfaSmsEnrollment",async(y,_)=>{if(_.phoneEnrollmentInfo.captchaResponse===Kh){ce((t==null?void 0:t.type)===$h,y,"argument-error");const T=await dv(y,_,t);return MI(y,T)}return MI(y,_)},"PHONE_PROVIDER").catch(y=>Promise.reject(y))).phoneSessionInfo.sessionInfo}else{ce(o.type==="signin",n,"internal-error");const u=((i=s.multiFactorHint)==null?void 0:i.uid)||s.multiFactorUid;ce(u,n,"missing-multi-factor-info");const h={mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Ta(n,h,"mfaSmsSignIn",async(_,T)=>{if(T.phoneSignInInfo.captchaResponse===Kh){ce((t==null?void 0:t.type)===$h,_,"argument-error");const b=await dv(_,T,t);return LI(_,b)}return LI(_,T)},"PHONE_PROVIDER").catch(_=>Promise.reject(_))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:s.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Ta(n,o,"sendVerificationCode",async(m,y)=>{if(y.captchaResponse===Kh){ce((t==null?void 0:t.type)===$h,m,"argument-error");const _=await dv(m,y,t);return PI(m,_)}return PI(m,y)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).sessionInfo}}finally{t==null||t._reset()}}async function uU(n,e){const t=Ae(n);if(Tt(t.auth.app))return Promise.reject(mn(t.auth));await E0(t,e)}async function dv(n,e,t){ce(t.type===$h,n,"argument-error");const i=await t.verify();ce(typeof i=="string",n,"argument-error");const s={...e};if("phoneEnrollmentInfo"in s){const o=s.phoneEnrollmentInfo.phoneNumber,u=s.phoneEnrollmentInfo.captchaResponse,h=s.phoneEnrollmentInfo.clientType,d=s.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:i,captchaResponse:u,clientType:h,recaptchaVersion:d}}),s}else if("phoneSignInInfo"in s){const o=s.phoneSignInInfo.captchaResponse,u=s.phoneSignInInfo.clientType,h=s.phoneSignInInfo.recaptchaVersion;return Object.assign(s,{phoneSignInInfo:{recaptchaToken:i,captchaResponse:o,clientType:u,recaptchaVersion:h}}),s}else return Object.assign(s,{recaptchaToken:i}),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo=class lp{constructor(e){this.providerId=lp.PROVIDER_ID,this.auth=Rt(e)}verifyPhoneNumber(e,t){return _g(this.auth,e,Ae(t))}static credential(e,t){return zo._fromVerification(e,t)}static credentialFromResult(e){const t=e;return lp.credentialFromTaggedObject(t)}static credentialFromError(e){return lp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:i}=e;return t&&i?zo._fromTokenResponse(t,i):null}};Qo.PROVIDER_ID="phone";Qo.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(n,e){return e?fi(e):(ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends rc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ms(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ms(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function cU(n){return QC(n.auth,new D0(n),n.bypassAuthState)}function hU(n){const{auth:e,user:t}=n;return ce(t,e,"internal-error"),$C(t,new D0(n),n.bypassAuthState)}async function dU(n){const{auth:e,user:t}=n;return ce(t,e,"internal-error"),E0(t,new D0(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,t,i,s,o=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:o,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:t,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cU;case"linkViaPopup":case"linkViaRedirect":return dU;case"reauthViaPopup":case"reauthViaRedirect":return hU;default:Sn(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=new Hd(2e3,1e4);async function mU(n,e,t){if(Tt(n.app))return Promise.reject(on(n,"operation-not-supported-in-this-environment"));const i=Rt(n);ic(n,e,As);const s=ll(i,t);return new hs(i,"signInViaPopup",e,s).executeNotNull()}async function pU(n,e,t){const i=Ae(n);if(Tt(i.auth.app))return Promise.reject(on(i.auth,"operation-not-supported-in-this-environment"));ic(i.auth,e,As);const s=ll(i.auth,t);return new hs(i.auth,"reauthViaPopup",e,s,i).executeNotNull()}async function gU(n,e,t){const i=Ae(n);ic(i.auth,e,As);const s=ll(i.auth,t);return new hs(i.auth,"linkViaPopup",e,s,i).executeNotNull()}class hs extends aD{constructor(e,t,i,s,o){super(e,t,s,o),this.provider=i,this.authWindow=null,this.pollId=null,hs.currentPopupAction&&hs.currentPopupAction.cancel(),hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Wd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(on(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(on(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(on(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fU.get())};e()}}hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU="pendingRedirect",Qh=new Map;class _U extends aD{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Qh.get(this.auth._key());if(!e){try{const i=await vU(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Qh.set(this.auth._key(),e)}return this.bypassAuthState||Qh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vU(n,e){const t=lD(e),i=oD(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}async function N0(n,e){return oD(n)._set(lD(e),"true")}function TU(){Qh.clear()}function P0(n,e){Qh.set(n._key(),e)}function oD(n){return fi(n._redirectPersistence)}function lD(n){return Fo(yU,n.config.apiKey,n.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EU(n,e,t){return wU(n,e,t)}async function wU(n,e,t){if(Tt(n.app))return Promise.reject(mn(n));const i=Rt(n);ic(n,e,As),await i._initializationPromise;const s=ll(i,t);return await N0(s,i),s._openRedirect(i,e,"signInViaRedirect")}function bU(n,e,t){return AU(n,e,t)}async function AU(n,e,t){const i=Ae(n);if(ic(i.auth,e,As),Tt(i.auth.app))return Promise.reject(mn(i.auth));await i.auth._initializationPromise;const s=ll(i.auth,t);await N0(s,i.auth);const o=await uD(i);return s._openRedirect(i.auth,e,"reauthViaRedirect",o)}function SU(n,e,t){return IU(n,e,t)}async function IU(n,e,t){const i=Ae(n);ic(i.auth,e,As),await i.auth._initializationPromise;const s=ll(i.auth,t);await fg(!1,i,e.providerId),await N0(s,i.auth);const o=await uD(i);return s._openRedirect(i.auth,e,"linkViaRedirect",o)}async function RU(n,e){return await Rt(n)._initializationPromise,vg(n,e,!1)}async function vg(n,e,t=!1){if(Tt(n.app))return Promise.reject(mn(n));const i=Rt(n),s=ll(i,e),u=await new _U(i,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}async function uD(n){const e=Wd(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xU=600*1e3;class cD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CU(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!hD(e)){const s=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(on(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xU&&this.cachedEventUids.clear(),this.cachedEventUids.has(UI(e))}saveEventToCache(e){this.cachedEventUids.add(UI(e)),this.lastProcessedEventTime=Date.now()}}function UI(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function hD({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function CU(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hD(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(n,e={}){return Vt(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NU=/^https?/;async function PU(n){if(n.config.emulator)return;const{authorizedDomains:e}=await dD(n);for(const t of e)try{if(VU(t))return}catch{}Sn(n,"unauthorized-domain")}function VU(n){const e=md(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===i}if(!NU.test(t))return!1;if(DU.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=new Hd(3e4,6e4);function jI(){const n=Zt().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function OU(n){return new Promise((e,t)=>{var s,o,u;function i(){jI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jI(),t(on(n,"network-request-failed"))},timeout:MU.get()})}if((o=(s=Zt().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((u=Zt().gapi)!=null&&u.load)i();else{const h=BC("iframefcb");return Zt()[h]=()=>{gapi.load?i():t(on(n,"network-request-failed"))},T0(`${C3()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw up=null,e})}let up=null;function kU(n){return up=up||OU(n),up}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=new Hd(5e3,15e3),UU="__/auth/iframe",jU="emulator/auth/iframe",BU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zU(n){const e=n.config;ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?v0(e,jU):`https://${n.config.authDomain}/${UU}`,i={apiKey:e.apiKey,appName:n.name,v:Ua},s=FU.get(n.config.apiHost);s&&(i.eid=s);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${nc(i).slice(1)}`}async function qU(n){const e=await kU(n),t=Zt().gapi;return ce(t,n,"internal-error"),e.open({where:document.body,url:zU(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BU,dontclear:!0},i=>new Promise(async(s,o)=>{await i.restyle({setHideOnLeave:!1});const u=on(n,"network-request-failed"),h=Zt().setTimeout(()=>{o(u)},LU.get());function d(){Zt().clearTimeout(h),s(i)}i.ping(d).then(d,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GU=500,KU=600,$U="_blank",QU="http://localhost";class BI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WU(n,e,t,i=GU,s=KU){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d={...HU,width:i.toString(),height:s.toString(),top:o,left:u},m=It().toLowerCase();t&&(h=MC(m)?$U:t),PC(m)&&(e=e||QU,d.scrollbars="yes");const y=Object.entries(d).reduce((T,[b,C])=>`${T}${b}=${C},`,"");if(v3(m)&&h!=="_self")return YU(e||"",h),new BI(null);const _=window.open(e||"",h,y);ce(_,n,"popup-blocked");try{_.focus()}catch{}return new BI(_)}function YU(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU="__/auth/handler",JU="emulator/auth/handler",ZU=encodeURIComponent("fac");async function $v(n,e,t,i,s,o){ce(n.config.authDomain,n,"auth-domain-config-required"),ce(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Ua,eventId:s};if(e instanceof As){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",IL(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries(o||{}))u[y]=_}if(e instanceof sc){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const d=await n._getAppCheckToken(),m=d?`#${ZU}=${encodeURIComponent(d)}`:"";return`${e5(n)}?${nc(h).slice(1)}${m}`}function e5({config:n}){return n.emulator?v0(n,JU):`https://${n.authDomain}/${XU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="webStorageSupport";class t5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$o,this._completeRedirectFn=vg,this._overrideRedirectResult=P0}async _openPopup(e,t,i,s){var u;ir((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const o=await $v(e,t,i,md(),s);return WU(e,o,Wd())}async _openRedirect(e,t,i,s){await this._originValidation(e);const o=await $v(e,t,i,md(),s);return q6(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(ir(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await qU(e),i=new cD(e);return t.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(fv,{type:fv},s=>{var u;const o=(u=s==null?void 0:s[0])==null?void 0:u[fv];o!==void 0&&t(!!o),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=PU(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UC()||VC()||Kd()}}const n5=t5;class i5{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return Vr("unexpected MultiFactorSessionType")}}}class V0 extends i5{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new V0(e)}_finalizeEnroll(e,t,i){return k6(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return J6(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class fD{constructor(){}static assertion(e){return V0._fromCredential(e)}}fD.FACTOR_ID="phone";var FI="@firebase/auth",zI="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a5(n){Ra(new Fr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;ce(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jC(n)},m=new S3(i,s,o,d);return j3(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ra(new Fr("auth-internal",e=>{const t=Rt(e.getProvider("auth").getImmediate());return(i=>new r5(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),er(FI,zI,s5(n)),er(FI,zI,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o5=300;mL("authIdTokenMaxAge");function l5(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}I3({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const o=on("internal-error");o.customData=s,t(o)},i.type="text/javascript",i.charset="UTF-8",l5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a5("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wo(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=2e3;async function c5(n,e,t){const{BuildInfo:i}=Wo();ir(e.sessionId,"AuthEvent did not contain a session ID");const s=await p5(e.sessionId),o={};return Kd()?o.ibi=i.packageName:Gd()?o.apn=i.packageName:Sn(n,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,$v(n,t,e.type,void 0,e.eventId??void 0,o)}async function h5(n){const{BuildInfo:e}=Wo(),t={};Kd()?t.iosBundleId=e.packageName:Gd()?t.androidPackageName=e.packageName:Sn(n,"operation-not-supported-in-this-environment"),await dD(n,t)}function d5(n){const{cordova:e}=Wo();return new Promise(t=>{e.plugins.browsertab.isAvailable(i=>{let s=null;i?e.plugins.browsertab.openUrl(n):s=e.InAppBrowser.open(n,_3()?"_blank":"_system","location=yes"),t(s)})})}async function f5(n,e,t){const{cordova:i}=Wo();let s=()=>{};try{await new Promise((o,u)=>{let h=null;function d(){var T;o();const _=(T=i.plugins.browsertab)==null?void 0:T.close;typeof _=="function"&&_(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function m(){h||(h=window.setTimeout(()=>{u(on(n,"redirect-cancelled-by-user"))},u5))}function y(){(document==null?void 0:document.visibilityState)==="visible"&&m()}e.addPassiveListener(d),document.addEventListener("resume",m,!1),Gd()&&document.addEventListener("visibilitychange",y,!1),s=()=>{e.removePassiveListener(d),document.removeEventListener("resume",m,!1),document.removeEventListener("visibilitychange",y,!1),h&&window.clearTimeout(h)}})}finally{s()}}function m5(n){var t,i,s,o,u,h,d,m,y,_;const e=Wo();ce(typeof((t=e==null?void 0:e.universalLinks)==null?void 0:t.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ce(typeof((i=e==null?void 0:e.BuildInfo)==null?void 0:i.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ce(typeof((u=(o=(s=e==null?void 0:e.cordova)==null?void 0:s.plugins)==null?void 0:o.browsertab)==null?void 0:u.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce(typeof((m=(d=(h=e==null?void 0:e.cordova)==null?void 0:h.plugins)==null?void 0:d.browsertab)==null?void 0:m.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ce(typeof((_=(y=e==null?void 0:e.cordova)==null?void 0:y.InAppBrowser)==null?void 0:_.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function p5(n){const e=g5(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}function g5(n){if(ir(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);const e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let i=0;i<n.length;i++)t[i]=n.charCodeAt(i);return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y5=20;class _5 extends cD{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function v5(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:w5(),postBody:null,tenantId:n.tenantId,error:on(n,"no-auth-event")}}function T5(n,e){return Qv()._set(Wv(n),e)}async function qI(n){const e=await Qv()._get(Wv(n));return e&&await Qv()._remove(Wv(n)),e}function E5(n,e){var i,s;const t=A5(e);if(t.includes("/__/auth/callback")){const o=cp(t),u=o.firebaseError?b5(decodeURIComponent(o.firebaseError)):null,h=(s=(i=u==null?void 0:u.code)==null?void 0:i.split("auth/"))==null?void 0:s[1],d=h?on(h):null;return d?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:d,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:t,postBody:null}}return null}function w5(){const n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<y5;t++){const i=Math.floor(Math.random()*e.length);n.push(e.charAt(i))}return n.join("")}function Qv(){return fi(R0)}function Wv(n){return Fo("authEvent",n.config.apiKey,n.name)}function b5(n){try{return JSON.parse(n)}catch{return null}}function A5(n){const e=cp(n),t=e.link?decodeURIComponent(e.link):void 0,i=cp(t).link,s=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return cp(s).link||s||i||t||n}function cp(n){if(!(n!=null&&n.includes("?")))return{};const[e,...t]=n.split("?");return pu(t.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=500;class I5{constructor(){this._redirectPersistence=$o,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=vg,this._overrideRedirectResult=P0}async _initialize(e){const t=e._key();let i=this.eventManagers.get(t);return i||(i=new _5(e),this.eventManagers.set(t,i),this.attachCallbackListeners(e,i)),i}_openPopup(e){Sn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,i,s){m5(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),TU(),await this._originValidation(e);const u=v5(e,i,s);await T5(e,u);const h=await c5(e,u,t),d=await d5(h);return f5(e,o,d)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=h5(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:i,handleOpenURL:s,BuildInfo:o}=Wo(),u=setTimeout(async()=>{await qI(e),t.onEvent(HI())},S5),h=async y=>{clearTimeout(u);const _=await qI(e);let T=null;_&&(y!=null&&y.url)&&(T=E5(_,y.url)),t.onEvent(T||HI())};typeof i<"u"&&typeof i.subscribe=="function"&&i.subscribe(null,h);const d=s,m=`${o.packageName.toLowerCase()}://`;Wo().handleOpenURL=async y=>{if(y.toLowerCase().startsWith(m)&&h({url:y}),typeof d=="function")try{d(y)}catch(_){console.error(_)}}}}const R5=I5;function HI(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:on("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(n,e){Rt(n)._logFramework(e)}var C5="@firebase/auth-compat",D5="0.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=1e3;function Wh(){var n;return((n=self==null?void 0:self.location)==null?void 0:n.protocol)||null}function P5(){return Wh()==="http:"||Wh()==="https:"}function mD(n=It()){return!!((Wh()==="file:"||Wh()==="ionic:"||Wh()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function V5(){return c0()||lg()}function M5(){return aC()&&(document==null?void 0:document.documentMode)===11}function O5(n=It()){return/Edge\/\d+/.test(n)}function k5(n=It()){return M5()||O5(n)}function pD(){try{const n=self.localStorage,e=Wd();if(n)return n.setItem(e,"1"),n.removeItem(e),k5()?hd():!0}catch{return M0()&&hd()}return!1}function M0(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function mv(){return(P5()||sC()||mD())&&!V5()&&pD()&&!M0()}function gD(){return mD()&&typeof document<"u"}async function L5(){return gD()?new Promise(n=>{const e=setTimeout(()=>{n(!1)},N5);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function U5(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di={LOCAL:"local",NONE:"none",SESSION:"session"},Ih=ce,yD="persistence";function j5(n,e){if(Ih(Object.values(di).includes(e),n,"invalid-persistence-type"),c0()){Ih(e!==di.SESSION,n,"unsupported-persistence-type");return}if(lg()){Ih(e===di.NONE,n,"unsupported-persistence-type");return}if(M0()){Ih(e===di.NONE||e===di.LOCAL&&hd(),n,"unsupported-persistence-type");return}Ih(e===di.NONE||pD(),n,"unsupported-persistence-type")}async function Yv(n){await n._initializationPromise;const e=_D(),t=Fo(yD,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistenceType())}function B5(n,e){const t=_D();if(!t)return[];const i=Fo(yD,n,e);switch(t.getItem(i)){case di.NONE:return[Du];case di.LOCAL:return[yd,$o];case di.SESSION:return[$o];default:return[]}}function _D(){var n;try{return((n=U5())==null?void 0:n.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=ce;class ga{constructor(){this.browserResolver=fi(n5),this.cordovaResolver=fi(R5),this.underlyingResolver=null,this._redirectPersistence=$o,this._completeRedirectFn=vg,this._overrideRedirectResult=P0}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,i,s)}async _openRedirect(e,t,i,s){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,i,s)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return gD()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return F5(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await L5();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(n){return n.unwrap()}function z5(n){return n.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q5(n){return TD(n)}function H5(n,e){var i;const t=(i=e.customData)==null?void 0:i._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const s=e;s.resolver=new G5(n,O6(n,e))}else if(t){const s=TD(e),o=e;s&&(o.credential=s,o.tenantId=t.tenantId||void 0,o.email=t.email||void 0,o.phoneNumber=t.phoneNumber||void 0)}}function TD(n){const{_tokenResponse:e}=n instanceof jn?n.customData:n;if(!e)return null;if(!(n instanceof jn)&&"temporaryProof"in e&&"phoneNumber"in e)return Qo.credentialFromResult(n);const t=e.providerId;if(!t||t===Ah.PASSWORD)return null;let i;switch(t){case Ah.GOOGLE:i=Dr;break;case Ah.FACEBOOK:i=Cr;break;case Ah.GITHUB:i=Nr;break;case Ah.TWITTER:i=Pr;break;default:const{oauthIdToken:s,oauthAccessToken:o,oauthTokenSecret:u,pendingToken:h,nonce:d}=e;return!o&&!u&&!s&&!h?null:h?t.startsWith("saml.")?Nu._create(t,h):zr._fromParams({providerId:t,signInMethod:t,pendingToken:h,idToken:s,accessToken:o}):new bu(t).credential({idToken:s,accessToken:o,rawNonce:d})}return n instanceof jn?i.credentialFromError(n):i.credentialFromResult(n)}function Wn(n,e){return e.catch(t=>{throw t instanceof jn&&H5(n,t),t}).then(t=>{const i=t.operationType,s=t.user;return{operationType:i,credential:q5(t),additionalUserInfo:M6(t),user:Tg.getOrCreate(s)}})}async function Xv(n,e){const t=await e;return{verificationId:t.verificationId,confirm:i=>Wn(n,t.confirm(i))}}class G5{constructor(e,t){this.resolver=t,this.auth=z5(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Wn(vD(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tg=class Lh{constructor(e){this._delegate=e,this.multiFactor=U6(e)}static getOrCreate(e){return Lh.USER_MAP.has(e)||Lh.USER_MAP.set(e,new Lh(e)),Lh.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Wn(this.auth,WC(this._delegate,e))}async linkWithPhoneNumber(e,t){return Xv(this.auth,oU(this._delegate,e,t))}async linkWithPopup(e){return Wn(this.auth,gU(this._delegate,e,ga))}async linkWithRedirect(e){return await Yv(Rt(this.auth)),SU(this._delegate,e,ga)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Wn(this.auth,YC(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Xv(this.auth,lU(this._delegate,e,t))}reauthenticateWithPopup(e){return Wn(this.auth,pU(this._delegate,e,ga))}async reauthenticateWithRedirect(e){return await Yv(Rt(this.auth)),bU(this._delegate,e,ga)}sendEmailVerification(e){return b6(this._delegate,e)}async unlink(e){return await u6(this._delegate,e),this}updateEmail(e){return R6(this._delegate,e)}updatePassword(e){return x6(this._delegate,e)}updatePhoneNumber(e){return uU(this._delegate,e)}updateProfile(e){return I6(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return A6(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Tg.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=ce;class Jv{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:i}=e.options;Rh(i,"invalid-api-key",{appName:e.name}),Rh(i,"invalid-api-key",{appName:e.name});const s=typeof window<"u"?ga:void 0;this._delegate=t.initialize({options:{persistence:K5(i,e.name),popupRedirectResolver:s}}),this._delegate._updateErrorMap(J4),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tg.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){B3(this._delegate,e,t)}applyActionCode(e){return m6(this._delegate,e)}checkActionCode(e){return XC(this._delegate,e)}confirmPasswordReset(e,t){return f6(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Wn(this._delegate,g6(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return w6(this._delegate,e)}isSignInWithEmailLink(e){return v6(this._delegate,e)}async getRedirectResult(){Rh(mv(),this._delegate,"operation-not-supported-in-this-environment");const e=await RU(this._delegate,ga);return e?Wn(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){x5(this._delegate,e)}onAuthStateChanged(e,t,i){const{next:s,error:o,complete:u}=GI(e,t,i);return this._delegate.onAuthStateChanged(s,o,u)}onIdTokenChanged(e,t,i){const{next:s,error:o,complete:u}=GI(e,t,i);return this._delegate.onIdTokenChanged(s,o,u)}sendSignInLinkToEmail(e,t){return _6(this._delegate,e,t)}sendPasswordResetEmail(e,t){return d6(this._delegate,e,t||void 0)}async setPersistence(e){j5(this._delegate,e);let t;switch(e){case di.SESSION:t=$o;break;case di.LOCAL:t=await fi(yd)._isAvailable()?yd:R0;break;case di.NONE:t=Du;break;default:return Sn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Wn(this._delegate,l6(this._delegate))}signInWithCredential(e){return Wn(this._delegate,mg(this._delegate,e))}signInWithCustomToken(e){return Wn(this._delegate,h6(this._delegate,e))}signInWithEmailAndPassword(e,t){return Wn(this._delegate,y6(this._delegate,e,t))}signInWithEmailLink(e,t){return Wn(this._delegate,T6(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Xv(this._delegate,aU(this._delegate,e,t))}async signInWithPopup(e){return Rh(mv(),this._delegate,"operation-not-supported-in-this-environment"),Wn(this._delegate,mU(this._delegate,e,ga))}async signInWithRedirect(e){return Rh(mv(),this._delegate,"operation-not-supported-in-this-environment"),await Yv(this._delegate),EU(this._delegate,e,ga)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return p6(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}Jv.Persistence=di;function GI(n,e,t){let i=n;typeof n!="function"&&({next:i,error:e,complete:t}=n);const s=i;return{next:u=>s(u&&Tg.getOrCreate(u)),error:e,complete:t}}function K5(n,e){const t=B5(n,e);if(typeof self<"u"&&!t.includes(yd)&&t.push(yd),typeof window<"u")for(const i of[R0,$o])t.includes(i)||t.push(i);return t.includes(Du)||t.push(Du),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{static credential(e,t){return Qo.credential(e,t)}constructor(){this.providerId="phone",this._delegate=new Qo(vD(ys.auth()))}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}O0.PHONE_SIGN_IN_METHOD=Qo.PHONE_SIGN_IN_METHOD;O0.PROVIDER_ID=Qo.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=ce;class Q5{constructor(e,t,i=ys.app()){var s;$5((s=i.options)==null?void 0:s.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new rU(i.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W5="auth-compat";function Y5(n){n.INTERNAL.registerComponent(new Fr(W5,e=>{const t=e.getProvider("app-compat").getImmediate(),i=e.getProvider("auth");return new Jv(t,i)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:iu.EMAIL_SIGNIN,PASSWORD_RESET:iu.PASSWORD_RESET,RECOVER_EMAIL:iu.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:iu.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:iu.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:iu.VERIFY_EMAIL}},EmailAuthProvider:ja,FacebookAuthProvider:Cr,GithubAuthProvider:Nr,GoogleAuthProvider:Dr,OAuthProvider:bu,SAMLAuthProvider:Vp,PhoneAuthProvider:O0,PhoneMultiFactorGenerator:fD,RecaptchaVerifier:Q5,TwitterAuthProvider:Pr,Auth:Jv,AuthCredential:rc,Error:jn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(C5,D5)}Y5(ys);var KI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ea,ED;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,I){function D(){}D.prototype=I.prototype,x.F=I.prototype,x.prototype=new D,x.prototype.constructor=x,x.D=function(k,L,z){for(var M=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)M[Ke-2]=arguments[Ke];return I.prototype[L].apply(k,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,I,D){D||(D=0);const k=Array(16);if(typeof I=="string")for(var L=0;L<16;++L)k[L]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(L=0;L<16;++L)k[L]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=x.g[0],D=x.g[1],L=x.g[2];let z=x.g[3],M;M=I+(z^D&(L^z))+k[0]+3614090360&4294967295,I=D+(M<<7&4294967295|M>>>25),M=z+(L^I&(D^L))+k[1]+3905402710&4294967295,z=I+(M<<12&4294967295|M>>>20),M=L+(D^z&(I^D))+k[2]+606105819&4294967295,L=z+(M<<17&4294967295|M>>>15),M=D+(I^L&(z^I))+k[3]+3250441966&4294967295,D=L+(M<<22&4294967295|M>>>10),M=I+(z^D&(L^z))+k[4]+4118548399&4294967295,I=D+(M<<7&4294967295|M>>>25),M=z+(L^I&(D^L))+k[5]+1200080426&4294967295,z=I+(M<<12&4294967295|M>>>20),M=L+(D^z&(I^D))+k[6]+2821735955&4294967295,L=z+(M<<17&4294967295|M>>>15),M=D+(I^L&(z^I))+k[7]+4249261313&4294967295,D=L+(M<<22&4294967295|M>>>10),M=I+(z^D&(L^z))+k[8]+1770035416&4294967295,I=D+(M<<7&4294967295|M>>>25),M=z+(L^I&(D^L))+k[9]+2336552879&4294967295,z=I+(M<<12&4294967295|M>>>20),M=L+(D^z&(I^D))+k[10]+4294925233&4294967295,L=z+(M<<17&4294967295|M>>>15),M=D+(I^L&(z^I))+k[11]+2304563134&4294967295,D=L+(M<<22&4294967295|M>>>10),M=I+(z^D&(L^z))+k[12]+1804603682&4294967295,I=D+(M<<7&4294967295|M>>>25),M=z+(L^I&(D^L))+k[13]+4254626195&4294967295,z=I+(M<<12&4294967295|M>>>20),M=L+(D^z&(I^D))+k[14]+2792965006&4294967295,L=z+(M<<17&4294967295|M>>>15),M=D+(I^L&(z^I))+k[15]+1236535329&4294967295,D=L+(M<<22&4294967295|M>>>10),M=I+(L^z&(D^L))+k[1]+4129170786&4294967295,I=D+(M<<5&4294967295|M>>>27),M=z+(D^L&(I^D))+k[6]+3225465664&4294967295,z=I+(M<<9&4294967295|M>>>23),M=L+(I^D&(z^I))+k[11]+643717713&4294967295,L=z+(M<<14&4294967295|M>>>18),M=D+(z^I&(L^z))+k[0]+3921069994&4294967295,D=L+(M<<20&4294967295|M>>>12),M=I+(L^z&(D^L))+k[5]+3593408605&4294967295,I=D+(M<<5&4294967295|M>>>27),M=z+(D^L&(I^D))+k[10]+38016083&4294967295,z=I+(M<<9&4294967295|M>>>23),M=L+(I^D&(z^I))+k[15]+3634488961&4294967295,L=z+(M<<14&4294967295|M>>>18),M=D+(z^I&(L^z))+k[4]+3889429448&4294967295,D=L+(M<<20&4294967295|M>>>12),M=I+(L^z&(D^L))+k[9]+568446438&4294967295,I=D+(M<<5&4294967295|M>>>27),M=z+(D^L&(I^D))+k[14]+3275163606&4294967295,z=I+(M<<9&4294967295|M>>>23),M=L+(I^D&(z^I))+k[3]+4107603335&4294967295,L=z+(M<<14&4294967295|M>>>18),M=D+(z^I&(L^z))+k[8]+1163531501&4294967295,D=L+(M<<20&4294967295|M>>>12),M=I+(L^z&(D^L))+k[13]+2850285829&4294967295,I=D+(M<<5&4294967295|M>>>27),M=z+(D^L&(I^D))+k[2]+4243563512&4294967295,z=I+(M<<9&4294967295|M>>>23),M=L+(I^D&(z^I))+k[7]+1735328473&4294967295,L=z+(M<<14&4294967295|M>>>18),M=D+(z^I&(L^z))+k[12]+2368359562&4294967295,D=L+(M<<20&4294967295|M>>>12),M=I+(D^L^z)+k[5]+4294588738&4294967295,I=D+(M<<4&4294967295|M>>>28),M=z+(I^D^L)+k[8]+2272392833&4294967295,z=I+(M<<11&4294967295|M>>>21),M=L+(z^I^D)+k[11]+1839030562&4294967295,L=z+(M<<16&4294967295|M>>>16),M=D+(L^z^I)+k[14]+4259657740&4294967295,D=L+(M<<23&4294967295|M>>>9),M=I+(D^L^z)+k[1]+2763975236&4294967295,I=D+(M<<4&4294967295|M>>>28),M=z+(I^D^L)+k[4]+1272893353&4294967295,z=I+(M<<11&4294967295|M>>>21),M=L+(z^I^D)+k[7]+4139469664&4294967295,L=z+(M<<16&4294967295|M>>>16),M=D+(L^z^I)+k[10]+3200236656&4294967295,D=L+(M<<23&4294967295|M>>>9),M=I+(D^L^z)+k[13]+681279174&4294967295,I=D+(M<<4&4294967295|M>>>28),M=z+(I^D^L)+k[0]+3936430074&4294967295,z=I+(M<<11&4294967295|M>>>21),M=L+(z^I^D)+k[3]+3572445317&4294967295,L=z+(M<<16&4294967295|M>>>16),M=D+(L^z^I)+k[6]+76029189&4294967295,D=L+(M<<23&4294967295|M>>>9),M=I+(D^L^z)+k[9]+3654602809&4294967295,I=D+(M<<4&4294967295|M>>>28),M=z+(I^D^L)+k[12]+3873151461&4294967295,z=I+(M<<11&4294967295|M>>>21),M=L+(z^I^D)+k[15]+530742520&4294967295,L=z+(M<<16&4294967295|M>>>16),M=D+(L^z^I)+k[2]+3299628645&4294967295,D=L+(M<<23&4294967295|M>>>9),M=I+(L^(D|~z))+k[0]+4096336452&4294967295,I=D+(M<<6&4294967295|M>>>26),M=z+(D^(I|~L))+k[7]+1126891415&4294967295,z=I+(M<<10&4294967295|M>>>22),M=L+(I^(z|~D))+k[14]+2878612391&4294967295,L=z+(M<<15&4294967295|M>>>17),M=D+(z^(L|~I))+k[5]+4237533241&4294967295,D=L+(M<<21&4294967295|M>>>11),M=I+(L^(D|~z))+k[12]+1700485571&4294967295,I=D+(M<<6&4294967295|M>>>26),M=z+(D^(I|~L))+k[3]+2399980690&4294967295,z=I+(M<<10&4294967295|M>>>22),M=L+(I^(z|~D))+k[10]+4293915773&4294967295,L=z+(M<<15&4294967295|M>>>17),M=D+(z^(L|~I))+k[1]+2240044497&4294967295,D=L+(M<<21&4294967295|M>>>11),M=I+(L^(D|~z))+k[8]+1873313359&4294967295,I=D+(M<<6&4294967295|M>>>26),M=z+(D^(I|~L))+k[15]+4264355552&4294967295,z=I+(M<<10&4294967295|M>>>22),M=L+(I^(z|~D))+k[6]+2734768916&4294967295,L=z+(M<<15&4294967295|M>>>17),M=D+(z^(L|~I))+k[13]+1309151649&4294967295,D=L+(M<<21&4294967295|M>>>11),M=I+(L^(D|~z))+k[4]+4149444226&4294967295,I=D+(M<<6&4294967295|M>>>26),M=z+(D^(I|~L))+k[11]+3174756917&4294967295,z=I+(M<<10&4294967295|M>>>22),M=L+(I^(z|~D))+k[2]+718787259&4294967295,L=z+(M<<15&4294967295|M>>>17),M=D+(z^(L|~I))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+z&4294967295}i.prototype.v=function(x,I){I===void 0&&(I=x.length);const D=I-this.blockSize,k=this.C;let L=this.h,z=0;for(;z<I;){if(L==0)for(;z<=D;)s(this,x,z),z+=this.blockSize;if(typeof x=="string"){for(;z<I;)if(k[L++]=x.charCodeAt(z++),L==this.blockSize){s(this,k),L=0;break}}else for(;z<I;)if(k[L++]=x[z++],L==this.blockSize){s(this,k),L=0;break}}this.h=L,this.o+=I},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;I=this.o*8;for(var D=x.length-8;D<x.length;++D)x[D]=I&255,I/=256;for(this.v(x),x=Array(16),I=0,D=0;D<4;++D)for(let k=0;k<32;k+=8)x[I++]=this.g[D]>>>k&255;return x};function o(x,I){var D=h;return Object.prototype.hasOwnProperty.call(D,x)?D[x]:D[x]=I(x)}function u(x,I){this.h=I;const D=[];let k=!0;for(let L=x.length-1;L>=0;L--){const z=x[L]|0;k&&z==I||(D[L]=z,k=!1)}this.g=D}var h={};function d(x){return-128<=x&&x<128?o(x,function(I){return new u([I|0],I<0?-1:0)}):new u([x|0],x<0?-1:0)}function m(x){if(isNaN(x)||!isFinite(x))return _;if(x<0)return V(m(-x));const I=[];let D=1;for(let k=0;x>=D;k++)I[k]=x/D|0,D*=4294967296;return new u(I,0)}function y(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return V(y(x.substring(1),I));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(I,8));let k=_;for(let z=0;z<x.length;z+=8){var L=Math.min(8,x.length-z);const M=parseInt(x.substring(z,z+L),I);L<8?(L=m(Math.pow(I,L)),k=k.j(L).add(m(M))):(k=k.j(D),k=k.add(m(M)))}return k}var _=d(0),T=d(1),b=d(16777216);n=u.prototype,n.m=function(){if(P(this))return-V(this).m();let x=0,I=1;for(let D=0;D<this.g.length;D++){const k=this.i(D);x+=(k>=0?k:4294967296+k)*I,I*=4294967296}return x},n.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(C(this))return"0";if(P(this))return"-"+V(this).toString(x);const I=m(Math.pow(x,6));var D=this;let k="";for(;;){const L=ae(D,I).g;D=U(D,L.j(I));let z=((D.g.length>0?D.g[0]:D.h)>>>0).toString(x);if(D=L,C(D))return z+k;for(;z.length<6;)z="0"+z;k=z+k}},n.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function C(x){if(x.h!=0)return!1;for(let I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function P(x){return x.h==-1}n.l=function(x){return x=U(this,x),P(x)?-1:C(x)?0:1};function V(x){const I=x.g.length,D=[];for(let k=0;k<I;k++)D[k]=~x.g[k];return new u(D,~x.h).add(T)}n.abs=function(){return P(this)?V(this):this},n.add=function(x){const I=Math.max(this.g.length,x.g.length),D=[];let k=0;for(let L=0;L<=I;L++){let z=k+(this.i(L)&65535)+(x.i(L)&65535),M=(z>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);k=M>>>16,z&=65535,M&=65535,D[L]=M<<16|z}return new u(D,D[D.length-1]&-2147483648?-1:0)};function U(x,I){return x.add(V(I))}n.j=function(x){if(C(this)||C(x))return _;if(P(this))return P(x)?V(this).j(V(x)):V(V(this).j(x));if(P(x))return V(this.j(V(x)));if(this.l(b)<0&&x.l(b)<0)return m(this.m()*x.m());const I=this.g.length+x.g.length,D=[];for(var k=0;k<2*I;k++)D[k]=0;for(k=0;k<this.g.length;k++)for(let L=0;L<x.g.length;L++){const z=this.i(k)>>>16,M=this.i(k)&65535,Ke=x.i(L)>>>16,ut=x.i(L)&65535;D[2*k+2*L]+=M*ut,W(D,2*k+2*L),D[2*k+2*L+1]+=z*ut,W(D,2*k+2*L+1),D[2*k+2*L+1]+=M*Ke,W(D,2*k+2*L+1),D[2*k+2*L+2]+=z*Ke,W(D,2*k+2*L+2)}for(x=0;x<I;x++)D[x]=D[2*x+1]<<16|D[2*x];for(x=I;x<2*I;x++)D[x]=0;return new u(D,0)};function W(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function F(x,I){this.g=x,this.h=I}function ae(x,I){if(C(I))throw Error("division by zero");if(C(x))return new F(_,_);if(P(x))return I=ae(V(x),I),new F(V(I.g),V(I.h));if(P(I))return I=ae(x,V(I)),new F(V(I.g),I.h);if(x.g.length>30){if(P(x)||P(I))throw Error("slowDivide_ only works with positive integers.");for(var D=T,k=I;k.l(x)<=0;)D=ne(D),k=ne(k);var L=le(D,1),z=le(k,1);for(k=le(k,2),D=le(D,2);!C(k);){var M=z.add(k);M.l(x)<=0&&(L=L.add(D),z=M),k=le(k,1),D=le(D,1)}return I=U(x,L.j(I)),new F(L,I)}for(L=_;x.l(I)>=0;){for(D=Math.max(1,Math.floor(x.m()/I.m())),k=Math.ceil(Math.log(D)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),z=m(D),M=z.j(I);P(M)||M.l(x)>0;)D-=k,z=m(D),M=z.j(I);C(z)&&(z=T),L=L.add(z),x=U(x,M)}return new F(L,x)}n.B=function(x){return ae(this,x).h},n.and=function(x){const I=Math.max(this.g.length,x.g.length),D=[];for(let k=0;k<I;k++)D[k]=this.i(k)&x.i(k);return new u(D,this.h&x.h)},n.or=function(x){const I=Math.max(this.g.length,x.g.length),D=[];for(let k=0;k<I;k++)D[k]=this.i(k)|x.i(k);return new u(D,this.h|x.h)},n.xor=function(x){const I=Math.max(this.g.length,x.g.length),D=[];for(let k=0;k<I;k++)D[k]=this.i(k)^x.i(k);return new u(D,this.h^x.h)};function ne(x){const I=x.g.length+1,D=[];for(let k=0;k<I;k++)D[k]=x.i(k)<<1|x.i(k-1)>>>31;return new u(D,x.h)}function le(x,I){const D=I>>5;I%=32;const k=x.g.length-D,L=[];for(let z=0;z<k;z++)L[z]=I>0?x.i(z+D)>>>I|x.i(z+D+1)<<32-I:x.i(z+D);return new u(L,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,ED=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Ea=u}).apply(typeof KI<"u"?KI:typeof self<"u"?self:typeof window<"u"?window:{});var Qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wD,Uh,bD,hp,Zv,AD,SD,ID;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qm=="object"&&Qm];for(var v=0;v<f.length;++v){var w=f[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=t(this);function s(f,v){if(v)e:{var w=i;f=f.split(".");for(var R=0;R<f.length-1;R++){var G=f[R];if(!(G in w))break e;w=w[G]}f=f[f.length-1],R=w[f],v=v(R),v!=R&&v!=null&&e(w,f,{configurable:!0,writable:!0,value:v})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(v){var w=[],R;for(R in v)Object.prototype.hasOwnProperty.call(v,R)&&w.push([R,v[R]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function h(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function d(f,v,w){return f.call.apply(f.bind,arguments)}function m(f,v,w){return m=d,m.apply(null,arguments)}function y(f,v){var w=Array.prototype.slice.call(arguments,1);return function(){var R=w.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function _(f,v){function w(){}w.prototype=v.prototype,f.Z=v.prototype,f.prototype=new w,f.prototype.constructor=f,f.Ob=function(R,G,J){for(var de=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)de[Ne-2]=arguments[Ne];return v.prototype[G].apply(R,de)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function b(f){const v=f.length;if(v>0){const w=Array(v);for(let R=0;R<v;R++)w[R]=f[R];return w}return[]}function C(f,v){for(let R=1;R<arguments.length;R++){const G=arguments[R];var w=typeof G;if(w=w!="object"?w:G?Array.isArray(G)?"array":w:"null",w=="array"||w=="object"&&typeof G.length=="number"){w=f.length||0;const J=G.length||0;f.length=w+J;for(let de=0;de<J;de++)f[w+de]=G[de]}else f.push(G)}}class P{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(f){u.setTimeout(()=>{throw f},0)}function U(){var f=x;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class W{constructor(){this.h=this.g=null}add(v,w){const R=F.get();R.set(v,w),this.h?this.h.next=R:this.g=R,this.h=R}}var F=new P(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,le=!1,x=new W,I=()=>{const f=Promise.resolve(void 0);ne=()=>{f.then(D)}};function D(){for(var f;f=U();){try{f.h.call(f.g)}catch(w){V(w)}var v=F;v.j(f),v.h<100&&(v.h++,f.next=v.g,v.g=f)}le=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const w=()=>{};u.addEventListener("test",w,v),u.removeEventListener("test",w,v)}catch{}return f})();function M(f){return/^[\s\xa0]*$/.test(f)}function Ke(f,v){L.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,v)}_(Ke,L),Ke.prototype.init=function(f,v){const w=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget,v||(w=="mouseover"?v=f.fromElement:w=="mouseout"&&(v=f.toElement)),this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Ke.Z.h.call(this)},Ke.prototype.h=function(){Ke.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),K=0;function re(f,v,w,R,G){this.listener=f,this.proxy=null,this.src=v,this.type=w,this.capture=!!R,this.ha=G,this.key=++K,this.da=this.fa=!1}function fe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Ie(f,v,w){for(const R in f)v.call(w,f[R],R,f)}function he(f,v){for(const w in f)v.call(void 0,f[w],w,f)}function j(f){const v={};for(const w in f)v[w]=f[w];return v}const se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ge(f,v){let w,R;for(let G=1;G<arguments.length;G++){R=arguments[G];for(w in R)f[w]=R[w];for(let J=0;J<se.length;J++)w=se[J],Object.prototype.hasOwnProperty.call(R,w)&&(f[w]=R[w])}}function _e(f){this.src=f,this.g={},this.h=0}_e.prototype.add=function(f,v,w,R,G){const J=f.toString();f=this.g[J],f||(f=this.g[J]=[],this.h++);const de=Me(f,v,R,G);return de>-1?(v=f[de],w||(v.fa=!1)):(v=new re(v,this.src,J,!!R,G),v.fa=w,f.push(v)),v};function xe(f,v){const w=v.type;if(w in f.g){var R=f.g[w],G=Array.prototype.indexOf.call(R,v,void 0),J;(J=G>=0)&&Array.prototype.splice.call(R,G,1),J&&(fe(v),f.g[w].length==0&&(delete f.g[w],f.h--))}}function Me(f,v,w,R){for(let G=0;G<f.length;++G){const J=f[G];if(!J.da&&J.listener==v&&J.capture==!!w&&J.ha==R)return G}return-1}var He="closure_lm_"+(Math.random()*1e6|0),tn={};function gt(f,v,w,R,G){if(Array.isArray(v)){for(let J=0;J<v.length;J++)gt(f,v[J],w,R,G);return null}return w=vc(w),f&&f[ut]?f.J(v,w,h(R)?!!R.capture:!1,G):Ka(f,v,w,!1,R,G)}function Ka(f,v,w,R,G,J){if(!v)throw Error("Invalid event type");const de=h(G)?!!G.capture:!!G;let Ne=$a(f);if(Ne||(f[He]=Ne=new _e(f)),w=Ne.add(v,w,R,de,J),w.proxy)return w;if(R=fl(),w.proxy=R,R.src=f,R.listener=w,f.addEventListener)z||(G=de),G===void 0&&(G=!1),f.addEventListener(v.toString(),R,G);else if(f.attachEvent)f.attachEvent(sr(v.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return w}function fl(){function f(w){return v.call(f.src,f.listener,w)}const v=yc;return f}function ml(f,v,w,R,G){if(Array.isArray(v))for(var J=0;J<v.length;J++)ml(f,v[J],w,R,G);else R=h(R)?!!R.capture:!!R,w=vc(w),f&&f[ut]?(f=f.i,J=String(v).toString(),J in f.g&&(v=f.g[J],w=Me(v,w,R,G),w>-1&&(fe(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete f.g[J],f.h--)))):f&&(f=$a(f))&&(v=f.g[v.toString()],f=-1,v&&(f=Me(v,w,R,G)),(w=f>-1?v[f]:null)&&pl(w))}function pl(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[ut])xe(v.i,f);else{var w=f.type,R=f.proxy;v.removeEventListener?v.removeEventListener(w,R,f.capture):v.detachEvent?v.detachEvent(sr(w),R):v.addListener&&v.removeListener&&v.removeListener(R),(w=$a(v))?(xe(w,f),w.h==0&&(w.src=null,v[He]=null)):fe(f)}}}function sr(f){return f in tn?tn[f]:tn[f]="on"+f}function yc(f,v){if(f.da)f=!0;else{v=new Ke(v,this);const w=f.listener,R=f.ha||f.src;f.fa&&pl(f),f=w.call(R,v)}return f}function $a(f){return f=f[He],f instanceof _e?f:null}var _c="__closure_events_fn_"+(Math.random()*1e9>>>0);function vc(f){return typeof f=="function"?f:(f[_c]||(f[_c]=function(v){return f.handleEvent(v)}),f[_c])}function zt(){k.call(this),this.i=new _e(this),this.M=this,this.G=null}_(zt,k),zt.prototype[ut]=!0,zt.prototype.removeEventListener=function(f,v,w,R){ml(this,f,v,w,R)};function nn(f,v){var w,R=f.G;if(R)for(w=[];R;R=R.G)w.push(R);if(f=f.M,R=v.type||v,typeof v=="string")v=new L(v,f);else if(v instanceof L)v.target=v.target||f;else{var G=v;v=new L(R,f),ge(v,G)}G=!0;let J,de;if(w)for(de=w.length-1;de>=0;de--)J=v.g=w[de],G=Cs(J,R,!0,v)&&G;if(J=v.g=f,G=Cs(J,R,!0,v)&&G,G=Cs(J,R,!1,v)&&G,w)for(de=0;de<w.length;de++)J=v.g=w[de],G=Cs(J,R,!1,v)&&G}zt.prototype.N=function(){if(zt.Z.N.call(this),this.i){var f=this.i;for(const v in f.g){const w=f.g[v];for(let R=0;R<w.length;R++)fe(w[R]);delete f.g[v],f.h--}}this.G=null},zt.prototype.J=function(f,v,w,R){return this.i.add(String(f),v,!1,w,R)},zt.prototype.K=function(f,v,w,R){return this.i.add(String(f),v,!0,w,R)};function Cs(f,v,w,R){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();let G=!0;for(let J=0;J<v.length;++J){const de=v[J];if(de&&!de.da&&de.capture==w){const Ne=de.listener,Ot=de.ha||de.src;de.fa&&xe(f.i,de),G=Ne.call(Ot,R)!==!1&&G}}return G&&!R.defaultPrevented}function Jg(f,v){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=m(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(f,v||0)}function yf(f){f.g=Jg(()=>{f.g=null,f.i&&(f.i=!1,yf(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class Vn extends k{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:yf(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qa(f){k.call(this),this.h=f,this.g={}}_(Qa,k);var Tc=[];function Ec(f){Ie(f.g,function(v,w){this.g.hasOwnProperty(w)&&pl(v)},f),f.g={}}Qa.prototype.N=function(){Qa.Z.N.call(this),Ec(this)},Qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ds=u.JSON.stringify,Zg=u.JSON.parse,_f=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function vf(){}function Tf(){}var Ui={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){L.call(this,"d")}_(pn,L);function _i(){L.call(this,"c")}_(_i,L);var Mt={},Ef=null;function gl(){return Ef=Ef||new zt}Mt.Ia="serverreachability";function wf(f){L.call(this,Mt.Ia,f)}_(wf,L);function ar(f){const v=gl();nn(v,new wf(v))}Mt.STAT_EVENT="statevent";function Wa(f,v){L.call(this,Mt.STAT_EVENT,f),this.stat=v}_(Wa,L);function qt(f){const v=gl();nn(v,new Wa(v,f))}Mt.Ja="timingevent";function or(f,v){L.call(this,Mt.Ja,f),this.size=v}_(or,L);function lr(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},v)}function ji(){this.g=!0}ji.prototype.ua=function(){this.g=!1};function ey(f,v,w,R,G,J){f.info(function(){if(f.g)if(J){var de="",Ne=J.split("&");for(let Ye=0;Ye<Ne.length;Ye++){var Ot=Ne[Ye].split("=");if(Ot.length>1){const yt=Ot[0];Ot=Ot[1];const wi=yt.split("_");de=wi.length>=2&&wi[1]=="type"?de+(yt+"="+Ot+"&"):de+(yt+"=redacted&")}}}else de=null;else de=J;return"XMLHTTP REQ ("+R+") [attempt "+G+"]: "+v+`
`+w+`
`+de})}function bf(f,v,w,R,G,J,de){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+G+"]: "+v+`
`+w+`
`+J+" "+de})}function ur(f,v,w,R){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+ty(f,w)+(R?" "+R:"")})}function Ya(f,v){f.info(function(){return"TIMEOUT: "+v})}ji.prototype.info=function(){};function ty(f,v){if(!f.g)return v;if(!v)return null;try{const J=JSON.parse(v);if(J){for(f=0;f<J.length;f++)if(Array.isArray(J[f])){var w=J[f];if(!(w.length<2)){var R=w[1];if(Array.isArray(R)&&!(R.length<1)){var G=R[0];if(G!="noop"&&G!="stop"&&G!="close")for(let de=1;de<R.length;de++)R[de]=""}}}}return Ds(J)}catch{return v}}var Xa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},wc={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bc;function Ja(){}_(Ja,vf),Ja.prototype.g=function(){return new XMLHttpRequest},bc=new Ja;function Kr(f){return encodeURIComponent(String(f))}function Af(f){var v=1;f=f.split(":");const w=[];for(;v>0&&f.length;)w.push(f.shift()),v--;return f.length&&w.push(f.join(":")),w}function Bi(f,v,w,R){this.j=f,this.i=v,this.l=w,this.S=R||1,this.V=new Qa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fi}function Fi(){this.i=null,this.g="",this.h=!1}var Ht={},un={};function cr(f,v,w){f.M=1,f.A=Za(Kt(v)),f.u=w,f.R=!0,yl(f,null)}function yl(f,v){f.F=Date.now(),hr(f),f.B=Kt(f.A);var w=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),El(w.i,"t",R),f.C=0,w=f.j.L,f.h=new Fi,f.g=jf(f.j,w?v:null,!f.u),f.P>0&&(f.O=new Vn(m(f.Y,f,f.g),f.P)),v=f.V,w=f.g,R=f.ba;var G="readystatechange";Array.isArray(G)||(G&&(Tc[0]=G.toString()),G=Tc);for(let J=0;J<G.length;J++){const de=gt(w,G[J],R||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=f.J?j(f.J):{},f.u?(f.v||(f.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,v)):(f.v="GET",f.g.ea(f.B,f.v,null,v)),ar(),ey(f.i,f.v,f.B,f.l,f.S,f.u)}Bi.prototype.ba=function(f){f=f.target;const v=this.O;v&&Hi(f)==3?v.j():this.Y(f)},Bi.prototype.Y=function(f){try{if(f==this.g)e:{const Ne=Hi(this.g),Ot=this.g.ya(),Ye=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||gn(this.g)))){this.K||Ne!=4||Ot==7||(Ot==8||Ye<=0?ar(3):ar(2)),dr(this);var v=this.g.ca();this.X=v;var w=ny(this);if(this.o=v==200,bf(this.i,this.v,this.B,this.l,this.S,Ne,v),this.o){if(this.U&&!this.L){t:{if(this.g){var R,G=this.g;if((R=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(R)){var J=R;break t}}J=null}if(f=J)ur(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,fr(this,f);else{this.o=!1,this.m=3,qt(12),ni(this),vi(this);break e}}if(this.R){f=!0;let yt;for(;!this.K&&this.C<w.length;)if(yt=If(this,w),yt==un){Ne==4&&(this.m=4,qt(14),f=!1),ur(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Ht){this.m=4,qt(15),ur(this.i,this.l,w,"[Invalid Chunk]"),f=!1;break}else ur(this.i,this.l,yt,null),fr(this,yt);if(Sf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||w.length!=0||this.h.h||(this.m=1,qt(16),f=!1),this.o=this.o&&f,!f)ur(this.i,this.l,w,"[Invalid Chunked Response]"),ni(this),vi(this);else if(w.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Uc(de),de.P=!0,qt(11))}}else ur(this.i,this.l,w,null),fr(this,w);Ne==4&&ni(this),this.o&&!this.K&&(Ne==4?Of(this.j,this):(this.o=!1,hr(this)))}else Qr(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),ni(this),vi(this)}}}catch{}finally{}};function ny(f){if(!Sf(f))return f.g.la();const v=gn(f.g);if(v==="")return"";let w="";const R=v.length,G=Hi(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return ni(f),vi(f),"";f.h.i=new u.TextDecoder}for(let J=0;J<R;J++)f.h.h=!0,w+=f.h.i.decode(v[J],{stream:!(G&&J==R-1)});return v.length=0,f.h.g+=w,f.C=0,f.h.g}function Sf(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function If(f,v){var w=f.C,R=v.indexOf(`
`,w);return R==-1?un:(w=Number(v.substring(w,R)),isNaN(w)?Ht:(R+=1,R+w>v.length?un:(v=v.slice(R,R+w),f.C=R+w,v)))}Bi.prototype.cancel=function(){this.K=!0,ni(this)};function hr(f){f.T=Date.now()+f.H,_l(f,f.H)}function _l(f,v){if(f.D!=null)throw Error("WatchDog timer not null");f.D=lr(m(f.aa,f),v)}function dr(f){f.D&&(u.clearTimeout(f.D),f.D=null)}Bi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(Ya(this.i,this.B),this.M!=2&&(ar(),qt(17)),ni(this),this.m=2,vi(this)):_l(this,this.T-f)};function vi(f){f.j.I==0||f.K||Of(f.j,f)}function ni(f){dr(f);var v=f.O;v&&typeof v.dispose=="function"&&v.dispose(),f.O=null,Ec(f.V),f.g&&(v=f.g,f.g=null,v.abort(),v.dispose())}function fr(f,v){try{var w=f.j;if(w.I!=0&&(w.g==f||pr(w.h,f))){if(!f.L&&pr(w.h,f)&&w.I==3){try{var R=w.Ba.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var G=R;if(G[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<f.F)Il(w),Us(w);else break e;ao(w),qt(18)}}else w.xa=G[1],0<w.xa-w.K&&G[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=lr(m(w.Va,w),6e3));mr(w.h)<=1&&w.ta&&(w.ta=void 0)}else Er(w,11)}else if((f.L||w.g==f)&&Il(w),!M(v))for(G=w.Ba.g.parse(v),v=0;v<G.length;v++){let Ye=G[v];const yt=Ye[0];if(!(yt<=w.K))if(w.K=yt,Ye=Ye[1],w.I==2)if(Ye[0]=="c"){w.M=Ye[1],w.ba=Ye[2];const wi=Ye[3];wi!=null&&(w.ka=wi,w.j.info("VER="+w.ka));const wr=Ye[4];wr!=null&&(w.za=wr,w.j.info("SVER="+w.za));const Gi=Ye[5];Gi!=null&&typeof Gi=="number"&&Gi>0&&(R=1.5*Gi,w.O=R,w.j.info("backChannelRequestTimeoutMs_="+R)),R=w;const Ki=f.g;if(Ki){const oo=Ki.g?Ki.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oo){var J=R.h;J.g||oo.indexOf("spdy")==-1&&oo.indexOf("quic")==-1&&oo.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Ic(J,J.h),J.h=null))}if(R.G){const Rl=Ki.g?Ki.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(R.wa=Rl,Ze(R.J,R.G,Rl))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-f.F,w.j.info("Handshake RTT: "+w.T+"ms")),R=w;var de=f;if(R.na=Uf(R,R.L?R.ba:null,R.W),de.L){Rc(R.h,de);var Ne=de,Ot=R.O;Ot&&(Ne.H=Ot),Ne.D&&(dr(Ne),hr(Ne)),R.g=de}else Vf(R);w.i.length>0&&Tr(w)}else Ye[0]!="stop"&&Ye[0]!="close"||Er(w,7);else w.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Er(w,7):kc(w):Ye[0]!="noop"&&w.l&&w.l.qa(Ye),w.A=0)}}ar(4)}catch{}}var Gt=class{constructor(f,v){this.g=f,this.map=v}};function Ac(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sc(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function mr(f){return f.h?1:f.g?f.g.size:0}function pr(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function Ic(f,v){f.g?f.g.add(v):f.h=v}function Rc(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}Ac.prototype.cancel=function(){if(this.i=xc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function xc(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const w of f.g.values())v=v.concat(w.G);return v}return b(f.i)}var Rf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vl(f,v){if(f){f=f.split("&");for(let w=0;w<f.length;w++){const R=f[w].indexOf("=");let G,J=null;R>=0?(G=f[w].substring(0,R),J=f[w].substring(R+1)):G=f[w],v(G,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function ii(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;f instanceof ii?(this.l=f.l,cn(this,f.j),this.o=f.o,this.g=f.g,Ns(this,f.u),this.h=f.h,Cc(this,Nf(f.i)),this.m=f.m):f&&(v=String(f).match(Rf))?(this.l=!1,cn(this,v[1]||"",!0),this.o=gr(v[2]||""),this.g=gr(v[3]||"",!0),Ns(this,v[4]),this.h=gr(v[5]||"",!0),Cc(this,v[6]||"",!0),this.m=gr(v[7]||"")):(this.l=!1,this.i=new Vs(null,this.l))}ii.prototype.toString=function(){const f=[];var v=this.j;v&&f.push(eo(v,Tl,!0),":");var w=this.g;return(w||v=="file")&&(f.push("//"),(v=this.o)&&f.push(eo(v,Tl,!0),"@"),f.push(Kr(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&f.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&f.push("/"),f.push(eo(w,w.charAt(0)=="/"?Dc:xf,!0))),(w=this.i.toString())&&f.push("?",w),(w=this.m)&&f.push("#",eo(w,Cf)),f.join("")},ii.prototype.resolve=function(f){const v=Kt(this);let w=!!f.j;w?cn(v,f.j):w=!!f.o,w?v.o=f.o:w=!!f.g,w?v.g=f.g:w=f.u!=null;var R=f.h;if(w)Ns(v,f.u);else if(w=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var G=v.h.lastIndexOf("/");G!=-1&&(R=v.h.slice(0,G+1)+R)}if(G=R,G==".."||G==".")R="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){R=G.lastIndexOf("/",0)==0,G=G.split("/");const J=[];for(let de=0;de<G.length;){const Ne=G[de++];Ne=="."?R&&de==G.length&&J.push(""):Ne==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),R&&de==G.length&&J.push("")):(J.push(Ne),R=!0)}R=J.join("/")}else R=G}return w?v.h=R:w=f.i.toString()!=="",w?Cc(v,Nf(f.i)):w=!!f.m,w&&(v.m=f.m),v};function Kt(f){return new ii(f)}function cn(f,v,w){f.j=w?gr(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function Ns(f,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);f.u=v}else f.u=null}function Cc(f,v,w){v instanceof Vs?(f.i=v,wl(f.i,f.l)):(w||(v=eo(v,Ps)),f.i=new Vs(v,f.l))}function Ze(f,v,w){f.i.set(v,w)}function Za(f){return Ze(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function gr(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function eo(f,v,w){return typeof f=="string"?(f=encodeURI(f).replace(v,zn),w&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function zn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Tl=/[#\/\?@]/g,xf=/[#\?:]/g,Dc=/[#\?]/g,Ps=/[#\?@]/g,Cf=/#/g;function Vs(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function qn(f){f.g||(f.g=new Map,f.h=0,f.i&&vl(f.i,function(v,w){f.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=Vs.prototype,n.add=function(f,v){qn(this),this.i=null,f=Ms(this,f);let w=this.g.get(f);return w||this.g.set(f,w=[]),w.push(v),this.h+=1,this};function Df(f,v){qn(f),v=Ms(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function Nc(f,v){return qn(f),v=Ms(f,v),f.g.has(v)}n.forEach=function(f,v){qn(this),this.g.forEach(function(w,R){w.forEach(function(G){f.call(v,G,R,this)},this)},this)};function Pc(f,v){qn(f);let w=[];if(typeof v=="string")Nc(f,v)&&(w=w.concat(f.g.get(Ms(f,v))));else for(f=Array.from(f.g.values()),v=0;v<f.length;v++)w=w.concat(f[v]);return w}n.set=function(f,v){return qn(this),this.i=null,f=Ms(this,f),Nc(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},n.get=function(f,v){return f?(f=Pc(this,f),f.length>0?String(f[0]):v):v};function El(f,v,w){Df(f,v),w.length>0&&(f.i=null,f.g.set(Ms(f,v),b(w)),f.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(let R=0;R<v.length;R++){var w=v[R];const G=Kr(w);w=Pc(this,w);for(let J=0;J<w.length;J++){let de=G;w[J]!==""&&(de+="="+Kr(w[J])),f.push(de)}}return this.i=f.join("&")};function Nf(f){const v=new Vs;return v.i=f.i,f.g&&(v.g=new Map(f.g),v.h=f.h),v}function Ms(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function wl(f,v){v&&!f.j&&(qn(f),f.i=null,f.g.forEach(function(w,R){const G=R.toLowerCase();R!=G&&(Df(this,R),El(this,G,w))},f)),f.j=v}function zi(f,v){const w=new ji;if(u.Image){const R=new Image;R.onload=y(Ti,w,"TestLoadImage: loaded",!0,v,R),R.onerror=y(Ti,w,"TestLoadImage: error",!1,v,R),R.onabort=y(Ti,w,"TestLoadImage: abort",!1,v,R),R.ontimeout=y(Ti,w,"TestLoadImage: timeout",!1,v,R),u.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else v(!1)}function Vc(f,v){const w=new ji,R=new AbortController,G=setTimeout(()=>{R.abort(),Ti(w,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:R.signal}).then(J=>{clearTimeout(G),J.ok?Ti(w,"TestPingServer: ok",!0,v):Ti(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),Ti(w,"TestPingServer: error",!1,v)})}function Ti(f,v,w,R,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),R(w)}catch{}}function Os(){this.g=new _f}function yr(f){this.i=f.Sb||null,this.h=f.ab||!1}_(yr,vf),yr.prototype.g=function(){return new to(this.i,this.h)};function to(f,v){zt.call(this),this.H=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(to,zt),n=to.prototype,n.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=v,this.readyState=1,qi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(v.body=f),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ks(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,qi(this)),this.g&&(this.readyState=3,qi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bl(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function bl(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?ks(this):qi(this),this.readyState==3&&bl(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,ks(this))},n.Na=function(f){this.g&&(this.response=f,ks(this))},n.ga=function(){this.g&&ks(this)};function ks(f){f.readyState=4,f.l=null,f.j=null,f.B=null,qi(f)}n.setRequestHeader=function(f,v){this.A.append(f,v)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,f.push(w[0]+": "+w[1]),w=v.next();return f.join(`\r
`)};function qi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(to.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ei(f){let v="";return Ie(f,function(w,R){v+=R,v+=":",v+=w,v+=`\r
`}),v}function no(f,v,w){e:{for(R in w){var R=!1;break e}R=!0}R||(w=Ei(w),typeof f=="string"?w!=null&&Kr(w):Ze(f,v,w))}function rt(f){zt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(rt,zt);var _r=/^https?$/i,Mc=["POST","PUT"];n=rt.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,v,w,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bc.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(J){io(this,J);return}if(f=w||"",w=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var G in R)w.set(G,R[G]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const J of R.keys())w.set(J,R.get(J));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(w.keys()).find(J=>J.toLowerCase()=="content-type"),G=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Mc,v,void 0)>=0)||R||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,de]of w)this.g.setRequestHeader(J,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(J){io(this,J)}};function io(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.o=5,Oc(f),$r(f)}function Oc(f){f.A||(f.A=!0,nn(f,"complete"),nn(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,nn(this,"complete"),nn(this,"abort"),$r(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$r(this,!0)),rt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ro(this):this.Xa())},n.Xa=function(){ro(this)};function ro(f){if(f.h&&typeof o<"u"){if(f.v&&Hi(f)==4)setTimeout(f.Ca.bind(f),0);else if(nn(f,"readystatechange"),Hi(f)==4){f.h=!1;try{const J=f.ca();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var R;if(R=J===0){let de=String(f.D).match(Rf)[1]||null;!de&&u.self&&u.self.location&&(de=u.self.location.protocol.slice(0,-1)),R=!_r.test(de?de.toLowerCase():"")}w=R}if(w)nn(f,"complete"),nn(f,"success");else{f.o=6;try{var G=Hi(f)>2?f.g.statusText:""}catch{G=""}f.l=G+" ["+f.ca()+"]",Oc(f)}}finally{$r(f)}}}}function $r(f,v){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const w=f.g;f.g=null,v||nn(f,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Hi(f){return f.g?f.g.readyState:0}n.ca=function(){try{return Hi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Zg(v)}};function gn(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function Qr(f){const v={};f=(f.g&&Hi(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(M(f[R]))continue;var w=Af(f[R]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const J=v[G]||[];v[G]=J,J.push(w)}he(v,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vr(f,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[f]||v}function Ls(f){this.za=0,this.i=[],this.j=new ji,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vr("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vr("baseRetryDelayMs",5e3,f),this.Za=vr("retryDelaySeedMs",1e4,f),this.Ta=vr("forwardChannelMaxRetries",2,f),this.va=vr("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Ac(f&&f.concurrentRequestLimit),this.Ba=new Os,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ls.prototype,n.ka=8,n.I=1,n.connect=function(f,v,w,R){qt(0),this.W=f,this.H=v||{},w&&R!==void 0&&(this.H.OSID=w,this.H.OAID=R),this.F=this.X,this.J=Uf(this,null,this.W),Tr(this)};function kc(f){if(Al(f),f.I==3){var v=f.V++,w=Kt(f.J);if(Ze(w,"SID",f.M),Ze(w,"RID",v),Ze(w,"TYPE","terminate"),so(f,w),v=new Bi(f,f.j,v),v.M=2,v.A=Za(Kt(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=v.A,w=!0),w||(v.g=jf(v.j,null),v.g.ea(v.A)),v.F=Date.now(),hr(v)}Lf(f)}function Us(f){f.g&&(Uc(f),f.g.cancel(),f.g=null)}function Al(f){Us(f),f.v&&(u.clearTimeout(f.v),f.v=null),Il(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Tr(f){if(!Sc(f.h)&&!f.m){f.m=!0;var v=f.Ea;ne||I(),le||(ne(),le=!0),x.add(v,f),f.D=0}}function Sl(f,v){return mr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=v.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=lr(m(f.Ea,f,v),kf(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const G=new Bi(this,this.j,f);let J=this.o;if(this.U&&(J?(J=j(J),ge(J,this.U)):J=this.U),this.u!==null||this.R||(G.J=J,J=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var R=this.i[w];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Pf(this,G,v),w=Kt(this.J),Ze(w,"RID",f),Ze(w,"CVER",22),this.G&&Ze(w,"X-HTTP-Session-Id",this.G),so(this,w),J&&(this.R?v="headers="+Kr(Ei(J))+"&"+v:this.u&&no(w,this.u,J)),Ic(this.h,G),this.Ra&&Ze(w,"TYPE","init"),this.S?(Ze(w,"$req",v),Ze(w,"SID","null"),G.U=!0,cr(G,w,null)):cr(G,w,v),this.I=2}}else this.I==3&&(f?Lc(this,f):this.i.length==0||Sc(this.h)||Lc(this))};function Lc(f,v){var w;v?w=v.l:w=f.V++;const R=Kt(f.J);Ze(R,"SID",f.M),Ze(R,"RID",w),Ze(R,"AID",f.K),so(f,R),f.u&&f.o&&no(R,f.u,f.o),w=new Bi(f,f.j,w,f.D+1),f.u===null&&(w.J=f.o),v&&(f.i=v.G.concat(f.i)),v=Pf(f,w,1e3),w.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Ic(f.h,w),cr(w,R,v)}function so(f,v){f.H&&Ie(f.H,function(w,R){Ze(v,R,w)}),f.l&&Ie({},function(w,R){Ze(v,R,w)})}function Pf(f,v,w){w=Math.min(f.i.length,w);const R=f.l?m(f.l.Ka,f.l,f):null;e:{var G=f.i;let Ne=-1;for(;;){const Ot=["count="+w];Ne==-1?w>0?(Ne=G[0].g,Ot.push("ofs="+Ne)):Ne=0:Ot.push("ofs="+Ne);let Ye=!0;for(let yt=0;yt<w;yt++){var J=G[yt].g;const wi=G[yt].map;if(J-=Ne,J<0)Ne=Math.max(0,G[yt].g-100),Ye=!1;else try{J="req"+J+"_"||"";try{var de=wi instanceof Map?wi:Object.entries(wi);for(const[wr,Gi]of de){let Ki=Gi;h(Gi)&&(Ki=Ds(Gi)),Ot.push(J+wr+"="+encodeURIComponent(Ki))}}catch(wr){throw Ot.push(J+"type="+encodeURIComponent("_badmap")),wr}}catch{R&&R(wi)}}if(Ye){de=Ot.join("&");break e}}de=void 0}return f=f.i.splice(0,w),v.G=f,de}function Vf(f){if(!f.g&&!f.v){f.Y=1;var v=f.Da;ne||I(),le||(ne(),le=!0),x.add(v,f),f.A=0}}function ao(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=lr(m(f.Da,f),kf(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Mf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=lr(m(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),Us(this),Mf(this))};function Uc(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function Mf(f){f.g=new Bi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var v=Kt(f.na);Ze(v,"RID","rpc"),Ze(v,"SID",f.M),Ze(v,"AID",f.K),Ze(v,"CI",f.F?"0":"1"),!f.F&&f.ia&&Ze(v,"TO",f.ia),Ze(v,"TYPE","xmlhttp"),so(f,v),f.u&&f.o&&no(v,f.u,f.o),f.O&&(f.g.H=f.O);var w=f.g;f=f.ba,w.M=1,w.A=Za(Kt(v)),w.u=null,w.R=!0,yl(w,f)}n.Va=function(){this.C!=null&&(this.C=null,Us(this),ao(this),qt(19))};function Il(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Of(f,v){var w=null;if(f.g==v){Il(f),Uc(f),f.g=null;var R=2}else if(pr(f.h,v))w=v.G,Rc(f.h,v),R=1;else return;if(f.I!=0){if(v.o)if(R==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var G=f.D;R=gl(),nn(R,new or(R,w)),Tr(f)}else Vf(f);else if(G=v.m,G==3||G==0&&v.X>0||!(R==1&&Sl(f,v)||R==2&&ao(f)))switch(w&&w.length>0&&(v=f.h,v.i=v.i.concat(w)),G){case 1:Er(f,5);break;case 4:Er(f,10);break;case 3:Er(f,6);break;default:Er(f,2)}}}function kf(f,v){let w=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(w*=2),w*v}function Er(f,v){if(f.j.info("Error code "+v),v==2){var w=m(f.bb,f),R=f.Ua;const G=!R;R=new ii(R||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||cn(R,"https"),Za(R),G?zi(R.toString(),w):Vc(R.toString(),w)}else qt(2);f.I=0,f.l&&f.l.pa(v),Lf(f),Al(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function Lf(f){if(f.I=0,f.ja=[],f.l){const v=xc(f.h);(v.length!=0||f.i.length!=0)&&(C(f.ja,v),C(f.ja,f.i),f.h.i.length=0,b(f.i),f.i.length=0),f.l.oa()}}function Uf(f,v,w){var R=w instanceof ii?Kt(w):new ii(w);if(R.g!="")v&&(R.g=v+"."+R.g),Ns(R,R.u);else{var G=u.location;R=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;const J=new ii(null);R&&cn(J,R),v&&(J.g=v),G&&Ns(J,G),w&&(J.h=w),R=J}return w=f.G,v=f.wa,w&&v&&Ze(R,w,v),Ze(R,"VER",f.ka),so(f,R),R}function jf(f,v,w){if(v&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Aa&&!f.ma?new rt(new yr({ab:w})):new rt(f.ma),v.Fa(f.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bf(){}n=Bf.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function js(){}js.prototype.g=function(f,v){return new Mn(f,v)};function Mn(f,v){zt.call(this),this.g=new Ls(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(f?f["X-WebChannel-Client-Profile"]=v.sa:f={"X-WebChannel-Client-Profile":v.sa}),this.g.U=f,(f=v&&v.Qb)&&!M(f)&&(this.g.u=f),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.G=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new Wr(this)}_(Mn,zt),Mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){kc(this.g)},Mn.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var w={};w.__data__=f,f=w}else this.v&&(w={},w.__data__=Ds(f),f=w);v.i.push(new Gt(v.Ya++,f)),v.I==3&&Tr(v)},Mn.prototype.N=function(){this.g.l=null,delete this.j,kc(this.g),delete this.g,Mn.Z.N.call(this)};function Ff(f){pn.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){e:{for(const w in v){f=w;break e}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}_(Ff,pn);function zf(){_i.call(this),this.status=1}_(zf,_i);function Wr(f){this.g=f}_(Wr,Bf),Wr.prototype.ra=function(){nn(this.g,"a")},Wr.prototype.qa=function(f){nn(this.g,new Ff(f))},Wr.prototype.pa=function(f){nn(this.g,new zf)},Wr.prototype.oa=function(){nn(this.g,"b")},js.prototype.createWebChannel=js.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,ID=function(){return new js},SD=function(){return gl()},AD=Mt,Zv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xa.NO_ERROR=0,Xa.TIMEOUT=8,Xa.HTTP_ERROR=6,hp=Xa,wc.COMPLETE="complete",bD=wc,Tf.EventType=Ui,Ui.OPEN="a",Ui.CLOSE="b",Ui.ERROR="c",Ui.MESSAGE="d",zt.prototype.listen=zt.prototype.J,Uh=Tf,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,wD=rt}).apply(typeof Qm<"u"?Qm:typeof self<"u"?self:typeof window<"u"?window:{});const $I="@firebase/firestore",QI="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ac="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new ug("@firebase/firestore");function cu(){return xa.logLevel}function X5(n){xa.setLogLevel(n)}function ue(n,...e){if(xa.logLevel<=Ue.DEBUG){const t=e.map(k0);xa.debug(`Firestore (${ac}): ${n}`,...t)}}function Ut(n,...e){if(xa.logLevel<=Ue.ERROR){const t=e.map(k0);xa.error(`Firestore (${ac}): ${n}`,...t)}}function qr(n,...e){if(xa.logLevel<=Ue.WARN){const t=e.map(k0);xa.warn(`Firestore (${ac}): ${n}`,...t)}}function k0(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,RD(n,i,t)}function RD(n,e,t){let i=`FIRESTORE (${ac}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Ut(i),new Error(i)}function Te(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||RD(e,s,i)}function J5(n,e){n||ye(57014,e)}function pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends jn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(fn.UNAUTHENTICATED)))}shutdown(){}}class ej{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class tj{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Te(this.o===void 0,42304);let i=this.i;const s=d=>this.i!==i?(i=this.i,t(d)):Promise.resolve();let o=new An;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new An,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},h=d=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new An)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Te(typeof i.accessToken=="string",31837,{l:i}),new xD(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new fn(e)}}class nj{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ij{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new nj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(fn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class WI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rj{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Te(this.o===void 0,3512);const i=o=>{o.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>i(o)))};const s=o=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new WI(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Te(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new WI(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=sj(40);for(let o=0;o<s.length;++o)i.length<20&&s[o]<t&&(i+=e.charAt(s[o]%62))}return i}}function Ce(n,e){return n<e?-1:n>e?1:0}function eT(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const s=n.charAt(i),o=e.charAt(i);if(s!==o)return pv(s)===pv(o)?Ce(s,o):pv(s)?1:-1}return Ce(n.length,e.length)}const aj=55296,oj=57343;function pv(n){const e=n.charCodeAt(0);return e>=aj&&e<=oj}function Pu(n,e,t){return n.length===e.length&&n.every(((i,s)=>t(i,e[s])))}function CD(n){return n+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="__name__";class Rr{constructor(e,t,i){t===void 0?t=0:t>e.length&&ye(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&ye(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const o=Rr.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return Ce(e.length,t.length)}static compareSegments(e,t){const i=Rr.isNumericId(e),s=Rr.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Rr.extractNumericId(e).compare(Rr.extractNumericId(t)):eT(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ea.fromString(e.substring(4,e.length-2))}}class je extends Rr{construct(e,t,i){return new je(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new oe(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((s=>s.length>0)))}return new je(t)}static emptyPath(){return new je([])}}const lj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Rr{construct(e,t,i){return new Et(e,t,i)}static isValidIdentifier(e){return lj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===YI}static keyField(){return new Et([YI])}static fromServerFormat(e){const t=[];let i="",s=0;const o=()=>{if(i.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new oe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new oe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,s+=2}else h==="`"?(u=!u,s++):h!=="."||u?(i+=h,s++):(o(),s++)}if(o(),u)throw new oe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(t)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(je.fromString(e))}static fromName(e){return new me(je.fromString(e).popFirst(5))}static empty(){return new me(je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(n,e,t){if(!t)throw new oe(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DD(n,e,t,i){if(e===!0&&i===!0)throw new oe(X.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XI(n){if(!me.isDocumentKey(n))throw new oe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JI(n){if(me.isDocumentKey(n))throw new oe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ND(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Eg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ye(12329,{type:typeof n})}function We(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new oe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Eg(n);throw new oe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function PD(n,e){if(e<=0)throw new oe(X.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(n,e){const t={typeString:n};return e&&(t.value=e),t}function Xd(n,e){if(!ND(n))throw new oe(X.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,o="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const u=n[i];if(s&&typeof u!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${i}' field to equal '${o.value}'`;break}}if(t)throw new oe(X.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=-62135596800,e1=1e6;class Je{static now(){return Je.fromMillis(Date.now())}static fromDate(e){return Je.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*e1);return new Je(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<ZI)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/e1}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Je._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xd(e,Je._jsonSchema))return new Je(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ZI;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Je._jsonSchemaVersion="firestore/timestamp/1.0",Je._jsonSchema={type:en("string",Je._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Je(0,0))}static max(){return new we(new Je(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=-1;class Lp{constructor(e,t,i,s){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=s}}function tT(n){return n.fields.find((e=>e.kind===2))}function Ro(n){return n.fields.filter((e=>e.kind!==2))}Lp.UNKNOWN_ID=-1;class dp{constructor(e,t){this.fieldPath=e,this.kind=t}}class _d{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new _d(0,yi.min())}}function VD(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=we.fromTimestamp(i===1e9?new Je(t+1,0):new Je(t,i));return new yi(s,me.empty(),e)}function MD(n){return new yi(n.readTime,n.key,Vu)}class yi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new yi(we.min(),me.empty(),Vu)}static max(){return new yi(we.max(),me.empty(),Vu)}}function j0(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(n.documentKey,e.documentKey),t!==0?t:Ce(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==OD)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H(((i,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):H.reject(t)}static resolve(e){return new H(((t,i)=>{t(e)}))}static reject(e){return new H(((t,i)=>{i(e)}))}static waitFor(e){return new H(((t,i)=>{let s=0,o=0,u=!1;e.forEach((h=>{++s,h.next((()=>{++o,u&&o===s&&t()}),(d=>i(d)))})),u=!0,o===s&&t()}))}static or(e){let t=H.resolve(!1);for(const i of e)t=t.next((s=>s?H.resolve(s):i()));return t}static forEach(e,t){const i=[];return e.forEach(((s,o)=>{i.push(t.call(this,s,o))})),this.waitFor(i)}static mapArray(e,t){return new H(((i,s)=>{const o=e.length,u=new Array(o);let h=0;for(let d=0;d<o;d++){const m=d;t(e[m]).next((y=>{u[m]=y,++h,h===o&&i(u)}),(y=>s(y)))}}))}static doWhile(e,t){return new H(((i,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):i()};o()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="SimpleDb";class wg{static open(e,t,i,s){try{return new wg(t,e.transaction(s,i))}catch(o){throw new Yh(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new An,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Yh(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const s=B0(i.target.error);this.S.reject(new Yh(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ue(hi,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new cj(t)}}class kr{static delete(e){return ue(hi,"Removing database:",e),Do(o0().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!hd())return!1;if(kr.F())return!0;const e=It(),t=kr.M(e),i=0<t&&t<10,s=LD(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,kr.M(It())===12.2&&Ut("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ue(hi,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const u=o.target.result;t(u)},s.onblocked=()=>{i(new Yh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const u=o.target.error;u.name==="VersionError"?i(new oe(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new oe(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new Yh(e,u))},s.onupgradeneeded=o=>{ue(hi,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const u=o.target.result;this.N.k(u,s.transaction,o.oldVersion,this.version).next((()=>{ue(hi,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,s){const o=t==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(e);const h=wg.open(this.db,e,o?"readonly":"readwrite",i),d=s(h).next((m=>(h.C(),m))).catch((m=>(h.abort(m),H.reject(m)))).toPromise();return d.catch((()=>{})),await h.D,d}catch(h){const d=h,m=d.name!=="FirebaseError"&&u<3;if(ue(hi,"Transaction failed with error:",d.message,"Retrying:",m),this.close(),!m)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function LD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class uj{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Do(this.U.delete())}}class Yh extends oe{constructor(e,t){super(X.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Fa(n){return n.name==="IndexedDbTransactionError"}class cj{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(ue(hi,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(ue(hi,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Do(i)}add(e){return ue(hi,"ADD",this.store.name,e,e),Do(this.store.add(e))}get(e){return Do(this.store.get(e)).next((t=>(t===void 0&&(t=null),ue(hi,"GET",this.store.name,e,t),t)))}delete(e){return ue(hi,"DELETE",this.store.name,e),Do(this.store.delete(e))}count(){return ue(hi,"COUNT",this.store.name),Do(this.store.count())}J(e,t){const i=this.options(e,t),s=i.index?this.store.index(i.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(i.range);return new H(((u,h)=>{o.onerror=d=>{h(d.target.error)},o.onsuccess=d=>{u(d.target.result)}}))}{const o=this.cursor(i),u=[];return this.H(o,((h,d)=>{u.push(d)})).next((()=>u))}}Y(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new H(((s,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{s(u.target.result)}}))}Z(e,t){ue(hi,"DELETE ALL",this.store.name);const i=this.options(e,t);i.X=!1;const s=this.cursor(i);return this.H(s,((o,u,h)=>h.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const s=this.cursor(i);return this.H(s,t)}te(e){const t=this.cursor({});return new H(((i,s)=>{t.onerror=o=>{const u=B0(o.target.error);s(u)},t.onsuccess=o=>{const u=o.target.result;u?e(u.primaryKey,u.value).next((h=>{h?u.continue():i()})):i()}}))}H(e,t){const i=[];return new H(((s,o)=>{e.onerror=u=>{o(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void s();const d=new uj(h),m=t(h.primaryKey,h.value,d);if(m instanceof H){const y=m.catch((_=>(d.done(),H.reject(_))));i.push(y)}d.isDone?s():d.G===null?h.continue():h.continue(d.G)}})).next((()=>H.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.X?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Do(n){return new H(((e,t)=>{n.onsuccess=i=>{const s=i.target.result;e(s)},n.onerror=i=>{const s=B0(i.target.error);t(s)}}))}let t1=!1;function B0(n){const e=kr.M(It());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return t1||(t1=!0,setTimeout((()=>{throw i}),0)),i}}return n}const Xh="IndexBackfiller";class hj{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ue(Xh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();ue(Xh,`Documents written: ${t}`)}catch(t){Fa(t)?ue(Xh,"Ignoring IndexedDB error during index backfill: ",t):await Ba(t)}await this.re(6e4)}))}}class dj{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let s=t,o=!0;return H.doWhile((()=>o===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((u=>{if(u!==null&&!i.has(u))return ue(Xh,`Processing collection: ${u}`),this.oe(e,u,s).next((h=>{s-=h,i.add(u)}));o=!1})))).next((()=>t-s))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,i).next((o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next((()=>this._e(s,o))).next((h=>(ue(Xh,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h)))).next((()=>u.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((s,o)=>{const u=MD(o);j0(u,i)>0&&(i=u)})),new yi(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xn.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=-1;function Jd(n){return n==null}function vd(n){return n===0&&1/n==-1/0}function UD(n){return typeof n=="number"&&Number.isInteger(n)&&!vd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="";function Nn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=n1(e)),e=fj(n.get(t),e);return n1(e)}function fj(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case Up:t+="";break;default:t+=o}}return t}function n1(n){return n+Up+""}function Mr(n){const e=n.length;if(Te(e>=2,64408,{path:n}),e===2)return Te(n.charAt(0)===Up&&n.charAt(1)==="",56145,{path:n}),je.emptyPath();const t=e-2,i=[];let s="";for(let o=0;o<e;){const u=n.indexOf(Up,o);switch((u<0||u>t)&&ye(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(o,u);let d;s.length===0?d=h:(s+=h,d=s,s=""),i.push(d);break;case"":s+=n.substring(o,u),s+="\0";break;case"":s+=n.substring(o,u+1);break;default:ye(61167,{path:n})}o=u+2}return new je(i)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="remoteDocuments",Zd="owner",ru="owner",Td="mutationQueues",mj="userId",Ji="mutations",i1="batchId",ko="userMutationsIndex",r1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(n,e){return[n,Nn(e)]}function jD(n,e,t){return[n,Nn(e),t]}const pj={},Mu="documentMutations",jp="remoteDocumentsV14",gj=["prefixPath","collectionGroup","readTime","documentId"],mp="documentKeyIndex",yj=["prefixPath","collectionGroup","documentId"],BD="collectionGroupIndex",_j=["collectionGroup","readTime","prefixPath","documentId"],Ed="remoteDocumentGlobal",nT="remoteDocumentGlobalKey",Ou="targets",FD="queryTargetsIndex",vj=["canonicalId","targetId"],ku="targetDocuments",Tj=["targetId","path"],F0="documentTargetsIndex",Ej=["path","targetId"],Bp="targetGlobalKey",qo="targetGlobal",wd="collectionParents",wj=["collectionId","parent"],Lu="clientMetadata",bj="clientId",bg="bundles",Aj="bundleId",Ag="namedQueries",Sj="name",z0="indexConfiguration",Ij="indexId",iT="collectionGroupIndex",Rj="collectionGroup",Jh="indexState",xj=["indexId","uid"],zD="sequenceNumberIndex",Cj=["uid","sequenceNumber"],Zh="indexEntries",Dj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],qD="documentKeyIndex",Nj=["indexId","uid","orderedDocumentKey"],Sg="documentOverlays",Pj=["userId","collectionPath","documentId"],rT="collectionPathOverlayIndex",Vj=["userId","collectionPath","largestBatchId"],HD="collectionGroupOverlayIndex",Mj=["userId","collectionGroup","largestBatchId"],q0="globals",Oj="name",GD=[Td,Ji,Mu,xo,Ou,Zd,qo,ku,Lu,Ed,wd,bg,Ag],kj=[...GD,Sg],KD=[Td,Ji,Mu,jp,Ou,Zd,qo,ku,Lu,Ed,wd,bg,Ag,Sg],$D=KD,H0=[...$D,z0,Jh,Zh],Lj=H0,QD=[...H0,q0],Uj=QD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT extends kD{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function ln(n,e){const t=pe(n);return kr.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function za(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function WD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,t){this.comparator=e,this.root=t||wn.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wm(this.root,e,this.comparator,!0)}}class Wm{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wn{constructor(e,t,i,s,o){this.key=e,this.value=t,this.color=i??wn.RED,this.left=s??wn.EMPTY,this.right=o??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,o){return new wn(e??this.key,t??this.value,i??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const o=i(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,i),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return wn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ye(27949);return e+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(e,t,i,s,o){return this}insert(e,t,i){return new wn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new a1(this.data.getIterator())}getIteratorFrom(e){return new a1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class a1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function su(n){return n.hasNext()?n.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new Jn([])}unionWith(e){let t=new it(Et.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Jn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pu(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new YD("Invalid base64 string: "+o):o}})(e);return new Nt(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new Nt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const Bj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(n){if(Te(!!n,39018),typeof n=="string"){let e=0;const t=Bj.exec(n);if(Te(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vt(n.seconds),nanos:vt(n.nanos)}}function vt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ts(n){return typeof n=="string"?Nt.fromBase64String(n):Nt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="server_timestamp",JD="__type__",ZD="__previous_value__",eN="__local_write_time__";function Ig(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[JD])==null?void 0:i.stringValue)===XD}function Rg(n){const e=n.mapValue.fields[ZD];return Ig(e)?Rg(e):e}function bd(n){const e=vs(n.mapValue.fields[eN].timestampValue);return new Je(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fj{constructor(e,t,i,s,o,u,h,d,m,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=y}}const aT="(default)";class Ca{constructor(e,t){this.projectId=e,this.database=t||aT}static empty(){return new Ca("","")}get isDefaultDatabase(){return this.database===aT}isEqual(e){return e instanceof Ca&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="__type__",tN="__max__",ya={mapValue:{fields:{__type__:{stringValue:tN}}}},K0="__vector__",Uu="value",pp={nullValue:"NULL_VALUE"};function Da(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ig(n)?4:nN(n)?9007199254740991:xg(n)?10:11:ye(28295,{value:n})}function Hr(n,e){if(n===e)return!0;const t=Da(n);if(t!==Da(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bd(n).isEqual(bd(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=vs(s.timestampValue),h=vs(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Ts(s.bytesValue).isEqual(Ts(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return vt(s.geoPointValue.latitude)===vt(o.geoPointValue.latitude)&&vt(s.geoPointValue.longitude)===vt(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return vt(s.integerValue)===vt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=vt(s.doubleValue),h=vt(o.doubleValue);return u===h?vd(u)===vd(h):isNaN(u)&&isNaN(h)}return!1})(n,e);case 9:return Pu(n.arrayValue.values||[],e.arrayValue.values||[],Hr);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},h=o.mapValue.fields||{};if(s1(u)!==s1(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!Hr(u[d],h[d])))return!1;return!0})(n,e);default:return ye(52216,{left:n})}}function Ad(n,e){return(n.values||[]).find((t=>Hr(t,e)))!==void 0}function Na(n,e){if(n===e)return 0;const t=Da(n),i=Da(e);if(t!==i)return Ce(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const h=vt(o.integerValue||o.doubleValue),d=vt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return o1(n.timestampValue,e.timestampValue);case 4:return o1(bd(n),bd(e));case 5:return eT(n.stringValue,e.stringValue);case 6:return(function(o,u){const h=Ts(o),d=Ts(u);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const h=o.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const y=Ce(h[m],d[m]);if(y!==0)return y}return Ce(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const h=Ce(vt(o.latitude),vt(u.latitude));return h!==0?h:Ce(vt(o.longitude),vt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return l1(n.arrayValue,e.arrayValue);case 10:return(function(o,u){var T,b,C,P;const h=o.fields||{},d=u.fields||{},m=(T=h[Uu])==null?void 0:T.arrayValue,y=(b=d[Uu])==null?void 0:b.arrayValue,_=Ce(((C=m==null?void 0:m.values)==null?void 0:C.length)||0,((P=y==null?void 0:y.values)==null?void 0:P.length)||0);return _!==0?_:l1(m,y)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===ya.mapValue&&u===ya.mapValue)return 0;if(o===ya.mapValue)return 1;if(u===ya.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),m=u.fields||{},y=Object.keys(m);d.sort(),y.sort();for(let _=0;_<d.length&&_<y.length;++_){const T=eT(d[_],y[_]);if(T!==0)return T;const b=Na(h[d[_]],m[y[_]]);if(b!==0)return b}return Ce(d.length,y.length)})(n.mapValue,e.mapValue);default:throw ye(23264,{he:t})}}function o1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ce(n,e);const t=vs(n),i=vs(e),s=Ce(t.seconds,i.seconds);return s!==0?s:Ce(t.nanos,i.nanos)}function l1(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const o=Na(t[s],i[s]);if(o)return o}return Ce(t.length,i.length)}function ju(n){return oT(n)}function oT(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=vs(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ts(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return me.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",s=!0;for(const o of t.values||[])s?s=!1:i+=",",i+=oT(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of i)o?o=!1:s+=",",s+=`${u}:${oT(t.fields[u])}`;return s+"}"})(n.mapValue):ye(61005,{value:n})}function gp(n){switch(Da(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rg(n);return e?16+gp(e):16;case 5:return 2*n.stringValue.length;case 6:return Ts(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,o)=>s+gp(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let s=0;return za(i.fields,((o,u)=>{s+=o.length+gp(u)})),s})(n.mapValue);default:throw ye(13486,{value:n})}}function Yo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function lT(n){return!!n&&"integerValue"in n}function Sd(n){return!!n&&"arrayValue"in n}function u1(n){return!!n&&"nullValue"in n}function c1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yp(n){return!!n&&"mapValue"in n}function xg(n){var t,i;return((i=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[G0])==null?void 0:i.stringValue)===K0}function ed(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return za(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=ed(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ed(n.arrayValue.values[t]);return e}return{...n}}function nN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tN}const iN={mapValue:{fields:{[G0]:{stringValue:K0},[Uu]:{arrayValue:{}}}}};function zj(n){return"nullValue"in n?pp:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Yo(Ca.empty(),me.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?xg(n)?iN:{mapValue:{}}:ye(35942,{value:n})}function qj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Yo(Ca.empty(),me.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?iN:"mapValue"in n?xg(n)?{mapValue:{}}:ya:ye(61959,{value:n})}function h1(n,e){const t=Na(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function d1(n,e){const t=Na(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!yp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(t)}setAll(e){let t=Et.emptyPath(),i={},s=[];e.forEach(((u,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,i,s),i={},s=[],t=h.popLast()}u?i[h.lastSegment()]=ed(u):s.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,i,s)}delete(e){const t=this.field(e.popLast());yp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];yp(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){za(t,((s,o)=>e[s]=o));for(const s of i)delete e[s]}clone(){return new bn(ed(this.value))}}function rN(n){const e=[];return za(n.fields,((t,i)=>{const s=new Et([t]);if(yp(i)){const o=rN(i.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t,i,s,o,u,h){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new mt(e,0,we.min(),we.min(),we.min(),bn.empty(),0)}static newFoundDocument(e,t,i,s){return new mt(e,1,t,we.min(),i,s,0)}static newNoDocument(e,t){return new mt(e,2,t,we.min(),we.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new mt(e,3,t,we.min(),we.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,t){this.position=e,this.inclusive=t}}function f1(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?i=me.comparator(me.fromName(u.referenceValue),t.key):i=Na(u,t.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function m1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Hr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t="asc"){this.field=e,this.dir=t}}function Hj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{}class ze extends sN{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Gj(e,t,i):t==="array-contains"?new Qj(e,i):t==="in"?new hN(e,i):t==="not-in"?new Wj(e,i):t==="array-contains-any"?new Yj(e,i):new ze(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Kj(e,i):new $j(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Na(t,this.value)):t!==null&&Da(this.value)===Da(t)&&this.matchesComparison(Na(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nt extends sN{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new nt(e,t)}matches(e){return Bu(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Bu(n){return n.op==="and"}function uT(n){return n.op==="or"}function $0(n){return aN(n)&&Bu(n)}function aN(n){for(const e of n.filters)if(e instanceof nt)return!1;return!0}function cT(n){if(n instanceof ze)return n.field.canonicalString()+n.op.toString()+ju(n.value);if($0(n))return n.filters.map((e=>cT(e))).join(",");{const e=n.filters.map((t=>cT(t))).join(",");return`${n.op}(${e})`}}function oN(n,e){return n instanceof ze?(function(i,s){return s instanceof ze&&i.op===s.op&&i.field.isEqual(s.field)&&Hr(i.value,s.value)})(n,e):n instanceof nt?(function(i,s){return s instanceof nt&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((o,u,h)=>o&&oN(u,s.filters[h])),!0):!1})(n,e):void ye(19439)}function lN(n,e){const t=n.filters.concat(e);return nt.create(t,n.op)}function uN(n){return n instanceof ze?(function(t){return`${t.field.canonicalString()} ${t.op} ${ju(t.value)}`})(n):n instanceof nt?(function(t){return t.op.toString()+" {"+t.getFilters().map(uN).join(" ,")+"}"})(n):"Filter"}class Gj extends ze{constructor(e,t,i){super(e,t,i),this.key=me.fromName(i.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class Kj extends ze{constructor(e,t){super(e,"in",t),this.keys=cN("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class $j extends ze{constructor(e,t){super(e,"not-in",t),this.keys=cN("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function cN(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((i=>me.fromName(i.referenceValue)))}class Qj extends ze{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sd(t)&&Ad(t.arrayValue,this.value)}}class hN extends ze{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ad(this.value.arrayValue,t)}}class Wj extends ze{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ad(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ad(this.value.arrayValue,t)}}class Yj extends ze{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Ad(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,t=null,i=[],s=[],o=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=o,this.startAt=u,this.endAt=h,this.Te=null}}function hT(n,e=null,t=[],i=[],s=null,o=null,u=null){return new Xj(n,e,t,i,s,o,u)}function Xo(n){const e=pe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>cT(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Jd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ju(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ju(i))).join(",")),e.Te=t}return e.Te}function ef(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Hj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!oN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!m1(n.startAt,e.startAt)&&m1(n.endAt,e.endAt)}function Fp(n){return me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function zp(n,e){return n.filters.filter((t=>t instanceof ze&&t.field.isEqual(e)))}function p1(n,e,t){let i=pp,s=!0;for(const o of zp(n,e)){let u=pp,h=!0;switch(o.op){case"<":case"<=":u=zj(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=pp}h1({value:i,inclusive:s},{value:u,inclusive:h})<0&&(i=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];h1({value:i,inclusive:s},{value:u,inclusive:t.inclusive})<0&&(i=u,s=t.inclusive);break}}return{value:i,inclusive:s}}function g1(n,e,t){let i=ya,s=!0;for(const o of zp(n,e)){let u=ya,h=!0;switch(o.op){case">=":case">":u=qj(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=ya}d1({value:i,inclusive:s},{value:u,inclusive:h})>0&&(i=u,s=h)}if(t!==null){for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const u=t.position[o];d1({value:i,inclusive:s},{value:u,inclusive:t.inclusive})>0&&(i=u,s=t.inclusive);break}}return{value:i,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,t=null,i=[],s=[],o=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dN(n,e,t,i,s,o,u,h){return new Ss(n,e,t,i,s,o,u,h)}function oc(n){return new Ss(n)}function y1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Q0(n){return n.collectionGroup!==null}function Su(n){const e=pe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new it(Et.comparator);return u.filters.forEach((d=>{d.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Id(o,i))})),t.has(Et.keyField().canonicalString())||e.Ie.push(new Id(Et.keyField(),i))}return e.Ie}function Bn(n){const e=pe(n);return e.Ee||(e.Ee=Jj(e,Su(n))),e.Ee}function Jj(n,e){if(n.limitType==="F")return hT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Id(s.field,o)}));const t=n.endAt?new Pa(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pa(n.startAt.position,n.startAt.inclusive):null;return hT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function dT(n,e){const t=n.filters.concat([e]);return new Ss(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function qp(n,e,t){return new Ss(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function tf(n,e){return ef(Bn(n),Bn(e))&&n.limitType===e.limitType}function fN(n){return`${Xo(Bn(n))}|lt:${n.limitType}`}function hu(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((s=>uN(s))).join(", ")}]`),Jd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>ju(s))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>ju(s))).join(",")),`Target(${i})`})(Bn(n))}; limitType=${n.limitType})`}function nf(n,e){return e.isFoundDocument()&&(function(i,s){const o=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):me.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,e)&&(function(i,s){for(const o of Su(i))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(i,s){for(const o of i.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(i,s){return!(i.startAt&&!(function(u,h,d){const m=f1(u,h,d);return u.inclusive?m<=0:m<0})(i.startAt,Su(i),s)||i.endAt&&!(function(u,h,d){const m=f1(u,h,d);return u.inclusive?m>=0:m>0})(i.endAt,Su(i),s))})(n,e)}function mN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function pN(n){return(e,t)=>{let i=!1;for(const s of Su(n)){const o=Zj(s,e,t);if(o!==0)return o;i=i||s.field.isKeyField()}return 0}}function Zj(n,e,t){const i=n.field.isKeyField()?me.comparator(e.key,t.key):(function(o,u,h){const d=u.data.field(o),m=h.data.field(o);return d!==null&&m!==null?Na(d,m):ye(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ye(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,o]of i)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,((t,i)=>{for(const[s,o]of i)e(s,o)}))}isEmpty(){return WD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eB=new ht(me.comparator);function Zn(){return eB}const gN=new ht(me.comparator);function jh(...n){let e=gN;for(const t of n)e=e.insert(t.key,t);return e}function yN(n){let e=gN;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function Or(){return td()}function _N(){return td()}function td(){return new Is((n=>n.toString()),((n,e)=>n.isEqual(e)))}const tB=new ht(me.comparator),nB=new it(me.comparator);function Ve(...n){let e=nB;for(const t of n)e=e.add(t);return e}const iB=new it(Ce);function W0(){return iB}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function vN(n){return{integerValue:""+n}}function TN(n,e){return UD(e)?vN(e):Y0(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this._=void 0}}function rB(n,e,t){return n instanceof Fu?(function(s,o){const u={fields:{[JD]:{stringValue:XD},[eN]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Ig(o)&&(o=Rg(o)),o&&(u.fields[ZD]=o),{mapValue:u}})(t,e):n instanceof Jo?wN(n,e):n instanceof Zo?bN(n,e):(function(s,o){const u=EN(s,o),h=_1(u)+_1(s.Ae);return lT(u)&&lT(s.Ae)?vN(h):Y0(s.serializer,h)})(n,e)}function sB(n,e,t){return n instanceof Jo?wN(n,e):n instanceof Zo?bN(n,e):t}function EN(n,e){return n instanceof zu?(function(i){return lT(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(e)?e:{integerValue:0}:null}class Fu extends Cg{}class Jo extends Cg{constructor(e){super(),this.elements=e}}function wN(n,e){const t=AN(e);for(const i of n.elements)t.some((s=>Hr(s,i)))||t.push(i);return{arrayValue:{values:t}}}class Zo extends Cg{constructor(e){super(),this.elements=e}}function bN(n,e){let t=AN(e);for(const i of n.elements)t=t.filter((s=>!Hr(s,i)));return{arrayValue:{values:t}}}class zu extends Cg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function _1(n){return vt(n.integerValue||n.doubleValue)}function AN(n){return Sd(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t){this.field=e,this.transform=t}}function aB(n,e){return n.field.isEqual(e.field)&&(function(i,s){return i instanceof Jo&&s instanceof Jo||i instanceof Zo&&s instanceof Zo?Pu(i.elements,s.elements,Hr):i instanceof zu&&s instanceof zu?Hr(i.Ae,s.Ae):i instanceof Fu&&s instanceof Fu})(n.transform,e.transform)}class oB{constructor(e,t){this.version=e,this.transformResults=t}}class wt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wt}static exists(e){return new wt(void 0,e)}static updateTime(e){return new wt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _p(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Dg{}function SN(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new uc(n.key,wt.none()):new lc(n.key,n.data,wt.none());{const t=n.data,i=bn.empty();let s=new it(Et.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?i.delete(o):i.set(o,u),s=s.add(o)}return new Rs(n.key,i,new Jn(s.toArray()),wt.none())}}function lB(n,e,t){n instanceof lc?(function(s,o,u){const h=s.value.clone(),d=T1(s.fieldTransforms,o,u.transformResults);h.setAll(d),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Rs?(function(s,o,u){if(!_p(s.precondition,o))return void o.convertToUnknownDocument(u.version);const h=T1(s.fieldTransforms,o,u.transformResults),d=o.data;d.setAll(IN(s)),d.setAll(h),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function nd(n,e,t,i){return n instanceof lc?(function(o,u,h,d){if(!_p(o.precondition,u))return h;const m=o.value.clone(),y=E1(o.fieldTransforms,d,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null})(n,e,t,i):n instanceof Rs?(function(o,u,h,d){if(!_p(o.precondition,u))return h;const m=E1(o.fieldTransforms,d,u),y=u.data;return y.setAll(IN(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,e,t,i):(function(o,u,h){return _p(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,e,t)}function uB(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),o=EN(i.transform,s||null);o!=null&&(t===null&&(t=bn.empty()),t.set(i.field,o))}return t||null}function v1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&Pu(i,s,((o,u)=>aB(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class lc extends Dg{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Rs extends Dg{constructor(e,t,i,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function IN(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function T1(n,e,t){const i=new Map;Te(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,h=e.data.field(o.field);i.set(o.field,sB(u,h,t[s]))}return i}function E1(n,e,t){const i=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);i.set(s.field,rB(o,u,e))}return i}class uc extends Dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class X0 extends Dg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&lB(o,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=nd(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=nd(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=_N();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=t.has(s.key)?null:h;const d=SN(u,h);d!==null&&i.set(s.key,d),u.isValidDocument()||u.convertToNoDocument(we.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Pu(this.mutations,e.mutations,((t,i)=>v1(t,i)))&&Pu(this.baseMutations,e.baseMutations,((t,i)=>v1(t,i)))}}class Z0{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Te(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return tB})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,i[u].version);return new Z0(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cB{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xt,Ge;function RN(n){switch(n){case X.OK:return ye(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return ye(15467,{code:n})}}function xN(n){if(n===void 0)return Ut("GRPC error has no .code"),X.UNKNOWN;switch(n){case Xt.OK:return X.OK;case Xt.CANCELLED:return X.CANCELLED;case Xt.UNKNOWN:return X.UNKNOWN;case Xt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Xt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Xt.INTERNAL:return X.INTERNAL;case Xt.UNAVAILABLE:return X.UNAVAILABLE;case Xt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Xt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Xt.NOT_FOUND:return X.NOT_FOUND;case Xt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Xt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Xt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Xt.ABORTED:return X.ABORTED;case Xt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Xt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Xt.DATA_LOSS:return X.DATA_LOSS;default:return ye(39323,{code:n})}}(Ge=Xt||(Xt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=new Ea([4294967295,4294967295],0);function w1(n){const e=CN().encode(n),t=new ED;return t.update(e),new Uint8Array(t.digest())}function b1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ea([t,i],0),new Ea([s,o],0)]}class tE{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Bh(`Invalid padding: ${t}`);if(i<0)throw new Bh(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Bh(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Bh(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ea.fromNumber(this.ge)}ye(e,t,i){let s=e.add(t.multiply(Ea.fromNumber(i)));return s.compare(hB)===1&&(s=new Ea([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=w1(e),[i,s]=b1(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);if(!this.we(u))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new tE(o,s,t);return i.forEach((h=>u.insert(h))),u}insert(e){if(this.ge===0)return;const t=w1(e),[i,s]=b1(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(i,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Bh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t,i,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,af.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new sf(we.min(),s,new ht(Ce),Zn(),Ve())}}class af{constructor(e,t,i,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new af(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,t,i,s){this.be=e,this.removedTargetIds=t,this.key=i,this.De=s}}class DN{constructor(e,t){this.targetId=e,this.Ce=t}}class NN{constructor(e,t,i=Nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class A1{constructor(){this.ve=0,this.Fe=S1(),this.Me=Nt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ve(),t=Ve(),i=Ve();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:ye(38017,{changeType:o})}})),new af(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=S1()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dB{constructor(e){this.Ge=e,this.ze=new Map,this.je=Zn(),this.Je=Ym(),this.He=Ym(),this.Ye=new ht(Ce)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:ye(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,i=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(Fp(o))if(i===0){const u=new me(o.path);this.et(t,u,mt.newNoDocument(u,we.min()))}else Te(i===1,20013,{expectedCount:i});else{const u=this._t(t);if(u!==i){const h=this.ut(e),d=h?this.ct(h,e,u):1;if(d!==0){this.it(t);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=t;let u,h;try{u=Ts(i).toUint8Array()}catch(d){if(d instanceof YD)return qr("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new tE(u,s,o)}catch(d){return qr(d instanceof Bh?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let s=0;return i.forEach((o=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const h=this.ot(u);if(h){if(o.current&&Fp(h.target)){const d=new me(h.target.path);this.It(d).has(u)||this.Et(u,d)||this.et(u,d,mt.newNoDocument(d,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let i=Ve();this.He.forEach(((o,u)=>{let h=!0;u.forEachWhile((d=>{const m=this.ot(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new sf(e,t,this.Ye,this.je,i);return this.je=Zn(),this.Je=Ym(),this.He=Ym(),this.Ye=new ht(Ce),s}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new A1,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new it(Ce),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new it(Ce),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new A1),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Ym(){return new ht(me.comparator)}function S1(){return new ht(me.comparator)}const fB={asc:"ASCENDING",desc:"DESCENDING"},mB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pB={and:"AND",or:"OR"};class gB{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fT(n,e){return n.useProto3Json||Jd(e)?e:{value:e}}function qu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PN(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yB(n,e){return qu(n,e.toTimestamp())}function Bt(n){return Te(!!n,49232),we.fromTimestamp((function(t){const i=vs(t);return new Je(i.seconds,i.nanos)})(n))}function nE(n,e){return mT(n,e).canonicalString()}function mT(n,e){const t=(function(s){return new je(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function VN(n){const e=je.fromString(n);return Te(qN(e),10190,{key:e.toString()}),e}function Rd(n,e){return nE(n.databaseId,e.path)}function Lr(n,e){const t=VN(e);if(t.get(1)!==n.databaseId.projectId)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new me(kN(t))}function MN(n,e){return nE(n.databaseId,e)}function ON(n){const e=VN(n);return e.length===4?je.emptyPath():kN(e)}function pT(n){return new je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kN(n){return Te(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function I1(n,e,t){return{name:Rd(n,e),fields:t.value.mapValue.fields}}function LN(n,e,t){const i=Lr(n,e.name),s=Bt(e.updateTime),o=e.createTime?Bt(e.createTime):we.min(),u=new bn({mapValue:{fields:e.fields}}),h=mt.newFoundDocument(i,s,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function _B(n,e){return"found"in e?(function(i,s){Te(!!s.found,43571),s.found.name,s.found.updateTime;const o=Lr(i,s.found.name),u=Bt(s.found.updateTime),h=s.found.createTime?Bt(s.found.createTime):we.min(),d=new bn({mapValue:{fields:s.found.fields}});return mt.newFoundDocument(o,u,h,d)})(n,e):"missing"in e?(function(i,s){Te(!!s.missing,3894),Te(!!s.readTime,22933);const o=Lr(i,s.missing),u=Bt(s.readTime);return mt.newNoDocument(o,u)})(n,e):ye(7234,{result:e})}function vB(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:ye(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(Te(y===void 0||typeof y=="string",58123),Nt.fromBase64String(y||"")):(Te(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Nt.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&(function(m){const y=m.code===void 0?X.UNKNOWN:xN(m.code);return new oe(y,m.message||"")})(u);t=new NN(i,s,o,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Lr(n,i.document.name),o=Bt(i.document.updateTime),u=i.document.createTime?Bt(i.document.createTime):we.min(),h=new bn({mapValue:{fields:i.document.fields}}),d=mt.newFoundDocument(s,o,u,h),m=i.targetIds||[],y=i.removedTargetIds||[];t=new vp(m,y,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Lr(n,i.document),o=i.readTime?Bt(i.readTime):we.min(),u=mt.newNoDocument(s,o),h=i.removedTargetIds||[];t=new vp([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Lr(n,i.document),o=i.removedTargetIds||[];t=new vp([],o,s,null)}else{if(!("filter"in e))return ye(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:o}=i,u=new cB(s,o),h=i.targetId;t=new DN(h,u)}}return t}function xd(n,e){let t;if(e instanceof lc)t={update:I1(n,e.key,e.value)};else if(e instanceof uc)t={delete:Rd(n,e.key)};else if(e instanceof Rs)t={update:I1(n,e.key,e.data),updateMask:SB(e.fieldMask)};else{if(!(e instanceof X0))return ye(16599,{Vt:e.type});t={verify:Rd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(o,u){const h=u.transform;if(h instanceof Fu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Jo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Zo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof zu)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw ye(20930,{transform:u.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:yB(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye(27497)})(n,e.precondition)),t}function gT(n,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?wt.updateTime(Bt(o.updateTime)):o.exists!==void 0?wt.exists(o.exists):wt.none()})(e.currentDocument):wt.none(),i=e.updateTransforms?e.updateTransforms.map((s=>(function(u,h){let d=null;if("setToServerValue"in h)Te(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),d=new Fu;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];d=new Jo(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];d=new Zo(y)}else"increment"in h?d=new zu(u,h.increment):ye(16584,{proto:h});const m=Et.fromServerFormat(h.fieldPath);return new rf(m,d)})(n,s))):[];if(e.update){e.update.name;const s=Lr(n,e.update.name),o=new bn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=(function(d){const m=d.fieldPaths||[];return new Jn(m.map((y=>Et.fromServerFormat(y))))})(e.updateMask);return new Rs(s,o,u,t,i)}return new lc(s,o,t,i)}if(e.delete){const s=Lr(n,e.delete);return new uc(s,t)}if(e.verify){const s=Lr(n,e.verify);return new X0(s,t)}return ye(1463,{proto:e})}function TB(n,e){return n&&n.length>0?(Te(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?Bt(s.updateTime):Bt(o);return u.isEqual(we.min())&&(u=Bt(o)),new oB(u,s.transformResults||[])})(t,e)))):[]}function UN(n,e){return{documents:[MN(n,e.path)]}}function jN(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=MN(n,s);const o=(function(m){if(m.length!==0)return zN(nt.create(m,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(m){if(m.length!==0)return m.map((y=>(function(T){return{field:du(T.field),direction:wB(T.dir)}})(y)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=fT(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:s}}function BN(n){let e=ON(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Te(i===1,65062);const y=t.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];t.where&&(o=(function(_){const T=FN(_);return T instanceof nt&&$0(T)?T.getFilters():[T]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((T=>(function(C){return new Id(fu(C.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(T)))})(t.orderBy));let h=null;t.limit&&(h=(function(_){let T;return T=typeof _=="object"?_.value:_,Jd(T)?null:T})(t.limit));let d=null;t.startAt&&(d=(function(_){const T=!!_.before,b=_.values||[];return new Pa(b,T)})(t.startAt));let m=null;return t.endAt&&(m=(function(_){const T=!_.before,b=_.values||[];return new Pa(b,T)})(t.endAt)),dN(e,s,u,o,h,"F",d,m)}function EB(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function FN(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=fu(t.unaryFilter.field);return ze.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=fu(t.unaryFilter.field);return ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fu(t.unaryFilter.field);return ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=fu(t.unaryFilter.field);return ze.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}})(n):n.fieldFilter!==void 0?(function(t){return ze.create(fu(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return nt.create(t.compositeFilter.filters.map((i=>FN(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ye(1026)}})(t.compositeFilter.op))})(n):ye(30097,{filter:n})}function wB(n){return fB[n]}function bB(n){return mB[n]}function AB(n){return pB[n]}function du(n){return{fieldPath:n.canonicalString()}}function fu(n){return Et.fromServerFormat(n.fieldPath)}function zN(n){return n instanceof ze?(function(t){if(t.op==="=="){if(c1(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NAN"}};if(u1(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(c1(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NOT_NAN"}};if(u1(t.value))return{unaryFilter:{field:du(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:du(t.field),op:bB(t.op),value:t.value}}})(n):n instanceof nt?(function(t){const i=t.getFilters().map((s=>zN(s)));return i.length===1?i[0]:{compositeFilter:{op:AB(t.op),filters:i}}})(n):ye(54877,{filter:n})}function SB(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function qN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,t,i,s,o=we.min(),u=we.min(),h=Nt.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e){this.yt=e}}function IB(n,e){let t;if(e.document)t=LN(n.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=me.fromSegments(e.noDocument.path),s=tl(e.noDocument.readTime);t=mt.newNoDocument(i,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ye(56709);{const i=me.fromSegments(e.unknownDocument.path),s=tl(e.unknownDocument.version);t=mt.newUnknownDocument(i,s)}}return e.readTime&&t.setReadTime((function(s){const o=new Je(s[0],s[1]);return we.fromTimestamp(o)})(e.readTime)),t}function R1(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Hp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(o,u){return{name:Rd(o,u.key),fields:u.data.value.mapValue.fields,updateTime:qu(o,u.version.toTimestamp()),createTime:qu(o,u.createTime.toTimestamp())}})(n.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:el(e.version)};else{if(!e.isUnknownDocument())return ye(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:el(e.version)}}return i}function Hp(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function el(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function tl(n){const e=new Je(n.seconds,n.nanoseconds);return we.fromTimestamp(e)}function No(n,e){const t=(e.baseMutations||[]).map((o=>gT(n.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const u=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const h=e.mutations[o+1];u.updateTransforms=h.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const i=e.mutations.map((o=>gT(n.yt,o))),s=Je.fromMillis(e.localWriteTimeMs);return new J0(e.batchId,s,t,i)}function Fh(n){const e=tl(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?tl(n.lastLimboFreeSnapshotVersion):we.min();let i;return i=(function(o){return o.documents!==void 0})(n.query)?(function(o){const u=o.documents.length;return Te(u===1,1966,{count:u}),Bn(oc(ON(o.documents[0])))})(n.query):(function(o){return Bn(BN(o))})(n.query),new ds(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Nt.fromBase64String(n.resumeToken))}function GN(n,e){const t=el(e.snapshotVersion),i=el(e.lastLimboFreeSnapshotVersion);let s;s=Fp(e.target)?UN(n.yt,e.target):jN(n.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xo(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:s}}function iE(n){const e=BN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?qp(e,e.limit,"L"):e}function gv(n,e){return new eE(e.largestBatchId,gT(n.yt,e.overlayMutation))}function x1(n,e){const t=e.path.lastSegment();return[n,Nn(e.path.popLast()),t]}function C1(n,e,t,i){return{indexId:n,uid:e,sequenceNumber:t,readTime:el(i.readTime),documentKey:Nn(i.documentKey.path),largestBatchId:i.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{getBundleMetadata(e,t){return D1(e).get(t).next((i=>{if(i)return(function(o){return{id:o.bundleId,createTime:tl(o.createTime),version:o.version}})(i)}))}saveBundleMetadata(e,t){return D1(e).put((function(s){return{bundleId:s.id,createTime:el(Bt(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return N1(e).get(t).next((i=>{if(i)return(function(o){return{name:o.name,query:iE(o.bundledQuery),readTime:tl(o.readTime)}})(i)}))}saveNamedQuery(e,t){return N1(e).put((function(s){return{name:s.name,readTime:el(Bt(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function D1(n){return ln(n,bg)}function N1(n){return ln(n,Ag)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new Ng(e,i)}getOverlay(e,t){return xh(e).get(x1(this.userId,t)).next((i=>i?gv(this.serializer,i):null))}getOverlays(e,t){const i=Or();return H.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,t,i){const s=[];return i.forEach(((o,u)=>{const h=new eE(t,u);s.push(this.St(e,h))})),H.waitFor(s)}removeOverlaysForBatchId(e,t,i){const s=new Set;t.forEach((u=>s.add(Nn(u.getCollectionPath()))));const o=[];return s.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(xh(e).Z(rT,h))})),H.waitFor(o)}getOverlaysForCollection(e,t,i){const s=Or(),o=Nn(t),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return xh(e).J(rT,u).next((h=>{for(const d of h){const m=gv(this.serializer,d);s.set(m.getKey(),m)}return s}))}getOverlaysForCollectionGroup(e,t,i,s){const o=Or();let u;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return xh(e).ee({index:HD,range:h},((d,m,y)=>{const _=gv(this.serializer,m);o.size()<s||_.largestBatchId===u?(o.set(_.getKey(),_),u=_.largestBatchId):y.done()})).next((()=>o))}St(e,t){return xh(e).put((function(s,o,u){const[h,d,m]=x1(o,u.mutation.key);return{userId:o,collectionPath:d,documentId:m,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:xd(s.yt,u.mutation)}})(this.serializer,this.userId,t))}}function xh(n){return ln(n,Sg)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{bt(e){return ln(e,q0)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const i=t==null?void 0:t.value;return i?Nt.fromUint8Array(i):Nt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(vt(e.integerValue));else if("doubleValue"in e){const i=vt(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),vd(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=vs(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Ts(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?nN(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):xg(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):ye(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const i=e.fields||{};this.Ft(t,55);for(const s of Object.keys(i))this.Ot(s,t),this.Ct(i[s],t)}kt(e,t){var u,h;const i=e.fields||{};this.Ft(t,53);const s=Uu,o=((h=(u=i[s].arrayValue)==null?void 0:u.values)==null?void 0:h.length)||0;this.Ft(t,15),t.Mt(vt(o)),this.Ot(s,t),this.Ct(i[s],t)}Qt(e,t){const i=e.values||[];this.Ft(t,50);for(const s of i)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),me.fromName(e).path.forEach((i=>{this.Ft(t,60),this.Ut(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Po.Kt=new Po;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const au=255;function CB(n){if(n===0)return 8;let e=0;return n>>4||(e+=4,n<<=4),n>>6||(e+=2,n<<=2),n>>7||(e+=1),e}function P1(n){const e=64-(function(i){let s=0;for(let o=0;o<8;++o){const u=CB(255&i[o]);if(s+=u,u!==8)break}return s})(n);return Math.ceil(e/8)}class DB{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Jt(i.value),i=t.next();this.Ht()}Yt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Jt(i);else if(i<2048)this.Jt(960|i>>>6),this.Jt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),i=P1(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),i=P1(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let s=t.length-i;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(au),this.sn(255)}_n(){this.an(au),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let s=1;s<t.length;++s)t[s]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===au?(this.sn(au),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===au?(this.an(au),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const s=new Uint8Array(i);s.set(this.buffer),this.buffer=s}}class NB{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class PB{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Ch{constructor(){this.cn=new DB,this.ln=new NB(this.cn),this.hn=new PB(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,t,i,s){this.Tn=e,this.In=t,this.En=i,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.dn,0),t!==e?i.set([0],this.dn.length):++i[i.length-1],new Vo(this.Tn,this.In,this.En,i)}Rn(e,t,i){return{indexId:this.Tn,uid:e,arrayValue:Tp(this.En),directionalValue:Tp(this.dn),orderedDocumentKey:Tp(t),documentKey:i.path.toArray()}}Vn(e,t,i){const s=this.Rn(e,t,i);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function ua(n,e){let t=n.Tn-e.Tn;return t!==0?t:(t=V1(n.En,e.En),t!==0?t:(t=V1(n.dn,e.dn),t!==0?t:me.comparator(n.In,e.In)))}function V1(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(i!==0)return i}return n.length-e.length}function Tp(n){return lC()?(function(t){let i="";for(let s=0;s<t.length;s++)i+=String.fromCharCode(t[s]);return i})(n):n}function M1(n){return typeof n!="string"?n:(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(n)}class O1{constructor(e){this.mn=new it(((t,i)=>Et.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const i=t;i.isInequality()?this.mn=this.mn.add(i):this.gn.push(i)}}get pn(){return this.mn.size>1}yn(e){if(Te(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=tT(e);if(t!==void 0&&!this.wn(t))return!1;const i=Ro(e);let s=new Set,o=0,u=0;for(;o<i.length&&this.wn(i[o]);++o)s=s.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(this.mn.size>0){const h=this.mn.getIterator().getNext();if(!s.has(h.field.canonicalString())){const d=i[o];if(!this.Sn(h,d)||!this.bn(this.fn[u++],d))return!1}++o}for(;o<i.length;++o){const h=i[o];if(u>=this.fn.length||!this.bn(this.fn[u++],h))return!1}return!0}Dn(){if(this.pn)return null;let e=new it(Et.comparator);const t=[];for(const i of this.gn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new dp(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new dp(i.field,0))}for(const i of this.fn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new dp(i.field,i.dir==="asc"?0:1)));return new Lp(Lp.UNKNOWN_ID,this.collectionId,t,_d.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(n){var t,i;if(Te(n instanceof ze||n instanceof nt,20012),n instanceof ze){if(n instanceof hN){const s=((i=(t=n.value.arrayValue)==null?void 0:t.values)==null?void 0:i.map((o=>ze.create(n.field,"==",o))))||[];return nt.create(s,"or")}return n}const e=n.filters.map((s=>KN(s)));return nt.create(e,n.op)}function VB(n){if(n.getFilters().length===0)return[];const e=vT(KN(n));return Te($N(e),7391),yT(e)||_T(e)?[e]:e.getFilters()}function yT(n){return n instanceof ze}function _T(n){return n instanceof nt&&$0(n)}function $N(n){return yT(n)||_T(n)||(function(t){if(t instanceof nt&&uT(t)){for(const i of t.getFilters())if(!yT(i)&&!_T(i))return!1;return!0}return!1})(n)}function vT(n){if(Te(n instanceof ze||n instanceof nt,34018),n instanceof ze)return n;if(n.filters.length===1)return vT(n.filters[0]);const e=n.filters.map((i=>vT(i)));let t=nt.create(e,n.op);return t=Gp(t),$N(t)?t:(Te(t instanceof nt,64498),Te(Bu(t),40251),Te(t.filters.length>1,57927),t.filters.reduce(((i,s)=>rE(i,s))))}function rE(n,e){let t;return Te(n instanceof ze||n instanceof nt,38388),Te(e instanceof ze||e instanceof nt,25473),t=n instanceof ze?e instanceof ze?(function(s,o){return nt.create([s,o],"and")})(n,e):k1(n,e):e instanceof ze?k1(e,n):(function(s,o){if(Te(s.filters.length>0&&o.filters.length>0,48005),Bu(s)&&Bu(o))return lN(s,o.getFilters());const u=uT(s)?s:o,h=uT(s)?o:s,d=u.filters.map((m=>rE(m,h)));return nt.create(d,"or")})(n,e),Gp(t)}function k1(n,e){if(Bu(e))return lN(e,n.getFilters());{const t=e.filters.map((i=>rE(n,i)));return nt.create(t,"or")}}function Gp(n){if(Te(n instanceof ze||n instanceof nt,11850),n instanceof ze)return n;const e=n.getFilters();if(e.length===1)return Gp(e[0]);if(aN(n))return n;const t=e.map((s=>Gp(s))),i=[];return t.forEach((s=>{s instanceof ze?i.push(s):s instanceof nt&&(s.op===n.op?i.push(...s.filters):i.push(s))})),i.length===1?i[0]:nt.create(i,n.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MB{constructor(){this.Cn=new sE}addToCollectionParentIndex(e,t){return this.Cn.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(yi.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(yi.min())}updateCollectionGroup(e,t,i){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class sE{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new it(je.comparator),o=!s.has(i);return this.index[t]=s.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new it(je.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="IndexedDbIndexManager",Xm=new Uint8Array(0);class OB{constructor(e,t){this.databaseId=t,this.vn=new sE,this.Fn=new Is((i=>Xo(i)),((i,s)=>ef(i,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const i=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const o={collectionId:i,parent:Nn(s)};return U1(e).put(o)}return H.resolve()}getCollectionParents(e,t){const i=[],s=IDBKeyRange.bound([t,""],[CD(t),""],!1,!0);return U1(e).J(s).next((o=>{for(const u of o){if(u.collectionId!==t)break;i.push(Mr(u.parent))}return i}))}addFieldIndex(e,t){const i=Dh(e),s=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(t);delete s.indexId;const o=i.add(s);if(t.indexState){const u=lu(e);return o.next((h=>{u.put(C1(h,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const i=Dh(e),s=lu(e),o=ou(e);return i.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Dh(e),i=ou(e),s=lu(e);return t.Z().next((()=>i.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return H.forEach(this.Mn(t),(i=>this.getIndexType(e,i).next((s=>{if(s===0||s===1){const o=new O1(i).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const i=ou(e);let s=!0;const o=new Map;return H.forEach(this.Mn(t),(u=>this.xn(e,u).next((h=>{s&&(s=!!h),o.set(u,h)})))).next((()=>{if(s){let u=Ve();const h=[];return H.forEach(o,((d,m)=>{ue(L1,`Using index ${(function(F){return`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map((ae=>`${ae.fieldPath}:${ae.kind}`)).join(",")}`})(d)} to execute ${Xo(t)}`);const y=(function(F,ae){const ne=tT(ae);if(ne===void 0)return null;for(const le of zp(F,ne.fieldPath))switch(le.op){case"array-contains-any":return le.value.arrayValue.values||[];case"array-contains":return[le.value]}return null})(m,d),_=(function(F,ae){const ne=new Map;for(const le of Ro(ae))for(const x of zp(F,le.fieldPath))switch(x.op){case"==":case"in":ne.set(le.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return ne.set(le.fieldPath.canonicalString(),x.value),Array.from(ne.values())}return null})(m,d),T=(function(F,ae){const ne=[];let le=!0;for(const x of Ro(ae)){const I=x.kind===0?p1(F,x.fieldPath,F.startAt):g1(F,x.fieldPath,F.startAt);ne.push(I.value),le&&(le=I.inclusive)}return new Pa(ne,le)})(m,d),b=(function(F,ae){const ne=[];let le=!0;for(const x of Ro(ae)){const I=x.kind===0?g1(F,x.fieldPath,F.endAt):p1(F,x.fieldPath,F.endAt);ne.push(I.value),le&&(le=I.inclusive)}return new Pa(ne,le)})(m,d),C=this.On(d,m,T),P=this.On(d,m,b),V=this.Nn(d,m,_),U=this.Bn(d.indexId,y,C,T.inclusive,P,b.inclusive,V);return H.forEach(U,(W=>i.Y(W,t.limit).next((F=>{F.forEach((ae=>{const ne=me.fromSegments(ae.documentKey);u.has(ne)||(u=u.add(ne),h.push(ne))}))}))))})).next((()=>h))}return H.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=VB(nt.create(e.filters,"and")).map((i=>hT(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,i,s,o,u,h){const d=(t!=null?t.length:1)*Math.max(i.length,o.length),m=d/(t!=null?t.length:1),y=[];for(let _=0;_<d;++_){const T=t?this.Ln(t[_/m]):Xm,b=this.kn(e,T,i[_%m],s),C=this.qn(e,T,o[_%m],u),P=h.map((V=>this.kn(e,T,V,!0)));y.push(...this.createRange(b,C,P))}return y}kn(e,t,i,s){const o=new Vo(e,me.empty(),t,i);return s?o:o.An()}qn(e,t,i,s){const o=new Vo(e,me.empty(),t,i);return s?o.An():o}xn(e,t){const i=new O1(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((o=>{let u=null;for(const h of o)i.yn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(e,t){let i=2;const s=this.Mn(t);return H.forEach(s,(o=>this.xn(e,o).next((u=>{u?i!==0&&u.fields.length<(function(d){let m=new it(Et.comparator),y=!1;for(const _ of d.filters)for(const T of _.getFlattenedFilters())T.field.isKeyField()||(T.op==="array-contains"||T.op==="array-contains-any"?y=!0:m=m.add(T.field));for(const _ of d.orderBy)_.field.isKeyField()||(m=m.add(_.field));return m.size+(y?1:0)})(o)&&(i=1):i=0})))).next((()=>(function(u){return u.limit!==null})(t)&&s.length>1&&i===2?1:i))}Qn(e,t){const i=new Ch;for(const s of Ro(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const u=i.Pn(s.kind);Po.Kt.Dt(o,u)}return i.un()}Ln(e){const t=new Ch;return Po.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const i=new Ch;return Po.Kt.Dt(Yo(this.databaseId,t),i.Pn((function(o){const u=Ro(o);return u.length===0?0:u[u.length-1].kind})(e))),i.un()}Nn(e,t,i){if(i===null)return[];let s=[];s.push(new Ch);let o=0;for(const u of Ro(e)){const h=i[o++];for(const d of s)if(this.Un(t,u.fieldPath)&&Sd(h))s=this.Kn(s,u,h);else{const m=d.Pn(u.kind);Po.Kt.Dt(h,m)}}return this.Wn(s)}On(e,t,i){return this.Nn(e,t,i.position)}Wn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Kn(e,t,i){const s=[...e],o=[];for(const u of i.arrayValue.values||[])for(const h of s){const d=new Ch;d.seed(h.un()),Po.Kt.Dt(u,d.Pn(t.kind)),o.push(d)}return o}Un(e,t){return!!e.filters.find((i=>i instanceof ze&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=Dh(e),s=lu(e);return(t?i.J(iT,IDBKeyRange.bound(t,t)):i.J()).next((o=>{const u=[];return H.forEach(o,(h=>s.get([h.indexId,this.uid]).next((d=>{u.push((function(y,_){const T=_?new _d(_.sequenceNumber,new yi(tl(_.readTime),new me(Mr(_.documentKey)),_.largestBatchId)):_d.empty(),b=y.fields.map((([C,P])=>new dp(Et.fromServerFormat(C),P)));return new Lp(y.indexId,y.collectionGroup,b,T)})(h,d))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,s)=>{const o=i.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:Ce(i.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const s=Dh(e),o=lu(e);return this.Gn(e).next((u=>s.J(iT,IDBKeyRange.bound(t,t)).next((h=>H.forEach(h,(d=>o.put(C1(d.indexId,this.uid,u,i))))))))}updateIndexEntries(e,t){const i=new Map;return H.forEach(t,((s,o)=>{const u=i.get(s.collectionGroup);return(u?H.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next((h=>(i.set(s.collectionGroup,h),H.forEach(h,(d=>this.zn(e,s,d).next((m=>{const y=this.jn(o,d);return m.isEqual(y)?H.resolve():this.Jn(e,o,d,m,y)})))))))}))}Hn(e,t,i,s){return ou(e).put(s.Rn(this.uid,this.$n(i,t.key),t.key))}Yn(e,t,i,s){return ou(e).delete(s.Vn(this.uid,this.$n(i,t.key),t.key))}zn(e,t,i){const s=ou(e);let o=new it(ua);return s.ee({index:qD,range:IDBKeyRange.only([i.indexId,this.uid,Tp(this.$n(i,t))])},((u,h)=>{o=o.add(new Vo(i.indexId,t,M1(h.arrayValue),M1(h.directionalValue)))})).next((()=>o))}jn(e,t){let i=new it(ua);const s=this.Qn(t,e);if(s==null)return i;const o=tT(t);if(o!=null){const u=e.data.field(o.fieldPath);if(Sd(u))for(const h of u.arrayValue.values||[])i=i.add(new Vo(t.indexId,e.key,this.Ln(h),s))}else i=i.add(new Vo(t.indexId,e.key,Xm,s));return i}Jn(e,t,i,s,o){ue(L1,"Updating index entries for document '%s'",t.key);const u=[];return(function(d,m,y,_,T){const b=d.getIterator(),C=m.getIterator();let P=su(b),V=su(C);for(;P||V;){let U=!1,W=!1;if(P&&V){const F=y(P,V);F<0?W=!0:F>0&&(U=!0)}else P!=null?W=!0:U=!0;U?(_(V),V=su(C)):W?(T(P),P=su(b)):(P=su(b),V=su(C))}})(s,o,ua,(h=>{u.push(this.Hn(e,t,i,h))}),(h=>{u.push(this.Yn(e,t,i,h))})),H.waitFor(u)}Gn(e){let t=1;return lu(e).ee({index:zD,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,s,o)=>{o.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((u,h)=>ua(u,h))).filter(((u,h,d)=>!h||ua(u,d[h-1])!==0));const s=[];s.push(e);for(const u of i){const h=ua(u,e),d=ua(u,t);if(h===0)s[0]=e.An();else if(h>0&&d<0)s.push(u),s.push(u.An());else if(d>0)break}s.push(t);const o=[];for(let u=0;u<s.length;u+=2){if(this.Zn(s[u],s[u+1]))return[];const h=s[u].Vn(this.uid,Xm,me.empty()),d=s[u+1].Vn(this.uid,Xm,me.empty());o.push(IDBKeyRange.bound(h,d))}return o}Zn(e,t){return ua(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(j1)}getMinOffset(e,t){return H.mapArray(this.Mn(t),(i=>this.xn(e,i).next((s=>s||ye(44426))))).next(j1)}}function U1(n){return ln(n,wd)}function ou(n){return ln(n,Zh)}function Dh(n){return ln(n,z0)}function lu(n){return ln(n,Jh)}function j1(n){Te(n.length!==0,28825);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const s=n[i].indexState.offset;j0(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new yi(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QN=41943040;class xn{static withCacheSize(e){return new xn(e,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(n,e,t){const i=n.store(Ji),s=n.store(Mu),o=[],u=IDBKeyRange.only(t.batchId);let h=0;const d=i.ee({range:u},((y,_,T)=>(h++,T.delete())));o.push(d.next((()=>{Te(h===1,47070,{batchId:t.batchId})})));const m=[];for(const y of t.mutations){const _=jD(e,y.key.path,t.batchId);o.push(s.delete(_)),m.push(y.key)}return H.waitFor(o).next((()=>m))}function Kp(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ye(14731);e=n.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(QN,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);class Pg{constructor(e,t,i,s){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=s,this.Xn={}}static wt(e,t,i,s){Te(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Pg(o,t,i,s)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ca(e).ee({index:ko,range:i},((s,o,u)=>{t=!1,u.done()})).next((()=>t))}addMutationBatch(e,t,i,s){const o=mu(e),u=ca(e);return u.add({}).next((h=>{Te(typeof h=="number",49019);const d=new J0(h,t,i,s),m=(function(b,C,P){const V=P.baseMutations.map((W=>xd(b.yt,W))),U=P.mutations.map((W=>xd(b.yt,W)));return{userId:C,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:V,mutations:U}})(this.serializer,this.userId,d),y=[];let _=new it(((T,b)=>Ce(T.canonicalString(),b.canonicalString())));for(const T of s){const b=jD(this.userId,T.key.path,h);_=_.add(T.key.path.popLast()),y.push(u.put(m)),y.push(o.put(b,pj))}return _.forEach((T=>{y.push(this.indexManager.addToCollectionParentIndex(e,T))})),e.addOnCommittedListener((()=>{this.Xn[h]=d.keys()})),H.waitFor(y).next((()=>d))}))}lookupMutationBatch(e,t){return ca(e).get(t).next((i=>i?(Te(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),No(this.serializer,i)):null))}er(e,t){return this.Xn[t]?H.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const s=i.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return ca(e).ee({index:ko,range:s},((u,h,d)=>{h.userId===this.userId&&(Te(h.batchId>=i,47524,{tr:i}),o=No(this.serializer,h)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=wa;return ca(e).ee({index:ko,range:t,reverse:!0},((s,o,u)=>{i=o.batchId,u.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,wa],[this.userId,Number.POSITIVE_INFINITY]);return ca(e).J(ko,t).next((i=>i.map((s=>No(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=fp(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=[];return mu(e).ee({range:s},((u,h,d)=>{const[m,y,_]=u,T=Mr(y);if(m===this.userId&&t.path.isEqual(T))return ca(e).get(_).next((b=>{if(!b)throw ye(61480,{nr:u,batchId:_});Te(b.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:b.userId,batchId:_}),o.push(No(this.serializer,b))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new it(Ce);const s=[];return t.forEach((o=>{const u=fp(this.userId,o.path),h=IDBKeyRange.lowerBound(u),d=mu(e).ee({range:h},((m,y,_)=>{const[T,b,C]=m,P=Mr(b);T===this.userId&&o.path.isEqual(P)?i=i.add(C):_.done()}));s.push(d)})),H.waitFor(s).next((()=>this.rr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1,o=fp(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new it(Ce);return mu(e).ee({range:u},((d,m,y)=>{const[_,T,b]=d,C=Mr(T);_===this.userId&&i.isPrefixOf(C)?C.length===s&&(h=h.add(b)):y.done()})).next((()=>this.rr(e,h)))}rr(e,t){const i=[],s=[];return t.forEach((o=>{s.push(ca(e).get(o).next((u=>{if(u===null)throw ye(35274,{batchId:o});Te(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:o}),i.push(No(this.serializer,u))})))})),H.waitFor(s).next((()=>i))}removeMutationBatch(e,t){return WN(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),H.forEach(i,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return H.resolve();const i=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),s=[];return mu(e).ee({range:i},((o,u,h)=>{if(o[0]===this.userId){const d=Mr(o[1]);s.push(d)}else h.done()})).next((()=>{Te(s.length===0,56720,{sr:s.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return YN(e,this.userId,t)}_r(e){return XN(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:wa,lastStreamToken:""}))}}function YN(n,e,t){const i=fp(e,t.path),s=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return mu(n).ee({range:o,X:!0},((h,d,m)=>{const[y,_,T]=h;y===e&&_===s&&(u=!0),m.done()})).next((()=>u))}function ca(n){return ln(n,Ji)}function mu(n){return ln(n,Mu)}function XN(n){return ln(n,Td)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new nl(0)}static cr(){return new nl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const i=new nl(t.highestTargetId);return t.highestTargetId=i.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>we.fromTimestamp(new Je(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,i&&(s.lastRemoteSnapshotVersion=i.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((i=>(i.targetCount+=1,this.Tr(t,i),this.hr(e,i))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>uu(e).delete(t.targetId))).next((()=>this.lr(e))).next((i=>(Te(i.targetCount>0,8065),i.targetCount-=1,this.hr(e,i))))}removeTargets(e,t,i){let s=0;const o=[];return uu(e).ee(((u,h)=>{const d=Fh(h);d.sequenceNumber<=t&&i.get(d.targetId)===null&&(s++,o.push(this.removeTargetData(e,d)))})).next((()=>H.waitFor(o))).next((()=>s))}forEachTarget(e,t){return uu(e).ee(((i,s)=>{const o=Fh(s);t(o)}))}lr(e){return F1(e).get(Bp).next((t=>(Te(t!==null,2888),t)))}hr(e,t){return F1(e).put(Bp,t)}Pr(e,t){return uu(e).put(GN(this.serializer,t))}Tr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const i=Xo(t),s=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return uu(e).ee({range:s,index:FD},((u,h,d)=>{const m=Fh(h);ef(t,m.target)&&(o=m,d.done())})).next((()=>o))}addMatchingKeys(e,t,i){const s=[],o=pa(e);return t.forEach((u=>{const h=Nn(u.path);s.push(o.put({targetId:i,path:h})),s.push(this.referenceDelegate.addReference(e,i,u))})),H.waitFor(s)}removeMatchingKeys(e,t,i){const s=pa(e);return H.forEach(t,(o=>{const u=Nn(o.path);return H.waitFor([s.delete([i,u]),this.referenceDelegate.removeReference(e,i,o)])}))}removeMatchingKeysForTargetId(e,t){const i=pa(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(s)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),s=pa(e);let o=Ve();return s.ee({range:i,X:!0},((u,h,d)=>{const m=Mr(u[1]),y=new me(m);o=o.add(y)})).next((()=>o))}containsKey(e,t){const i=Nn(t.path),s=IDBKeyRange.bound([i],[CD(i)],!1,!0);let o=0;return pa(e).ee({index:F0,X:!0,range:s},(([u,h],d,m)=>{u!==0&&(o++,m.done())})).next((()=>o>0))}At(e,t){return uu(e).get(t).next((i=>i?Fh(i):null))}}function uu(n){return ln(n,Ou)}function F1(n){return ln(n,qo)}function pa(n){return ln(n,ku)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="LruGarbageCollector",LB=1048576;function q1([n,e],[t,i]){const s=Ce(n,t);return s===0?Ce(e,i):s}class UB{constructor(e){this.Ir=e,this.buffer=new it(q1),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();q1(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JN{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(z1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fa(t)?ue(z1,"Ignoring IndexedDB error during garbage collection: ",t):await Ba(t)}await this.Vr(3e5)}))}}class jB{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return H.resolve(Xn.ce);const i=new UB(t);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(B1)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B1):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,s,o,u,h,d,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(i=_,h=Date.now(),this.removeTargets(e,i,t)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(m=Date.now(),cu()<=Ue.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(h-u)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${_} documents in `+(m-d)+`ms
Total Duration: ${m-y}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_}))))}}function ZN(n,e){return new jB(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BB{constructor(e,t){this.db=e,this.garbageCollector=ZN(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((i,s)=>t(s)))}addReference(e,t,i){return Jm(e,i)}removeReference(e,t,i){return Jm(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Jm(e,t)}br(e,t){return(function(s,o){let u=!1;return XN(s).te((h=>YN(s,h,o).next((d=>(d&&(u=!0),H.resolve(!d)))))).next((()=>u))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.Sr(e,((u,h)=>{if(h<=t){const d=this.br(e,u).next((m=>{if(!m)return o++,i.getEntry(e,u).next((()=>(i.removeEntry(u,we.min()),pa(e).delete((function(_){return[0,Nn(_.path)]})(u)))))}));s.push(d)}})).next((()=>H.waitFor(s))).next((()=>i.apply(e))).next((()=>o))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Jm(e,t)}Sr(e,t){const i=pa(e);let s,o=Xn.ce;return i.ee({index:F0},(([u,h],{path:d,sequenceNumber:m})=>{u===0?(o!==Xn.ce&&t(new me(Mr(s)),o),o=m,s=d):o=Xn.ce})).next((()=>{o!==Xn.ce&&t(new me(Mr(s)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Jm(n,e){return pa(n).put((function(i,s){return{targetId:0,path:Nn(i.path),sequenceNumber:s}})(e,n.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(){this.changes=new Is((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?H.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FB{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return Ao(e).put(i)}removeEntry(e,t,i){return Ao(e).delete((function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],Hp(u),h[h.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.Dr(e,i))))}getEntry(e,t){let i=mt.newInvalidDocument(t);return Ao(e).ee({index:mp,range:IDBKeyRange.only(Nh(t))},((s,o)=>{i=this.Cr(t,o)})).next((()=>i))}vr(e,t){let i={size:0,document:mt.newInvalidDocument(t)};return Ao(e).ee({index:mp,range:IDBKeyRange.only(Nh(t))},((s,o)=>{i={document:this.Cr(t,o),size:Kp(o)}})).next((()=>i))}getEntries(e,t){let i=Zn();return this.Fr(e,t,((s,o)=>{const u=this.Cr(s,o);i=i.insert(s,u)})).next((()=>i))}Mr(e,t){let i=Zn(),s=new ht(me.comparator);return this.Fr(e,t,((o,u)=>{const h=this.Cr(o,u);i=i.insert(o,h),s=s.insert(o,Kp(u))})).next((()=>({documents:i,Or:s})))}Fr(e,t,i){if(t.isEmpty())return H.resolve();let s=new it(K1);t.forEach((d=>s=s.add(d)));const o=IDBKeyRange.bound(Nh(s.first()),Nh(s.last())),u=s.getIterator();let h=u.getNext();return Ao(e).ee({index:mp,range:o},((d,m,y)=>{const _=me.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;h&&K1(h,_)<0;)i(h,null),h=u.getNext();h&&h.isEqual(_)&&(i(h,m),h=u.hasNext()?u.getNext():null),h?y.j(Nh(h)):y.done()})).next((()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(e,t,i,s,o){const u=t.path,h=[u.popLast().toArray(),u.lastSegment(),Hp(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],d=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ao(e).J(IDBKeyRange.bound(h,d,!0)).next((m=>{o==null||o.incrementDocumentReadCount(m.length);let y=Zn();for(const _ of m){const T=this.Cr(me.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);T.isFoundDocument()&&(nf(t,T)||s.has(T.key))&&(y=y.insert(T.key,T))}return y}))}getAllFromCollectionGroup(e,t,i,s){let o=Zn();const u=G1(t,i),h=G1(t,yi.max());return Ao(e).ee({index:BD,range:IDBKeyRange.bound(u,h,!0)},((d,m,y)=>{const _=this.Cr(me.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);o=o.insert(_.key,_),o.size===s&&y.done()})).next((()=>o))}newChangeBuffer(e){return new zB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return H1(e).get(nT).next((t=>(Te(!!t,20021),t)))}Dr(e,t){return H1(e).put(nT,t)}Cr(e,t){if(t){const i=IB(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(we.min())))return i}return mt.newInvalidDocument(e)}}function tP(n){return new FB(n)}class zB extends eP{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Is((i=>i.toString()),((i,s)=>i.isEqual(s)))}applyChanges(e){const t=[];let i=0,s=new it(((o,u)=>Ce(o.canonicalString(),u.canonicalString())));return this.changes.forEach(((o,u)=>{const h=this.Br.get(o);if(t.push(this.Nr.removeEntry(e,o,h.readTime)),u.isValidDocument()){const d=R1(this.Nr.serializer,u);s=s.add(o.path.popLast());const m=Kp(d);i+=m-h.size,t.push(this.Nr.addEntry(e,o,d))}else if(i-=h.size,this.trackRemovals){const d=R1(this.Nr.serializer,u.convertToNoDocument(we.min()));t.push(this.Nr.addEntry(e,o,d))}})),s.forEach((o=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Nr.updateMetadata(e,i)),H.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((i=>(this.Br.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:i,Or:s})=>(s.forEach(((o,u)=>{this.Br.set(o,{size:u,readTime:i.get(o).readTime})})),i)))}}function H1(n){return ln(n,Ed)}function Ao(n){return ln(n,jp)}function Nh(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function G1(n,e){const t=e.documentKey.path.toArray();return[n,Hp(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function K1(n,e){const t=n.path.toArray(),i=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(s=Ce(t[o],i[o]),s)return s;return s=Ce(t.length,i.length),s||(s=Ce(t[t.length-2],i[i.length-2]),s||Ce(t[t.length-1],i[i.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(i!==null&&nd(i.mutation,s,Jn.empty(),Je.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ve()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ve()){const s=Or();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,i).next((o=>{let u=jh();return o.forEach(((h,d)=>{u=u.insert(h,d.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const i=Or();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ve())))}populateOverlays(e,t,i){const s=[];return i.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,h)=>{t.set(u,h)}))}))}computeViews(e,t,i,s){let o=Zn();const u=td(),h=(function(){return td()})();return t.forEach(((d,m)=>{const y=i.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof Rs)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),nd(y.mutation,m,y.mutation.getFieldMask(),Je.now())):u.set(m.key,Jn.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((m,y)=>u.set(m,y))),t.forEach(((m,y)=>h.set(m,new qB(y,u.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const i=td();let s=new ht(((u,h)=>u-h)),o=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const h of u)h.keys().forEach((d=>{const m=t.get(d);if(m===null)return;let y=i.get(d)||Jn.empty();y=h.applyToLocalView(m,y),i.set(d,y);const _=(s.get(h.batchId)||Ve()).add(d);s=s.insert(h.batchId,_)}))})).next((()=>{const u=[],h=s.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,y=d.value,_=_N();y.forEach((T=>{if(!o.has(T)){const b=SN(t.get(T),i.get(T));b!==null&&_.set(T,b),o=o.add(T)}})),u.push(this.documentOverlayCache.saveOverlays(e,m,_))}return H.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,s){return(function(u){return me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Q0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-o.size):H.resolve(Or());let h=Vu,d=o;return u.next((m=>H.forEach(m,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?H.resolve():this.remoteDocumentCache.getEntry(e,y).next((T=>{d=d.insert(y,T)}))))).next((()=>this.populateOverlays(e,m,o))).next((()=>this.computeViews(e,d,m,Ve()))).next((y=>({batchId:h,changes:yN(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next((i=>{let s=jh();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const o=t.collectionGroup;let u=jh();return this.indexManager.getCollectionParents(e,o).next((h=>H.forEach(h,(d=>{const m=(function(_,T){return new Ss(T,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,i,s).next((y=>{y.forEach(((_,T)=>{u=u.insert(_,T)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,i,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,s)))).next((u=>{o.forEach(((d,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,mt.newInvalidDocument(y)))}));let h=jh();return u.forEach(((d,m)=>{const y=o.get(d);y!==void 0&&nd(y.mutation,m,Jn.empty(),Je.now()),nf(t,m)&&(h=h.insert(d,m))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HB{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return H.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Bt(s.createTime)}})(t)),H.resolve()}getNamedQuery(e,t){return H.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:iE(s.bundledQuery),readTime:Bt(s.readTime)}})(t)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(){this.overlays=new ht(me.comparator),this.qr=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Or();return H.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&i.set(s,o)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((s,o)=>{this.St(e,t,o)})),H.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),H.resolve()}getOverlaysForCollection(e,t,i){const s=Or(),o=t.length+1,u=new me(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===o&&d.largestBatchId>i&&s.set(d.getKey(),d)}return H.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let o=new ht(((m,y)=>m-y));const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=Or(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Or(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=s)););return H.resolve(h)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new eE(t,i));let o=this.qr.get(t);o===void 0&&(o=Ve(),this.qr.set(t,o)),this.qr.set(t,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(){this.Qr=new it(dn.$r),this.Ur=new it(dn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new dn(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new dn(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new me(new je([])),i=new dn(t,e),s=new dn(t,e+1),o=[];return this.Ur.forEachInRange([i,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new me(new je([])),i=new dn(t,e),s=new dn(t,e+1);let o=Ve();return this.Ur.forEachInRange([i,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new dn(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class dn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return me.comparator(e.key,t.key)||Ce(e.Yr,t.Yr)}static Kr(e,t){return Ce(e.Yr,t.Yr)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new it(dn.$r)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new J0(o,t,i,s);this.mutationQueue.push(u);for(const h of s)this.Zr=this.Zr.add(new dn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return H.resolve(u)}lookupMutationBatch(e,t){return H.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ei(i),o=s<0?0:s;return H.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?wa:this.tr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new dn(t,0),s=new dn(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,s],(u=>{const h=this.Xr(u.Yr);o.push(h)})),H.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new it(Ce);return t.forEach((s=>{const o=new dn(s,0),u=new dn(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(h=>{i=i.add(h.Yr)}))})),H.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let o=i;me.isDocumentKey(o)||(o=o.child(""));const u=new dn(new me(o),0);let h=new it(Ce);return this.Zr.forEachWhile((d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===s&&(h=h.add(d.Yr)),!0)}),u),H.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Te(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return H.forEach(t.mutations,(s=>{const o=new dn(s.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new dn(t,0),s=this.Zr.firstAfterOrEqual(i);return H.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e){this.ri=e,this.docs=(function(){return new ht(me.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),o=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return H.resolve(i?i.document.mutableCopy():mt.newInvalidDocument(t))}getEntries(e,t){let i=Zn();return t.forEach((s=>{const o=this.docs.get(s);i=i.insert(s,o?o.document.mutableCopy():mt.newInvalidDocument(s))})),H.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let o=Zn();const u=t.path,h=new me(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:y}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||j0(MD(y),i)<=0||(s.has(y.key)||nf(t,y))&&(o=o.insert(y.key,y.mutableCopy()))}return H.resolve(o)}getAllFromCollectionGroup(e,t,i,s){ye(9500)}ii(e,t){return H.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new WB(this)}getSize(e){return H.resolve(this.size)}}class WB extends eP{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),H.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(e){this.persistence=e,this.si=new Is((t=>Xo(t)),ef),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new aE,this.targetCount=0,this.ai=nl.ur()}forEachTarget(e,t){return this.si.forEach(((i,s)=>t(s))),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),H.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new nl(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.Pr(t),H.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,i){let s=0;const o=[];return this.si.forEach(((u,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)})),H.waitFor(o).next((()=>s))}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return H.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),H.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),H.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return H.resolve(i)}containsKey(e,t){return H.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,t){this.ui={},this.overlays={},this.ci=new Xn(0),this.li=!1,this.li=!0,this.hi=new KB,this.referenceDelegate=e(this),this.Pi=new YB(this),this.indexManager=new MB,this.remoteDocumentCache=(function(s){return new QB(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new HN(t),this.Ii=new HB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new GB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new $B(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){ue("MemoryPersistence","Starting transaction:",e);const s=new XB(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return H.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class XB extends kD{constructor(e){super(),this.currentSequenceNumber=e}}class Vg{constructor(e){this.persistence=e,this.Ri=new aE,this.Vi=null}static mi(e){return new Vg(e)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),H.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),H.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.fi,(i=>{const s=me.fromPath(i);return this.gi(e,s).next((o=>{o||t.removeEntry(s,we.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return H.or([()=>H.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class $p{constructor(e,t){this.persistence=e,this.pi=new Is((i=>Nn(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=ZN(this,t)}static mi(e,t){return new $p(e,t)}Ei(){}di(e){return H.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return H.forEach(this.pi,((i,s)=>this.br(e,i,s).next((o=>o?H.resolve():t(s)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((h=>{h||(i++,o.removeEntry(u,we.min()))})))).next((()=>o.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),H.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),H.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),H.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=gp(e.data.value)),t}br(e,t,i){return H.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return H.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JB{constructor(e){this.serializer=e}k(e,t,i,s){const o=new wg("createOrUpgrade",t);i<1&&s>=1&&((function(d){d.createObjectStore(Zd)})(e),(function(d){d.createObjectStore(Td,{keyPath:mj}),d.createObjectStore(Ji,{keyPath:i1,autoIncrement:!0}).createIndex(ko,r1,{unique:!0}),d.createObjectStore(Mu)})(e),$1(e),(function(d){d.createObjectStore(xo)})(e));let u=H.resolve();return i<3&&s>=3&&(i!==0&&((function(d){d.deleteObjectStore(ku),d.deleteObjectStore(Ou),d.deleteObjectStore(qo)})(e),$1(e)),u=u.next((()=>(function(d){const m=d.store(qo),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:we.min().toTimestamp(),targetCount:0};return m.put(Bp,y)})(o)))),i<4&&s>=4&&(i!==0&&(u=u.next((()=>(function(d,m){return m.store(Ji).J().next((_=>{d.deleteObjectStore(Ji),d.createObjectStore(Ji,{keyPath:i1,autoIncrement:!0}).createIndex(ko,r1,{unique:!0});const T=m.store(Ji),b=_.map((C=>T.put(C)));return H.waitFor(b)}))})(e,o)))),u=u.next((()=>{(function(d){d.createObjectStore(Lu,{keyPath:bj})})(e)}))),i<5&&s>=5&&(u=u.next((()=>this.yi(o)))),i<6&&s>=6&&(u=u.next((()=>((function(d){d.createObjectStore(Ed)})(e),this.wi(o))))),i<7&&s>=7&&(u=u.next((()=>this.Si(o)))),i<8&&s>=8&&(u=u.next((()=>this.bi(e,o)))),i<9&&s>=9&&(u=u.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&s>=10&&(u=u.next((()=>this.Di(o)))),i<11&&s>=11&&(u=u.next((()=>{(function(d){d.createObjectStore(bg,{keyPath:Aj})})(e),(function(d){d.createObjectStore(Ag,{keyPath:Sj})})(e)}))),i<12&&s>=12&&(u=u.next((()=>{(function(d){const m=d.createObjectStore(Sg,{keyPath:Pj});m.createIndex(rT,Vj,{unique:!1}),m.createIndex(HD,Mj,{unique:!1})})(e)}))),i<13&&s>=13&&(u=u.next((()=>(function(d){const m=d.createObjectStore(jp,{keyPath:gj});m.createIndex(mp,yj),m.createIndex(BD,_j)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(xo)))),i<14&&s>=14&&(u=u.next((()=>this.Fi(e,o)))),i<15&&s>=15&&(u=u.next((()=>(function(d){d.createObjectStore(z0,{keyPath:Ij,autoIncrement:!0}).createIndex(iT,Rj,{unique:!1}),d.createObjectStore(Jh,{keyPath:xj}).createIndex(zD,Cj,{unique:!1}),d.createObjectStore(Zh,{keyPath:Dj}).createIndex(qD,Nj,{unique:!1})})(e)))),i<16&&s>=16&&(u=u.next((()=>{t.objectStore(Jh).clear()})).next((()=>{t.objectStore(Zh).clear()}))),i<17&&s>=17&&(u=u.next((()=>{(function(d){d.createObjectStore(q0,{keyPath:Oj})})(e)}))),i<18&&s>=18&&lC()&&(u=u.next((()=>{t.objectStore(Jh).clear()})).next((()=>{t.objectStore(Zh).clear()}))),u}wi(e){let t=0;return e.store(xo).ee(((i,s)=>{t+=Kp(s)})).next((()=>{const i={byteSize:t};return e.store(Ed).put(nT,i)}))}yi(e){const t=e.store(Td),i=e.store(Ji);return t.J().next((s=>H.forEach(s,(o=>{const u=IDBKeyRange.bound([o.userId,wa],[o.userId,o.lastAcknowledgedBatchId]);return i.J(ko,u).next((h=>H.forEach(h,(d=>{Te(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const m=No(this.serializer,d);return WN(e,o.userId,m).next((()=>{}))}))))}))))}Si(e){const t=e.store(ku),i=e.store(xo);return e.store(qo).get(Bp).next((s=>{const o=[];return i.ee(((u,h)=>{const d=new je(u),m=(function(_){return[0,Nn(_)]})(d);o.push(t.get(m).next((y=>y?H.resolve():(_=>t.put({targetId:0,path:Nn(_),sequenceNumber:s.highestListenSequenceNumber}))(d))))})).next((()=>H.waitFor(o)))}))}bi(e,t){e.createObjectStore(wd,{keyPath:wj});const i=t.store(wd),s=new sE,o=u=>{if(s.add(u)){const h=u.lastSegment(),d=u.popLast();return i.put({collectionId:h,parent:Nn(d)})}};return t.store(xo).ee({X:!0},((u,h)=>{const d=new je(u);return o(d.popLast())})).next((()=>t.store(Mu).ee({X:!0},(([u,h,d],m)=>{const y=Mr(h);return o(y.popLast())}))))}Di(e){const t=e.store(Ou);return t.ee(((i,s)=>{const o=Fh(s),u=GN(this.serializer,o);return t.put(u)}))}Ci(e,t){const i=t.store(xo),s=[];return i.ee(((o,u)=>{const h=t.store(jp),d=(function(_){return _.document?new me(je.fromString(_.document.name).popFirst(5)):_.noDocument?me.fromSegments(_.noDocument.path):_.unknownDocument?me.fromSegments(_.unknownDocument.path):ye(36783)})(u).path.toArray(),m={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(h.put(m))})).next((()=>H.waitFor(s)))}Fi(e,t){const i=t.store(Ji),s=tP(this.serializer),o=new oE(Vg.mi,this.serializer.yt);return i.J().next((u=>{const h=new Map;return u.forEach((d=>{let m=h.get(d.userId)??Ve();No(this.serializer,d).keys().forEach((y=>m=m.add(y))),h.set(d.userId,m)})),H.forEach(h,((d,m)=>{const y=new fn(m),_=Ng.wt(this.serializer,y),T=o.getIndexManager(y),b=Pg.wt(y,this.serializer,T,o.referenceDelegate);return new nP(s,b,_,T).recalculateAndSaveOverlaysForDocumentKeys(new sT(t,Xn.ce),d).next()}))}))}}function $1(n){n.createObjectStore(ku,{keyPath:Tj}).createIndex(F0,Ej,{unique:!0}),n.createObjectStore(Ou,{keyPath:"targetId"}).createIndex(FD,vj,{unique:!0}),n.createObjectStore(qo)}const ha="IndexedDbPersistence",yv=18e5,_v=5e3,vv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",iP="main";class lE{constructor(e,t,i,s,o,u,h,d,m,y,_=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Mi=o,this.window=u,this.document=h,this.xi=m,this.Oi=y,this.Ni=_,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=T=>Promise.resolve(),!lE.v())throw new oe(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new BB(this,s),this.$i=t+iP,this.serializer=new HN(d),this.Ui=new kr(this.$i,this.Ni,new JB(this.serializer)),this.hi=new xB,this.Pi=new kB(this.referenceDelegate,this.serializer),this.remoteDocumentCache=tP(this.serializer),this.Ii=new RB,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,y===!1&&Ut(ha,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new oe(X.FAILED_PRECONDITION,vv);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Xn(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Zm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Fa(e))return ue(ha,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ue(ha,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Ph(e).get(ru).next((t=>H.resolve(this.es(t))))}ts(e){return Zm(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,yv)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=ln(t,Lu);return i.J().next((s=>{const o=this.ss(s,yv),u=s.filter((h=>o.indexOf(h)===-1));return H.forEach(u,(h=>i.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?H.resolve(!0):Ph(e).get(ru).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,_v)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new oe(X.FAILED_PRECONDITION,vv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Zm(e).J().next((i=>this.ss(i,_v).find((s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,h=this.networkEnabled===s.networkEnabled;if(o||u&&h)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&ue(ha,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Zd,Lu],(e=>{const t=new sT(e,Xn.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((i=>this.rs(i.updateTimeMs,t)&&!this.us(i.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>Zm(e).J().next((t=>this.ss(t,yv).map((i=>i.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Pg.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new OB(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Ng.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,i){ue(ha,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?Uj:d===17?QD:d===16?Lj:d===15?H0:d===14?$D:d===13?KD:d===12?kj:d===11?GD:void ye(60245)})(this.Ni);let u;return this.Ui.runTransaction(e,s,o,(h=>(u=new sT(h,this.ci?this.ci.next():Xn.ce),t==="readwrite-primary"?this.Hi(u).next((d=>!!d||this.Yi(u))).next((d=>{if(!d)throw Ut(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new oe(X.FAILED_PRECONDITION,OD);return i(u)})).next((d=>this.Xi(u).next((()=>d)))):this.Is(u).next((()=>i(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Is(e){return Ph(e).get(ru).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,_v)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new oe(X.FAILED_PRECONDITION,vv)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ph(e).put(ru,t)}static v(){return kr.v()}Zi(e){const t=Ph(e);return t.get(ru).next((i=>this.es(i)?(ue(ha,"Releasing primary lease."),t.delete(ru)):H.resolve()))}rs(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(Ut(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;oC()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var t;try{const i=((t=this.Ki)==null?void 0:t.getItem(this._s(e)))!==null;return ue(ha,`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Ut(ha,"Failed to get zombied client id.",i),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Ut("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ph(n){return ln(n,Zd)}function Zm(n){return ln(n,Lu)}function uE(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=s}static As(e,t){let i=Ve(),s=Ve();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new cE(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return oC()?8:LD(It())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,s){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,s,i).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new ZB;return this.Ss(e,t,u).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,u,h.size)}))})).next((()=>o.result))}bs(e,t,i,s){return i.documentReadCount<this.fs?(cu()<=Ue.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",hu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),H.resolve()):(cu()<=Ue.DEBUG&&ue("QueryEngine","Query:",hu(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(cu()<=Ue.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",hu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bn(t))):H.resolve())}ys(e,t){if(y1(t))return H.resolve(null);let i=Bn(t);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=qp(t,null,"F"),i=Bn(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((o=>{const u=Ve(...o);return this.ps.getDocuments(e,u).next((h=>this.indexManager.getMinOffset(e,i).next((d=>{const m=this.Ds(t,h);return this.Cs(t,m,u,d.readTime)?this.ys(e,qp(t,null,"F")):this.vs(e,m,t,d)}))))})))))}ws(e,t,i,s){return y1(t)||s.isEqual(we.min())?H.resolve(null):this.ps.getDocuments(e,i).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,i,s)?H.resolve(null):(cu()<=Ue.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),hu(t)),this.vs(e,u,t,VD(s,Vu)).next((h=>h)))}))}Ds(e,t){let i=new it(pN(e));return t.forEach(((s,o)=>{nf(e,o)&&(i=i.add(o))})),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,i){return cu()<=Ue.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",hu(t)),this.ps.getDocumentsMatchingQuery(e,t,yi.min(),i)}vs(e,t,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="LocalStore",eF=3e8;class tF{constructor(e,t,i,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new ht(Ce),this.xs=new Is((o=>Xo(o)),ef),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nP(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function sP(n,e,t,i){return new tF(n,e,t,i)}async function aP(n,e){const t=pe(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((o=>{const u=[],h=[];let d=Ve();for(const m of s){u.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)d=d.add(y.key)}return t.localDocuments.getDocuments(i,d).next((m=>({Ls:m,removedBatchIds:u,addedBatchIds:h})))}))}))}function nF(n,e){const t=pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,d,m,y){const _=m.batch,T=_.keys();let b=H.resolve();return T.forEach((C=>{b=b.next((()=>y.getEntry(d,C))).next((P=>{const V=m.docVersions.get(C);Te(V!==null,48541),P.version.compareTo(V)<0&&(_.applyToRemoteDocument(P,m),P.isValidDocument()&&(P.setReadTime(m.commitVersion),y.addEntry(P)))}))})),b.next((()=>h.mutationQueue.removeMutationBatch(d,_)))})(t,i,e,o).next((()=>o.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let d=Ve();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(i,s)))}))}function oP(n){const e=pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function iF(n,e){const t=pe(n),i=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const h=[];e.targetChanges.forEach(((y,_)=>{const T=s.get(_);if(!T)return;h.push(t.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(o,y.addedDocuments,_))));let b=T.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(Nt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):y.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(y.resumeToken,i)),s=s.insert(_,b),(function(P,V,U){return P.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=eF?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(T,b,y)&&h.push(t.Pi.updateTargetData(o,b))}));let d=Zn(),m=Ve();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(lP(o,u,e.documentUpdates).next((y=>{d=y.ks,m=y.qs}))),!i.isEqual(we.min())){const y=t.Pi.getLastRemoteSnapshotVersion(o).next((_=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return H.waitFor(h).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,m))).next((()=>d))})).then((o=>(t.Ms=s,o)))}function lP(n,e,t){let i=Ve(),s=Ve();return t.forEach((o=>i=i.add(o))),e.getEntries(n,i).next((o=>{let u=Zn();return t.forEach(((h,d)=>{const m=o.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(h)),d.isNoDocument()&&d.version.isEqual(we.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ue(hE,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)})),{ks:u,qs:s}}))}function rF(n,e){const t=pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=wa),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Hu(n,e){const t=pe(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return t.Pi.getTargetData(i,e).next((o=>o?(s=o,H.resolve(s)):t.Pi.allocateTargetId(i).next((u=>(s=new ds(e,u,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=t.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Gu(n,e,t){const i=pe(n),s=i.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",o,(u=>i.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Fa(u))throw u;ue(hE,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function Qp(n,e,t){const i=pe(n);let s=we.min(),o=Ve();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(d,m,y){const _=pe(d),T=_.xs.get(y);return T!==void 0?H.resolve(_.Ms.get(T)):_.Pi.getTargetData(m,y)})(i,u,Bn(e)).next((h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(u,h.targetId).next((d=>{o=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(u,e,t?s:we.min(),t?o:Ve()))).next((h=>(hP(i,mN(e),h),{documents:h,Qs:o})))))}function uP(n,e){const t=pe(n),i=pe(t.Pi),s=t.Ms.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",(o=>i.At(o,e).next((u=>u?u.target:null))))}function cP(n,e){const t=pe(n),i=t.Os.get(e)||we.min();return t.persistence.runTransaction("Get new document changes","readonly",(s=>t.Ns.getAllFromCollectionGroup(s,e,VD(i,Vu),Number.MAX_SAFE_INTEGER))).then((s=>(hP(t,e,s),s)))}function hP(n,e,t){let i=n.Os.get(e)||we.min();t.forEach(((s,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(e,i)}async function sF(n,e,t,i){const s=pe(n);let o=Ve(),u=Zn();for(const m of t){const y=e.$s(m.metadata.name);m.document&&(o=o.add(y));const _=e.Us(m);_.setReadTime(e.Ks(m.metadata.readTime)),u=u.insert(y,_)}const h=s.Ns.newChangeBuffer({trackRemovals:!0}),d=await Hu(s,(function(y){return Bn(oc(je.fromString(`__bundle__/docs/${y}`)))})(i));return s.persistence.runTransaction("Apply bundle documents","readwrite",(m=>lP(m,h,u).next((y=>(h.apply(m),y))).next((y=>s.Pi.removeMatchingKeysForTargetId(m,d.targetId).next((()=>s.Pi.addMatchingKeys(m,o,d.targetId))).next((()=>s.localDocuments.getLocalViewOfDocuments(m,y.ks,y.qs))).next((()=>y.ks))))))}async function aF(n,e,t=Ve()){const i=await Hu(n,Bn(iE(e.bundledQuery))),s=pe(n);return s.persistence.runTransaction("Save named query","readwrite",(o=>{const u=Bt(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return s.Ii.saveNamedQuery(o,e);const h=i.withResumeToken(Nt.EMPTY_BYTE_STRING,u);return s.Ms=s.Ms.insert(h.targetId,h),s.Pi.updateTargetData(o,h).next((()=>s.Pi.removeMatchingKeysForTargetId(o,i.targetId))).next((()=>s.Pi.addMatchingKeys(o,t,i.targetId))).next((()=>s.Ii.saveNamedQuery(o,e)))}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="firestore_clients";function Q1(n,e){return`${dP}_${n}_${e}`}const fP="firestore_mutations";function W1(n,e,t){let i=`${fP}_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}const mP="firestore_targets";function Tv(n,e){return`${mP}_${n}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr="SharedClientState";class Wp{constructor(e,t,i,s){this.user=e,this.batchId=t,this.state=i,this.error=s}static Ws(e,t,i){const s=JSON.parse(i);let o,u=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return u&&s.error&&(u=typeof s.error.message=="string"&&typeof s.error.code=="string",u&&(o=new oe(s.error.code,s.error.message))),u?new Wp(e,t,s.state,o):(Ut(xr,`Failed to parse mutation state for ID '${t}': ${i}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class id{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ws(e,t){const i=JSON.parse(t);let s,o=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new oe(i.error.code,i.error.message))),o?new id(e,i.state,s):(Ut(xr,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const i=JSON.parse(t);let s=typeof i=="object"&&i.activeTargetIds instanceof Array,o=W0();for(let u=0;s&&u<i.activeTargetIds.length;++u)s=UD(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return s?new Yp(e,o):(Ut(xr,`Failed to parse client data for instance '${e}': ${t}`),null)}}class dE{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new dE(t.clientId,t.onlineState):(Ut(xr,`Failed to parse online state: ${e}`),null)}}class TT{constructor(){this.activeTargetIds=W0()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ev{constructor(e,t,i,s,o){this.window=e,this.Mi=t,this.persistenceKey=i,this.Js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new ht(Ce),this.started=!1,this.Xs=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.eo=Q1(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new TT),this.ro=new RegExp(`^${dP}_${u}_([^_]*)$`),this.io=new RegExp(`^${fP}_${u}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${mP}_${u}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const i of e){if(i===this.Js)continue;const s=this.getItem(Q1(this.persistenceKey,i));if(s){const o=Yp.Ws(i,s);o&&(this.Zs=this.Zs.insert(o.clientId,o))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const i=this.uo(t);i&&this.co(i)}for(const i of this.Xs)this.Ys(i);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((i,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,i){this.ho(e,t,i),this.Po(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Tv(this.persistenceKey,e));if(s){const o=id.Ws(e,s);o&&(i=o.state)}}return t&&this.To.zs(e),this.ao(),i}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Tv(this.persistenceKey,e))}updateQueryState(e,t,i){this.Io(e,t,i)}handleUserChange(e,t,i){t.forEach((s=>{this.Po(s)})),this.currentUser=e,i.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ue(xr,"READ",e,t),t}setItem(e,t){ue(xr,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ue(xr,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(ue(xr,"EVENT",t.key,t.newValue),t.key===this.eo)return void Ut("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const i=this.Ro(t.key);return this.Vo(i,null)}{const i=this.mo(t.key,t.newValue);if(i)return this.Vo(i.clientId,i)}}else if(this.io.test(t.key)){if(t.newValue!==null){const i=this.fo(t.key,t.newValue);if(i)return this.po(i)}}else if(this.so.test(t.key)){if(t.newValue!==null){const i=this.yo(t.key,t.newValue);if(i)return this.wo(i)}}else if(t.key===this.oo){if(t.newValue!==null){const i=this.uo(t.newValue);if(i)return this.co(i)}}else if(t.key===this.no){const i=(function(o){let u=Xn.ce;if(o!=null)try{const h=JSON.parse(o);Te(typeof h=="number",30636,{So:o}),u=h}catch(h){Ut(xr,"Failed to read sequence number from WebStorage",h)}return u})(t.newValue);i!==Xn.ce&&this.sequenceNumberHandler(i)}else if(t.key===this._o){const i=this.bo(t.newValue);await Promise.all(i.map((s=>this.syncEngine.Do(s))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,i){const s=new Wp(this.currentUser,e,t,i),o=W1(this.persistenceKey,this.currentUser,e);this.setItem(o,s.Gs())}Po(e){const t=W1(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,i){const s=Tv(this.persistenceKey,e),o=new id(e,t,i);this.setItem(s,o.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const i=this.Ro(e);return Yp.Ws(i,t)}fo(e,t){const i=this.io.exec(e),s=Number(i[1]),o=i[2]!==void 0?i[2]:null;return Wp.Ws(new fn(o),s,t)}yo(e,t){const i=this.so.exec(e),s=Number(i[1]);return id.Ws(s,t)}uo(e){return dE.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ue(xr,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const i=t?this.Zs.insert(e,t):this.Zs.remove(e),s=this.lo(this.Zs),o=this.lo(i),u=[],h=[];return o.forEach((d=>{s.has(d)||u.push(d)})),s.forEach((d=>{o.has(d)||h.push(d)})),this.syncEngine.Fo(u,h).then((()=>{this.Zs=i}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=W0();return e.forEach(((i,s)=>{t=t.unionWith(s.activeTargetIds)})),t}}class pP{constructor(){this.Mo=new TT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new TT,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="ConnectivityMonitor";class X1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(Y1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(Y1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ep=null;function ET(){return ep===null?ep=(function(){return 268435456+Math.round(2147483648*Math.random())})():ep++,"0x"+ep.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="RestConnection",lF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===aT?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,t,i,s,o){const u=ET(),h=this.zo(e,t.toUriEncodedString());ue(wv,`Sending RPC '${e}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:m}=new URL(h),y=tc(m);return this.Jo(e,h,d,i,y).then((_=>(ue(wv,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw qr(wv,`RPC '${e}' ${u} failed with error: `,_,"url: ",h,"request:",i),_}))}Ho(e,t,i,s,o,u){return this.Go(e,t,i,s,o)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ac})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),i&&i.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const i=lF[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class hF extends uF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,o){const u=ET();return new Promise(((h,d)=>{const m=new wD;m.setWithCredentials(!0),m.listenOnce(bD.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case hp.NO_ERROR:const _=m.getResponseJson();ue(Rn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case hp.TIMEOUT:ue(Rn,`RPC '${e}' ${u} timed out`),d(new oe(X.DEADLINE_EXCEEDED,"Request time out"));break;case hp.HTTP_ERROR:const T=m.getStatus();if(ue(Rn,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const C=b==null?void 0:b.error;if(C&&C.status&&C.message){const P=(function(U){const W=U.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(W)>=0?W:X.UNKNOWN})(C.status);d(new oe(P,C.message))}else d(new oe(X.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new oe(X.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ue(Rn,`RPC '${e}' ${u} completed.`)}}));const y=JSON.stringify(s);ue(Rn,`RPC '${e}' ${u} sending request:`,s),m.send(t,"POST",y,i,15)}))}T_(e,t,i){const s=ET(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=ID(),h=SD(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const y=o.join("");ue(Rn,`Creating RPC '${e}' stream ${s}: ${y}`,d);const _=u.createWebChannel(y,d);this.I_(_);let T=!1,b=!1;const C=new cF({Yo:V=>{b?ue(Rn,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(T||(ue(Rn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),T=!0),ue(Rn,`RPC '${e}' stream ${s} sending:`,V),_.send(V))},Zo:()=>_.close()}),P=(V,U,W)=>{V.listen(U,(F=>{try{W(F)}catch(ae){setTimeout((()=>{throw ae}),0)}}))};return P(_,Uh.EventType.OPEN,(()=>{b||(ue(Rn,`RPC '${e}' stream ${s} transport opened.`),C.o_())})),P(_,Uh.EventType.CLOSE,(()=>{b||(b=!0,ue(Rn,`RPC '${e}' stream ${s} transport closed`),C.a_(),this.E_(_))})),P(_,Uh.EventType.ERROR,(V=>{b||(b=!0,qr(Rn,`RPC '${e}' stream ${s} transport errored. Name:`,V.name,"Message:",V.message),C.a_(new oe(X.UNAVAILABLE,"The operation could not be completed")))})),P(_,Uh.EventType.MESSAGE,(V=>{var U;if(!b){const W=V.data[0];Te(!!W,16349);const F=W,ae=(F==null?void 0:F.error)||((U=F[0])==null?void 0:U.error);if(ae){ue(Rn,`RPC '${e}' stream ${s} received error:`,ae);const ne=ae.status;let le=(function(D){const k=Xt[D];if(k!==void 0)return xN(k)})(ne),x=ae.message;le===void 0&&(le=X.INTERNAL,x="Unknown error status: "+ne+" with message "+ae.message),b=!0,C.a_(new oe(le,x)),_.close()}else ue(Rn,`RPC '${e}' stream ${s} received:`,W),C.u_(W)}})),P(h,AD.STAT_EVENT,(V=>{V.stat===Zv.PROXY?ue(Rn,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===Zv.NOPROXY&&ue(Rn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){return typeof window<"u"?window:null}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(n){return new gB(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,t,i=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-i);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="PersistentStream";class yP{constructor(e,t,i,s,o,u,h,d){this.Mi=e,this.S_=i,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fE(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===X.RESOURCE_EXHAUSTED?(Ut(t.toString()),Ut("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===t&&this.G_(i,s)}),(i=>{e((()=>{const s=new oe(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(J1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(J1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dF extends yP{constructor(e,t,i,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=vB(this.serializer,e),i=(function(o){if(!("targetChange"in o))return we.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?we.min():u.readTime?Bt(u.readTime):we.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=pT(this.serializer),t.addTarget=(function(o,u){let h;const d=u.target;if(h=Fp(d)?{documents:UN(o,d)}:{query:jN(o,d).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=PN(o,u.resumeToken);const m=fT(o,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(we.min())>0){h.readTime=qu(o,u.snapshotVersion.toTimestamp());const m=fT(o,u.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const i=EB(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=pT(this.serializer),t.removeTarget=e,this.q_(t)}}class fF extends yP{constructor(e,t,i,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=TB(e.writeResults,e.commitTime),i=Bt(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=pT(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>xd(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{}class pF extends mF{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,mT(t,i),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new oe(X.UNKNOWN,o.toString())}))}Ho(e,t,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Ho(e,mT(t,i),s,u,h,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new oe(X.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ut(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="RemoteStore";class yF{constructor(e,t,i,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{i.enqueueAndForget((async()=>{qa(this)&&(ue(il,"Restarting streams for network reachability change."),await(async function(d){const m=pe(d);m.Ea.add(4),await cc(m),m.Ra.set("Unknown"),m.Ea.delete(4),await lf(m)})(this))}))})),this.Ra=new gF(i,s)}}async function lf(n){if(qa(n))for(const e of n.da)await e(!0)}async function cc(n){for(const e of n.da)await e(!1)}function Mg(n,e){const t=pe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),gE(t)?pE(t):dc(t).O_()&&mE(t,e))}function Ku(n,e){const t=pe(n),i=dc(t);t.Ia.delete(e),i.O_()&&_P(t,e),t.Ia.size===0&&(i.O_()?i.L_():qa(t)&&t.Ra.set("Unknown"))}function mE(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dc(n).Y_(e)}function _P(n,e){n.Va.Ue(e),dc(n).Z_(e)}function pE(n){n.Va=new dB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),dc(n).start(),n.Ra.ua()}function gE(n){return qa(n)&&!dc(n).x_()&&n.Ia.size>0}function qa(n){return pe(n).Ea.size===0}function vP(n){n.Va=void 0}async function _F(n){n.Ra.set("Online")}async function vF(n){n.Ia.forEach(((e,t)=>{mE(n,e)}))}async function TF(n,e){vP(n),gE(n)?(n.Ra.ha(e),pE(n)):n.Ra.set("Unknown")}async function EF(n,e,t){if(n.Ra.set("Online"),e instanceof NN&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const h of o.targetIds)s.Ia.has(h)&&(await s.remoteSyncer.rejectListen(h,u),s.Ia.delete(h),s.Va.removeTarget(h))})(n,e)}catch(i){ue(il,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Xp(n,i)}else if(e instanceof vp?n.Va.Ze(e):e instanceof DN?n.Va.st(e):n.Va.tt(e),!t.isEqual(we.min()))try{const i=await oP(n.localStore);t.compareTo(i)>=0&&await(function(o,u){const h=o.Va.Tt(u);return h.targetChanges.forEach(((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(d.resumeToken,u))}})),h.targetMismatches.forEach(((d,m)=>{const y=o.Ia.get(d);if(!y)return;o.Ia.set(d,y.withResumeToken(Nt.EMPTY_BYTE_STRING,y.snapshotVersion)),_P(o,d);const _=new ds(y.target,d,m,y.sequenceNumber);mE(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(i){ue(il,"Failed to raise snapshot:",i),await Xp(n,i)}}async function Xp(n,e,t){if(!Fa(e))throw e;n.Ea.add(1),await cc(n),n.Ra.set("Offline"),t||(t=()=>oP(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(il,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await lf(n)}))}function TP(n,e){return e().catch((t=>Xp(n,t,e)))}async function hc(n){const e=pe(n),t=Va(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wa;for(;wF(e);)try{const s=await rF(e.localStore,i);if(s===null){e.Ta.length===0&&t.L_();break}i=s.batchId,bF(e,s)}catch(s){await Xp(e,s)}EP(e)&&wP(e)}function wF(n){return qa(n)&&n.Ta.length<10}function bF(n,e){n.Ta.push(e);const t=Va(n);t.O_()&&t.X_&&t.ea(e.mutations)}function EP(n){return qa(n)&&!Va(n).x_()&&n.Ta.length>0}function wP(n){Va(n).start()}async function AF(n){Va(n).ra()}async function SF(n){const e=Va(n);for(const t of n.Ta)e.ea(t.mutations)}async function IF(n,e,t){const i=n.Ta.shift(),s=Z0.from(i,e,t);await TP(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await hc(n)}async function RF(n,e){e&&Va(n).X_&&await(async function(i,s){if((function(u){return RN(u)&&u!==X.ABORTED})(s.code)){const o=i.Ta.shift();Va(i).B_(),await TP(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s))),await hc(i)}})(n,e),EP(n)&&wP(n)}async function Z1(n,e){const t=pe(n);t.asyncQueue.verifyOperationInProgress(),ue(il,"RemoteStore received new credentials");const i=qa(t);t.Ea.add(3),await cc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await lf(t)}async function wT(n,e){const t=pe(n);e?(t.Ea.delete(2),await lf(t)):e||(t.Ea.add(2),await cc(t),t.Ra.set("Unknown"))}function dc(n){return n.ma||(n.ma=(function(t,i,s){const o=pe(t);return o.sa(),new dF(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:_F.bind(null,n),t_:vF.bind(null,n),r_:TF.bind(null,n),H_:EF.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),gE(n)?pE(n):n.Ra.set("Unknown")):(await n.ma.stop(),vP(n))}))),n.ma}function Va(n){return n.fa||(n.fa=(function(t,i,s){const o=pe(t);return o.sa(),new fF(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:AF.bind(null,n),r_:RF.bind(null,n),ta:SF.bind(null,n),na:IF.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await hc(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(il,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,t,i,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=o,this.deferred=new An,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,o){const u=Date.now()+i,h=new yE(e,t,u,s,o);return h.start(i),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fc(n,e){if(Ut("AsyncQueue",`${e}: ${n}`),Fa(n))return new oe(X.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{static emptySet(e){return new Iu(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||me.comparator(t.key,i.key):(t,i)=>me.comparator(t.key,i.key),this.keyedMap=jh(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Iu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=i.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Iu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.ga=new ht(me.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ye(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class $u{constructor(e,t,i,s,o,u,h,d,m){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,t,i,s,o){const u=[];return t.forEach((h=>{u.push({type:0,doc:h})})),new $u(e,t,Iu.emptySet(t),u,i,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class CF{constructor(){this.queries=tR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=pe(t),o=s.queries;s.queries=tR(),o.forEach(((u,h)=>{for(const d of h.Sa)d.onError(i)}))})(this,new oe(X.ABORTED,"Firestore shutting down"))}}function tR(){return new Is((n=>fN(n)),tf)}async function _E(n,e){const t=pe(n);let i=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(i=2):(o=new xF,i=e.Da()?0:1);try{switch(i){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const h=fc(u,`Initialization of query '${hu(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&TE(t)}async function vE(n,e){const t=pe(n),i=e.query;let s=3;const o=t.queries.get(i);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function DF(n,e){const t=pe(n);let i=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const h of u.Sa)h.Fa(s)&&(i=!0);u.wa=s}}i&&TE(t)}function NF(n,e,t){const i=pe(n),s=i.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);i.queries.delete(e)}function TE(n){n.Ca.forEach((e=>{e.next()}))}var bT,nR;(nR=bT||(bT={})).Ma="default",nR.Cache="cache";class EE{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new $u(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=$u.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bT.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PF{constructor(e,t){this.Qa=e,this.byteLength=t}$a(){return"metadata"in this.Qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.serializer=e}$s(e){return Lr(this.serializer,e)}Us(e){return e.metadata.exists?LN(this.serializer,e.document,!1):mt.newNoDocument(this.$s(e.metadata.name),this.Ks(e.metadata.readTime))}Ks(e){return Bt(e)}}class VF{constructor(e,t){this.Ua=e,this.serializer=t,this.Ka=[],this.Wa=[],this.collectionGroups=new Set,this.progress=bP(e)}get queries(){return this.Ka}get documents(){return this.Wa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Qa.namedQuery)this.Ka.push(e.Qa.namedQuery);else if(e.Qa.documentMetadata){this.Wa.push({metadata:e.Qa.documentMetadata}),e.Qa.documentMetadata.exists||++t;const i=je.fromString(e.Qa.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Qa.document&&(this.Wa[this.Wa.length-1].document=e.Qa.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,{...this.progress}):null}za(e){const t=new Map,i=new iR(this.serializer);for(const s of e)if(s.metadata.queries){const o=i.$s(s.metadata.name);for(const u of s.metadata.queries){const h=(t.get(u)||Ve()).add(o);t.set(u,h)}}return t}async ja(e){const t=await sF(e,new iR(this.serializer),this.Wa,this.Ua.id),i=this.za(this.documents);for(const s of this.Ka)await aF(e,s,i.get(s.name));return this.progress.taskState="Success",{progress:this.progress,Ja:this.collectionGroups,Ha:t}}}function bP(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.key=e}}class SP{constructor(e){this.key=e}}class IP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ve(),this.mutatedKeys=Ve(),this.eu=pN(e),this.tu=new Iu(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new eR,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,h=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((y,_)=>{const T=s.get(y),b=nf(this.query,_)?_:null,C=!!T&&this.mutatedKeys.has(T.key),P=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let V=!1;T&&b?T.data.isEqual(b.data)?C!==P&&(i.track({type:3,doc:b}),V=!0):this.su(T,b)||(i.track({type:2,doc:b}),V=!0,(d&&this.eu(b,d)>0||m&&this.eu(b,m)<0)&&(h=!0)):!T&&b?(i.track({type:0,doc:b}),V=!0):T&&!b&&(i.track({type:1,doc:T}),V=!0,(d||m)&&(h=!0)),V&&(b?(u=u.add(b),o=P?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((y,_)=>(function(b,C){const P=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:V})}};return P(b)-P(C)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),s=s??!1;const h=t&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,m=d!==this.Za;return this.Za=d,u.length!==0||m?{snapshot:new $u(this.query,e.tu,o,u,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new eR,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ve(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new SP(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new AP(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Ve();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return $u.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ha="SyncEngine";class MF{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class OF{constructor(e){this.key=e,this.hu=!1}}class kF{constructor(e,t,i,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Is((h=>fN(h)),tf),this.Iu=new Map,this.Eu=new Set,this.du=new ht(me.comparator),this.Au=new Map,this.Ru=new aE,this.Vu={},this.mu=new Map,this.fu=nl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LF(n,e,t=!0){const i=Og(n);let s;const o=i.Tu.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await RP(i,e,t,!0),s}async function UF(n,e){const t=Og(n);await RP(t,e,!0,!1)}async function RP(n,e,t,i){const s=await Hu(n.localStore,Bn(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let h;return i&&(h=await wE(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&Mg(n.remoteStore,s),h}async function wE(n,e,t,i,s){n.pu=(_,T,b)=>(async function(P,V,U,W){let F=V.view.ru(U);F.Cs&&(F=await Qp(P.localStore,V.query,!1).then((({documents:x})=>V.view.ru(x,F))));const ae=W&&W.targetChanges.get(V.targetId),ne=W&&W.targetMismatches.get(V.targetId)!=null,le=V.view.applyChanges(F,P.isPrimaryClient,ae,ne);return AT(P,V.targetId,le.au),le.snapshot})(n,_,T,b);const o=await Qp(n.localStore,e,!0),u=new IP(e,o.Qs),h=u.ru(o.documents),d=af.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),m=u.applyChanges(h,n.isPrimaryClient,d);AT(n,t,m.au);const y=new MF(e,t,u);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function jF(n,e,t){const i=pe(n),s=i.Tu.get(e),o=i.Iu.get(s.targetId);if(o.length>1)return i.Iu.set(s.targetId,o.filter((u=>!tf(u,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Gu(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Ku(i.remoteStore,s.targetId),Qu(i,s.targetId)})).catch(Ba)):(Qu(i,s.targetId),await Gu(i.localStore,s.targetId,!0))}async function BF(n,e){const t=pe(n),i=t.Tu.get(e),s=t.Iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ku(t.remoteStore,i.targetId))}async function FF(n,e,t){const i=IE(n);try{const s=await(function(u,h){const d=pe(u),m=Je.now(),y=h.reduce(((b,C)=>b.add(C.key)),Ve());let _,T;return d.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let C=Zn(),P=Ve();return d.Ns.getEntries(b,y).next((V=>{C=V,C.forEach(((U,W)=>{W.isValidDocument()||(P=P.add(U))}))})).next((()=>d.localDocuments.getOverlayedDocuments(b,C))).next((V=>{_=V;const U=[];for(const W of h){const F=uB(W,_.get(W.key).overlayedDocument);F!=null&&U.push(new Rs(W.key,F,rN(F.value.mapValue),wt.exists(!0)))}return d.mutationQueue.addMutationBatch(b,m,U,h)})).next((V=>{T=V;const U=V.applyToLocalDocumentSet(_,P);return d.documentOverlayCache.saveOverlays(b,V.batchId,U)}))})).then((()=>({batchId:T.batchId,changes:yN(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(u,h,d){let m=u.Vu[u.currentUser.toKey()];m||(m=new ht(Ce)),m=m.insert(h,d),u.Vu[u.currentUser.toKey()]=m})(i,s.batchId,t),await xs(i,s.changes),await hc(i.remoteStore)}catch(s){const o=fc(s,"Failed to persist write");t.reject(o)}}async function xP(n,e){const t=pe(n);try{const i=await iF(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(Te(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?Te(u.hu,14607):s.removedDocuments.size>0&&(Te(u.hu,42227),u.hu=!1))})),await xs(t,i,e)}catch(i){await Ba(i)}}function rR(n,e,t){const i=pe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Tu.forEach(((o,u)=>{const h=u.view.va(e);h.snapshot&&s.push(h.snapshot)})),(function(u,h){const d=pe(u);d.onlineState=h;let m=!1;d.queries.forEach(((y,_)=>{for(const T of _.Sa)T.va(h)&&(m=!0)})),m&&TE(d)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function zF(n,e,t){const i=pe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Au.get(e),o=s&&s.key;if(o){let u=new ht(me.comparator);u=u.insert(o,mt.newNoDocument(o,we.min()));const h=Ve().add(o),d=new sf(we.min(),new Map,new ht(Ce),u,h);await xP(i,d),i.du=i.du.remove(o),i.Au.delete(e),SE(i)}else await Gu(i.localStore,e,!1).then((()=>Qu(i,e,t))).catch(Ba)}async function qF(n,e){const t=pe(n),i=e.batch.batchId;try{const s=await nF(t.localStore,e);AE(t,i,null),bE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await xs(t,s)}catch(s){await Ba(s)}}async function HF(n,e,t){const i=pe(n);try{const s=await(function(u,h){const d=pe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return d.mutationQueue.lookupMutationBatch(m,h).next((_=>(Te(_!==null,37113),y=_.keys(),d.mutationQueue.removeMutationBatch(m,_)))).next((()=>d.mutationQueue.performConsistencyCheck(m))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>d.localDocuments.getDocuments(m,y)))}))})(i.localStore,e);AE(i,e,t),bE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await xs(i,s)}catch(s){await Ba(s)}}async function GF(n,e){const t=pe(n);qa(t.remoteStore)||ue(Ha,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=await(function(u){const h=pe(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(d=>h.mutationQueue.getHighestUnacknowledgedBatchId(d)))})(t.localStore);if(i===wa)return void e.resolve();const s=t.mu.get(i)||[];s.push(e),t.mu.set(i,s)}catch(i){const s=fc(i,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}function bE(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function AE(n,e,t){const i=pe(n);let s=i.Vu[i.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function Qu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||CP(n,i)}))}function CP(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Ku(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),SE(n))}function AT(n,e,t){for(const i of t)i instanceof AP?(n.Ru.addReference(i.key,e),KF(n,i)):i instanceof SP?(ue(Ha,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||CP(n,i.key)):ye(19791,{wu:i})}function KF(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(ue(Ha,"New document in limbo: "+t),n.Eu.add(i),SE(n))}function SE(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new me(je.fromString(e)),i=n.fu.next();n.Au.set(i,new OF(t)),n.du=n.du.insert(t,i),Mg(n.remoteStore,new ds(Bn(oc(t.path)),i,"TargetPurposeLimboResolution",Xn.ce))}}async function xs(n,e,t){const i=pe(n),s=[],o=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,d)=>{u.push(i.pu(d,e,t).then((m=>{var y;if((m||t)&&i.isPrimaryClient){const _=m?!m.fromCache:(y=t==null?void 0:t.targetChanges.get(d.targetId))==null?void 0:y.current;i.sharedClientState.updateQueryState(d.targetId,_?"current":"not-current")}if(m){s.push(m);const _=cE.As(d.targetId,m);o.push(_)}})))})),await Promise.all(u),i.Pu.H_(s),await(async function(d,m){const y=pe(d);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>H.forEach(m,(T=>H.forEach(T.Es,(b=>y.persistence.referenceDelegate.addReference(_,T.targetId,b))).next((()=>H.forEach(T.ds,(b=>y.persistence.referenceDelegate.removeReference(_,T.targetId,b)))))))))}catch(_){if(!Fa(_))throw _;ue(hE,"Failed to update sequence numbers: "+_)}for(const _ of m){const T=_.targetId;if(!_.fromCache){const b=y.Ms.get(T),C=b.snapshotVersion,P=b.withLastLimboFreeSnapshotVersion(C);y.Ms=y.Ms.insert(T,P)}}})(i.localStore,o))}async function $F(n,e){const t=pe(n);if(!t.currentUser.isEqual(e)){ue(Ha,"User change. New user:",e.toKey());const i=await aP(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new oe(X.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await xs(t,i.Ls)}}function QF(n,e){const t=pe(n),i=t.Au.get(e);if(i&&i.hu)return Ve().add(i.key);{let s=Ve();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const h=t.Tu.get(u);s=s.unionWith(h.view.nu)}return s}}async function WF(n,e){const t=pe(n),i=await Qp(t.localStore,e.query,!0),s=e.view.cu(i);return t.isPrimaryClient&&AT(t,e.targetId,s.au),s}async function YF(n,e){const t=pe(n);return cP(t.localStore,e).then((i=>xs(t,i)))}async function XF(n,e,t,i){const s=pe(n),o=await(function(h,d){const m=pe(h),y=pe(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",(_=>y.er(_,d).next((T=>T?m.localDocuments.getDocuments(_,T):H.resolve(null)))))})(s.localStore,e);o!==null?(t==="pending"?await hc(s.remoteStore):t==="acknowledged"||t==="rejected"?(AE(s,e,i||null),bE(s,e),(function(h,d){pe(pe(h).mutationQueue).ir(d)})(s.localStore,e)):ye(6720,"Unknown batchState",{Su:t}),await xs(s,o)):ue(Ha,"Cannot apply mutation batch with id: "+e)}async function JF(n,e){const t=pe(n);if(Og(t),IE(t),e===!0&&t.gu!==!0){const i=t.sharedClientState.getAllActiveQueryTargets(),s=await sR(t,i.toArray());t.gu=!0,await wT(t.remoteStore,!0);for(const o of s)Mg(t.remoteStore,o)}else if(e===!1&&t.gu!==!1){const i=[];let s=Promise.resolve();t.Iu.forEach(((o,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):s=s.then((()=>(Qu(t,u),Gu(t.localStore,u,!0)))),Ku(t.remoteStore,u)})),await s,await sR(t,i),(function(u){const h=pe(u);h.Au.forEach(((d,m)=>{Ku(h.remoteStore,m)})),h.Ru.Jr(),h.Au=new Map,h.du=new ht(me.comparator)})(t),t.gu=!1,await wT(t.remoteStore,!1)}}async function sR(n,e,t){const i=pe(n),s=[],o=[];for(const u of e){let h;const d=i.Iu.get(u);if(d&&d.length!==0){h=await Hu(i.localStore,Bn(d[0]));for(const m of d){const y=i.Tu.get(m),_=await WF(i,y);_.snapshot&&o.push(_.snapshot)}}else{const m=await uP(i.localStore,u);h=await Hu(i.localStore,m),await wE(i,DP(m),u,!1,h.resumeToken)}s.push(h)}return i.Pu.H_(o),s}function DP(n){return dN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function ZF(n){return(function(t){return pe(pe(t).persistence).Ts()})(pe(n).localStore)}async function e9(n,e,t,i){const s=pe(n);if(s.gu)return void ue(Ha,"Ignoring unexpected query state notification.");const o=s.Iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const u=await cP(s.localStore,mN(o[0])),h=sf.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Nt.EMPTY_BYTE_STRING);await xs(s,u,h);break}case"rejected":await Gu(s.localStore,e,!0),Qu(s,e,i);break;default:ye(64155,t)}}async function t9(n,e,t){const i=Og(n);if(i.gu){for(const s of e){if(i.Iu.has(s)&&i.sharedClientState.isActiveQueryTarget(s)){ue(Ha,"Adding an already active target "+s);continue}const o=await uP(i.localStore,s),u=await Hu(i.localStore,o);await wE(i,DP(o),u.targetId,!1,u.resumeToken),Mg(i.remoteStore,u)}for(const s of t)i.Iu.has(s)&&await Gu(i.localStore,s,!1).then((()=>{Ku(i.remoteStore,s),Qu(i,s)})).catch(Ba)}}function Og(n){const e=pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zF.bind(null,e),e.Pu.H_=DF.bind(null,e.eventManager),e.Pu.yu=NF.bind(null,e.eventManager),e}function IE(n){const e=pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HF.bind(null,e),e}function n9(n,e,t){const i=pe(n);(async function(o,u,h){try{const d=await u.getMetadata();if(await(function(b,C){const P=pe(b),V=Bt(C.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",(U=>P.Ii.getBundleMetadata(U,C.id))).then((U=>!!U&&U.createTime.compareTo(V)>=0))})(o.localStore,d))return await u.close(),h._completeWith((function(b){return{taskState:"Success",documentsLoaded:b.totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}})(d)),Promise.resolve(new Set);h._updateProgress(bP(d));const m=new VF(d,u.serializer);let y=await u.bu();for(;y;){const T=await m.Ga(y);T&&h._updateProgress(T),y=await u.bu()}const _=await m.ja(o.localStore);return await xs(o,_.Ha,void 0),await(function(b,C){const P=pe(b);return P.persistence.runTransaction("Save bundle","readwrite",(V=>P.Ii.saveBundleMetadata(V,C)))})(o.localStore,d),h._completeWith(_.progress),Promise.resolve(_.Ja)}catch(d){return qr(Ha,`Loading bundle failed with ${d}`),h._failWith(d),Promise.resolve(new Set)}})(i,e,t).then((s=>{i.sharedClientState.notifyBundleLoaded(s)}))}class Cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return sP(this.persistence,new rP,e.initialUser,this.serializer)}Cu(e){return new oE(Vg.mi,this.serializer)}Du(e){return new pP}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cd.provider={build:()=>new Cd};class i9 extends Cd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Te(this.persistence.referenceDelegate instanceof $p,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new JN(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new oE((i=>$p.mi(i,t)),this.serializer)}}class NP extends Cd{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await IE(this.xu.syncEngine),await hc(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return sP(this.persistence,new rP,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new JN(i,e.asyncQueue,t)}Mu(e,t){const i=new dj(t,this.persistence);return new hj(e.asyncQueue,i)}Cu(e){const t=uE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new lE(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,gP(),Ep(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new pP}}class r9 extends NP{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof Ev&&(this.sharedClientState.syncEngine={Co:XF.bind(null,t),vo:e9.bind(null,t),Fo:t9.bind(null,t),Ts:ZF.bind(null,t),Do:YF.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async i=>{await JF(this.xu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))}Du(e){const t=gP();if(!Ev.v(t))throw new oe(X.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=uE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ev(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Dd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>rR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$F.bind(null,this.syncEngine),await wT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new CF})()}createDatastore(e){const t=of(e.databaseInfo.databaseId),i=(function(o){return new hF(o)})(e.databaseInfo);return(function(o,u,h,d){return new pF(o,u,h,d)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,s,o,u,h){return new yF(i,s,o,u,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>rR(this.syncEngine,t,0)),(function(){return X1.v()?new X1:new oF})())}createSyncEngine(e,t){return(function(s,o,u,h,d,m,y){const _=new kF(s,o,u,h,d,m);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const o=pe(s);ue(il,"RemoteStore shutting down."),o.Ea.add(5),await cc(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Dd.provider={build:()=>new Dd};function aR(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ut("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,t){this.Bu=e,this.serializer=t,this.metadata=new An,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((i=>{i&&i.$a()?this.metadata.resolve(i.Qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(i==null?void 0:i.Qa)}`))}),(i=>this.metadata.reject(i)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async bu(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.qu();if(e===null)return null;const t=this.Lu.decode(e),i=Number(t);isNaN(i)&&this.Qu(`length string (${t}) is not valid number`);const s=await this.$u(i);return new PF(JSON.parse(s),e.length+i)}Uu(){return this.buffer.findIndex((e=>e===123))}async qu(){for(;this.Uu()<0&&!await this.Ku(););if(this.buffer.length===0)return null;const e=this.Uu();e<0&&this.Qu("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async $u(e){for(;this.buffer.length<e;)await this.Ku()&&this.Qu("Reached the end of bundle when more is expected.");const t=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ku(){const e=await this.Bu.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new oe(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await(async function(s,o){const u=pe(s),h={documents:o.map((_=>Rd(u.serializer,_)))},d=await u.Ho("BatchGetDocuments",u.serializer.databaseId,je.emptyPath(),h,o.length),m=new Map;d.forEach((_=>{const T=_B(u.serializer,_);m.set(T.key.toString(),T)}));const y=[];return o.forEach((_=>{const T=m.get(_.toString());Te(!!T,55234,{key:_}),y.push(T)})),y})(this.datastore,e);return t.forEach((i=>this.recordVersion(i))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new uc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((t,i)=>{const s=me.fromPath(i);this.mutations.push(new X0(s,this.precondition(s)))})),await(async function(i,s){const o=pe(i),u={writes:s.map((h=>xd(o.serializer,h)))};await o.Go("Commit",o.serializer.databaseId,je.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ye(50498,{Gu:e.constructor.name});t=we.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new oe(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(we.min())?wt.exists(!1):wt.updateTime(t):wt.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(we.min()))throw new oe(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wt.updateTime(t)}return wt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,t,i,s,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=s,this.deferred=o,this.zu=i.maxAttempts,this.M_=new fE(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const e=new a9(this.datastore),t=this.Hu(e);t&&t.then((i=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(i)})).catch((s=>{this.Yu(s)}))))})).catch((i=>{this.Yu(i)}))}))}Hu(e){try{const t=this.updateFunction(e);return!Jd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Yu(e){this.zu>0&&this.Zu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(e)}Zu(e){if((e==null?void 0:e.name)==="FirebaseError"){const t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!RN(t)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="FirestoreClient";class l9{constructor(e,t,i,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=fn.UNAUTHENTICATED,this.clientId=L0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async u=>{ue(Ma,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(ue(Ma,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new An;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=fc(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function bv(n,e){n.asyncQueue.verifyOperationInProgress(),ue(Ma,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async s=>{i.isEqual(s)||(await aP(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function oR(n,e){n.asyncQueue.verifyOperationInProgress();const t=await RE(n);ue(Ma,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>Z1(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,s)=>Z1(e.remoteStore,s))),n._onlineComponents=e}async function RE(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(Ma,"Using user provided OfflineComponentProvider");try{await bv(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;qr("Error using user provided cache. Falling back to memory cache: "+t),await bv(n,new Cd)}}else ue(Ma,"Using default OfflineComponentProvider"),await bv(n,new i9(void 0));return n._offlineComponents}async function Lg(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(Ma,"Using user provided OnlineComponentProvider"),await oR(n,n._uninitializedComponentsProvider._online)):(ue(Ma,"Using default OnlineComponentProvider"),await oR(n,new Dd))),n._onlineComponents}function PP(n){return RE(n).then((e=>e.persistence))}function xE(n){return RE(n).then((e=>e.localStore))}function VP(n){return Lg(n).then((e=>e.remoteStore))}function CE(n){return Lg(n).then((e=>e.syncEngine))}function u9(n){return Lg(n).then((e=>e.datastore))}async function Wu(n){const e=await Lg(n),t=e.eventManager;return t.onListen=LF.bind(null,e.syncEngine),t.onUnlisten=jF.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=UF.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BF.bind(null,e.syncEngine),t}function c9(n){return n.asyncQueue.enqueue((async()=>{const e=await PP(n),t=await VP(n);return e.setNetworkEnabled(!0),(function(s){const o=pe(s);return o.Ea.delete(0),lf(o)})(t)}))}function h9(n){return n.asyncQueue.enqueue((async()=>{const e=await PP(n),t=await VP(n);return e.setNetworkEnabled(!1),(async function(s){const o=pe(s);o.Ea.add(0),await cc(o),o.Ra.set("Offline")})(t)}))}function d9(n,e){const t=new An;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,u){try{const h=await(function(m,y){const _=pe(m);return _.persistence.runTransaction("read document","readonly",(T=>_.localDocuments.getDocument(T,y)))})(s,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new oe(X.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const d=fc(h,`Failed to get document '${o} from cache`);u.reject(d)}})(await xE(n),e,t))),t.promise}function MP(n,e,t={}){const i=new An;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,m){const y=new kg({next:T=>{y.Nu(),u.enqueueAndForget((()=>vE(o,_)));const b=T.docs.has(h);!b&&T.fromCache?m.reject(new oe(X.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&T.fromCache&&d&&d.source==="server"?m.reject(new oe(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),_=new EE(oc(h.path),y,{includeMetadataChanges:!0,qa:!0});return _E(o,_)})(await Wu(n),n.asyncQueue,e,t,i))),i.promise}function f9(n,e){const t=new An;return n.asyncQueue.enqueueAndForget((async()=>(async function(s,o,u){try{const h=await Qp(s,o,!0),d=new IP(o,h.Qs),m=d.ru(h.documents),y=d.applyChanges(m,!1);u.resolve(y.snapshot)}catch(h){const d=fc(h,`Failed to execute query '${o} against cache`);u.reject(d)}})(await xE(n),e,t))),t.promise}function OP(n,e,t={}){const i=new An;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,h,d,m){const y=new kg({next:T=>{y.Nu(),u.enqueueAndForget((()=>vE(o,_))),T.fromCache&&d.source==="server"?m.reject(new oe(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),_=new EE(h,y,{includeMetadataChanges:!0,qa:!0});return _E(o,_)})(await Wu(n),n.asyncQueue,e,t,i))),i.promise}function m9(n,e){const t=new kg(e);return n.asyncQueue.enqueueAndForget((async()=>(function(s,o){pe(s).Ca.add(o),o.next()})(await Wu(n),t))),()=>{t.Nu(),n.asyncQueue.enqueueAndForget((async()=>(function(s,o){pe(s).Ca.delete(o)})(await Wu(n),t)))}}function p9(n,e,t,i){const s=(function(u,h){let d;return d=typeof u=="string"?CN().encode(u):u,(function(y,_){return new s9(y,_)})((function(y,_){if(y instanceof Uint8Array)return aR(y,_);if(y instanceof ArrayBuffer)return aR(new Uint8Array(y),_);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(d),h)})(t,of(e));n.asyncQueue.enqueueAndForget((async()=>{n9(await CE(n),s,i)}))}function g9(n,e){return n.asyncQueue.enqueue((async()=>(function(i,s){const o=pe(i);return o.persistence.runTransaction("Get named query","readonly",(u=>o.Ii.getNamedQuery(u,s)))})(await xE(n),e)))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="firestore.googleapis.com",uR=!0;class cR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LP,this.ssl=uR}else this.host=e.host,this.ssl=e.ssl??uR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LB)throw new oe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kP(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Z5;switch(i.type){case"firstParty":return new ij(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new oe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=lR.get(t);i&&(ue("ComponentProvider","Removing Datastore"),lR.delete(t),i.terminate())})(this),Promise.resolve()}}function y9(n,e,t,i={}){var m;n=We(n,uf);const s=tc(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;s&&(nC(`https://${h}`),iC("Firestore",!0)),o.host!==LP&&o.host!==h&&qr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:s,emulatorOptions:i};if(!Aa(d,u)&&(n._setSettings(d),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=fn.MOCK_USER;else{y=gL(i.mockUserToken,(m=n._app)==null?void 0:m.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new oe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new fn(T)}n._authCredentials=new ej(new xD(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fn=class UP{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new UP(this.firestore,e,this._query)}},ct=class zh{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zh(this.firestore,e,this._key)}toJSON(){return{type:zh._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Xd(t,zh._jsonSchema))return new zh(e,i||null,new me(je.fromString(t.referencePath)))}};ct._jsonSchemaVersion="firestore/documentReference/1.0",ct._jsonSchema={type:en("string",ct._jsonSchemaVersion),referencePath:en("string")};let ba=class jP extends Fn{constructor(e,t,i){super(e,t,oc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ct(this.firestore,null,new me(e))}withConverter(e){return new jP(this.firestore,e,this._path)}};function BP(n,e,...t){if(n=Ae(n),U0("collection","path",e),n instanceof uf){const i=je.fromString(e,...t);return JI(i),new ba(n,null,i)}{if(!(n instanceof ct||n instanceof ba))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(je.fromString(e,...t));return JI(i),new ba(n.firestore,null,i)}}function _9(n,e){if(n=We(n,uf),U0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new oe(X.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fn(n,null,(function(i){return new Ss(je.emptyPath(),i)})(e))}function Jp(n,e,...t){if(n=Ae(n),arguments.length===1&&(e=L0.newId()),U0("doc","path",e),n instanceof uf){const i=je.fromString(e,...t);return XI(i),new ct(n,null,new me(i))}{if(!(n instanceof ct||n instanceof ba))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(je.fromString(e,...t));return XI(i),new ct(n.firestore,n instanceof ba?n.converter:null,new me(i))}}function FP(n,e){return n=Ae(n),e=Ae(e),(n instanceof ct||n instanceof ba)&&(e instanceof ct||e instanceof ba)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function zP(n,e){return n=Ae(n),e=Ae(e),n instanceof Fn&&e instanceof Fn&&n.firestore===e.firestore&&tf(n._query,e._query)&&n.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="AsyncQueue";class dR{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fE(this,"async_queue_retry"),this._c=()=>{const i=Ep();i&&ue(hR,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Ep();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ep();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new An;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Fa(e))throw e;ue(hR,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Ut("INTERNAL UNHANDLED ERROR: ",fR(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=yE.createAndSchedule(this,e,t,i,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&ye(47125,{Pc:fR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function fR(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(n){return(function(t,i){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of i)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class v9{constructor(){this._progressObserver={},this._taskCompletionResolver=new An,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=-1;let Ft=class extends uf{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new dR,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dR(e),this._firestoreClient=void 0,await e}}};function Pn(n){if(n._terminated)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qP(n),n._firestoreClient}function qP(n){var i,s,o;const e=n._freezeSettings(),t=(function(h,d,m,y){return new Fj(h,d,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,kP(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new l9(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}})(n._componentsProvider))}function E9(n,e){qr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings();return HP(n,Dd.provider,{build:i=>new NP(i,t.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function w9(n){qr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();HP(n,Dd.provider,{build:t=>new r9(t,e.cacheSizeBytes)})}function HP(n,e,t){if((n=We(n,Ft))._firestoreClient||n._terminated)throw new oe(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new oe(X.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:e,_offline:t},qP(n)}function b9(n){if(n._initialized&&!n._terminated)throw new oe(X.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new An;return n._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(i){if(!kr.v())return Promise.resolve();const s=i+iP;await kr.delete(s)})(uE(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}})),e.promise}function A9(n){return(function(t){const i=new An;return t.asyncQueue.enqueueAndForget((async()=>GF(await CE(t),i))),i.promise})(Pn(n=We(n,Ft)))}function S9(n){return c9(Pn(n=We(n,Ft)))}function I9(n){return h9(Pn(n=We(n,Ft)))}function R9(n,e){const t=Pn(n=We(n,Ft)),i=new v9;return p9(t,n._databaseId,e,i),i}function x9(n,e){return g9(Pn(n=We(n,Ft)),e).then((t=>t?new Fn(n,null,t.query):null))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(Nt.fromBase64String(e))}catch(t){throw new oe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cn(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xd(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:en("string",Cn._jsonSchemaVersion),bytes:en("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oa=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new oe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ul=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new oe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new oe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:tr._jsonSchemaVersion}}static fromJSON(e){if(Xd(e,tr._jsonSchema))return new tr(e.latitude,e.longitude)}}tr._jsonSchemaVersion="firestore/geoPoint/1.0",tr._jsonSchema={type:en("string",tr._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xd(e,Ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ur(e.vectorValues);throw new oe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:en("string",Ur._jsonSchemaVersion),vectorValues:en("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=/^__.*__$/;class D9{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Rs(e,this.data,this.fieldMask,t,this.fieldTransforms):new lc(e,this.data,t,this.fieldTransforms)}}class GP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Rs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KP(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:n})}}class Ug{constructor(e,t,i,s,o,u){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Zp(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KP(this.Ac)&&C9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class N9{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||of(e)}Cc(e,t,i,s=!1){return new Ug({Ac:e,methodName:t,Dc:i,path:Et.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cl(n){const e=n._freezeSettings(),t=of(n._databaseId);return new N9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jg(n,e,t,i,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);kE("Data must be an object, but it was:",u,i);const h=WP(i,u);let d,m;if(o.merge)d=new Jn(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const T=IT(e,_,t);if(!u.contains(T))throw new oe(X.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);XP(y,T)||y.push(T)}d=new Jn(y),m=u.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,m=u.fieldTransforms;return new D9(new bn(h),d,m)}class cf extends ul{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cf}}function $P(n,e,t){return new Ug({Ac:3,Dc:e.settings.Dc,methodName:n._methodName,fc:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class DE extends ul{_toFieldTransform(e){return new rf(e.path,new Fu)}isEqual(e){return e instanceof DE}}class NE extends ul{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=$P(this,e,!0),i=this.vc.map((o=>hl(o,t))),s=new Jo(i);return new rf(e.path,s)}isEqual(e){return e instanceof NE&&Aa(this.vc,e.vc)}}class PE extends ul{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=$P(this,e,!0),i=this.vc.map((o=>hl(o,t))),s=new Zo(i);return new rf(e.path,s)}isEqual(e){return e instanceof PE&&Aa(this.vc,e.vc)}}class VE extends ul{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new zu(e.serializer,TN(e.serializer,this.Fc));return new rf(e.path,t)}isEqual(e){return e instanceof VE&&this.Fc===e.Fc}}function ME(n,e,t,i){const s=n.Cc(1,e,t);kE("Data must be an object, but it was:",s,i);const o=[],u=bn.empty();za(i,((d,m)=>{const y=LE(e,d,t);m=Ae(m);const _=s.yc(y);if(m instanceof cf)o.push(y);else{const T=hl(m,_);T!=null&&(o.push(y),u.set(y,T))}}));const h=new Jn(o);return new GP(u,h,s.fieldTransforms)}function OE(n,e,t,i,s,o){const u=n.Cc(1,e,t),h=[IT(e,i,t)],d=[s];if(o.length%2!=0)throw new oe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)h.push(IT(e,o[T])),d.push(o[T+1]);const m=[],y=bn.empty();for(let T=h.length-1;T>=0;--T)if(!XP(m,h[T])){const b=h[T];let C=d[T];C=Ae(C);const P=u.yc(b);if(C instanceof cf)m.push(b);else{const V=hl(C,P);V!=null&&(m.push(b),y.set(b,V))}}const _=new Jn(m);return new GP(y,_,u.fieldTransforms)}function QP(n,e,t,i=!1){return hl(t,n.Cc(i?4:3,e))}function hl(n,e){if(YP(n=Ae(n)))return kE("Unsupported field value:",e,n),WP(n,e);if(n instanceof ul)return(function(i,s){if(!KP(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const o=[];let u=0;for(const h of i){let d=hl(h,s.wc(u));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),u++}return{arrayValue:{values:o}}})(n,e)}return(function(i,s){if((i=Ae(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return TN(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Je.fromDate(i);return{timestampValue:qu(s.serializer,o)}}if(i instanceof Je){const o=new Je(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:qu(s.serializer,o)}}if(i instanceof tr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Cn)return{bytesValue:PN(s.serializer,i._byteString)};if(i instanceof ct){const o=s.databaseId,u=i.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:nE(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Ur)return(function(u,h){return{mapValue:{fields:{[G0]:{stringValue:K0},[Uu]:{arrayValue:{values:u.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return Y0(h.serializer,m)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${Eg(i)}`)})(n,e)}function WP(n,e){const t={};return WD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(n,((i,s)=>{const o=hl(s,e.mc(i));o!=null&&(t[i]=o)})),{mapValue:{fields:t}}}function YP(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Je||n instanceof tr||n instanceof Cn||n instanceof ct||n instanceof ul||n instanceof Ur)}function kE(n,e,t){if(!YP(t)||!ND(t)){const i=Eg(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function IT(n,e,t){if((e=Ae(e))instanceof Oa)return e._internalPath;if(typeof e=="string")return LE(n,e);throw Zp("Field path arguments must be of type string or ",n,!1,void 0,t)}const P9=new RegExp("[~\\*/\\[\\]]");function LE(n,e,t){if(e.search(P9)>=0)throw Zp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Oa(...e.split("."))._internalPath}catch{throw Zp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zp(n,e,t,i,s){const o=i&&!i.isEmpty(),u=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||u)&&(d+=" (found",o&&(d+=` in field ${i}`),u&&(d+=` in document ${s}`),d+=")"),new oe(X.INVALID_ARGUMENT,h+n+d)}function XP(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,t,i,s,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ct(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bg("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class V9 extends Nd{data(){return super.data()}}function Bg(n,e){return typeof e=="string"?LE(n,e):e instanceof Oa?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new oe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UE{}class hf extends UE{}function da(n,e,...t){let i=[];e instanceof UE&&i.push(e),i=i.concat(t),(function(o){const u=o.filter((d=>d instanceof jE)).length,h=o.filter((d=>d instanceof Fg)).length;if(u>1||u>0&&h>0)throw new oe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)n=s._apply(n);return n}class Fg extends hf{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Fg(e,t,i)}_apply(e){const t=this._parse(e);return e2(e._query,t),new Fn(e.firestore,e.converter,dT(e._query,t))}_parse(e){const t=cl(e.firestore);return(function(o,u,h,d,m,y,_){let T;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new oe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){pR(_,y);const C=[];for(const P of _)C.push(mR(d,o,P));T={arrayValue:{values:C}}}else T=mR(d,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||pR(_,y),T=QP(h,u,_,y==="in"||y==="not-in");return ze.create(m,y,T)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function M9(n,e,t){const i=e,s=Bg("where",n);return Fg._create(s,i,t)}class jE extends UE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new jE(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:nt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const h=o.getFlattenedFilters();for(const d of h)e2(u,d),u=dT(u,d)})(e._query,t),new Fn(e.firestore,e.converter,dT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class BE extends hf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new BE(e,t)}_apply(e){const t=(function(s,o,u){if(s.startAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Id(o,u)})(e._query,this._field,this._direction);return new Fn(e.firestore,e.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new Ss(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function O9(n,e="asc"){const t=e,i=Bg("orderBy",n);return BE._create(i,t)}class zg extends hf{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new zg(e,t,i)}_apply(e){return new Fn(e.firestore,e.converter,qp(e._query,this._limit,this._limitType))}}function k9(n){return PD("limit",n),zg._create("limit",n,"F")}function L9(n){return PD("limitToLast",n),zg._create("limitToLast",n,"L")}class qg extends hf{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new qg(e,t,i)}_apply(e){const t=ZP(e,this.type,this._docOrFields,this._inclusive);return new Fn(e.firestore,e.converter,(function(s,o){return new Ss(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,o,s.endAt)})(e._query,t))}}function U9(...n){return qg._create("startAt",n,!0)}function j9(...n){return qg._create("startAfter",n,!1)}class Hg extends hf{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new Hg(e,t,i)}_apply(e){const t=ZP(e,this.type,this._docOrFields,this._inclusive);return new Fn(e.firestore,e.converter,(function(s,o){return new Ss(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,o)})(e._query,t))}}function B9(...n){return Hg._create("endBefore",n,!1)}function F9(...n){return Hg._create("endAt",n,!0)}function ZP(n,e,t,i){if(t[0]=Ae(t[0]),t[0]instanceof Nd)return(function(o,u,h,d,m){if(!d)throw new oe(X.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const y=[];for(const _ of Su(o))if(_.field.isKeyField())y.push(Yo(u,d.key));else{const T=d.data.field(_.field);if(Ig(T))throw new oe(X.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+_.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){const b=_.field.canonicalString();throw new oe(X.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${b}' (used as the orderBy) does not exist.`)}y.push(T)}return new Pa(y,m)})(n._query,n.firestore._databaseId,e,t[0]._document,i);{const s=cl(n.firestore);return(function(u,h,d,m,y,_){const T=u.explicitOrderBy;if(y.length>T.length)throw new oe(X.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const b=[];for(let C=0;C<y.length;C++){const P=y[C];if(T[C].field.isKeyField()){if(typeof P!="string")throw new oe(X.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof P}`);if(!Q0(u)&&P.indexOf("/")!==-1)throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${P}' contains a slash.`);const V=u.path.child(je.fromString(P));if(!me.isDocumentKey(V))throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${V}' is not because it contains an odd number of segments.`);const U=new me(V);b.push(Yo(h,U))}else{const V=QP(d,m,P);b.push(V)}}return new Pa(b,_)})(n._query,n.firestore._databaseId,s,e,t,i)}}function mR(n,e,t){if(typeof(t=Ae(t))=="string"){if(t==="")throw new oe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Q0(e)&&t.indexOf("/")!==-1)throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(je.fromString(t));if(!me.isDocumentKey(i))throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Yo(n,new me(i))}if(t instanceof ct)return Yo(n,t._key);throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Eg(t)}.`)}function pR(n,e){if(!Array.isArray(n)||n.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e2(n,e){const t=(function(s,o){for(const u of s)for(const h of u.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class FE{convertValue(e,t="none"){switch(Da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ye(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return za(e,((s,o)=>{i[s]=this.convertValue(o,t)})),i}convertVectorValue(e){var i,s,o;const t=(o=(s=(i=e.fields)==null?void 0:i[Uu].arrayValue)==null?void 0:s.values)==null?void 0:o.map((u=>vt(u.doubleValue)));return new Ur(t)}convertGeoPoint(e){return new tr(vt(e.latitude),vt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Rg(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(bd(e));default:return null}}convertTimestamp(e){const t=vs(e);return new Je(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=je.fromString(e);Te(qN(i),9688,{name:e});const s=new Ca(i.get(1),i.get(3)),o=new me(i.popFirst(5));return s.isEqual(t)||Ut(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class z9 extends FE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,t)}}class Lo{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Mi=class t2 extends Nd{constructor(e,t,i,s,o,u){super(e,t,i,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Bg("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=t2._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Mi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mi._jsonSchema={type:en("string",Mi._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};let rd=class extends Mi{data(e={}){return super.data(e)}},nr=class n2{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Lo(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new rd(this._firestore,this._userDataWriter,i.key,i,new Lo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new oe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((h=>{const d=new rd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Lo(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new rd(s._firestore,s._userDataWriter,h.doc.key,h.doc,new Lo(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:q9(h.type),doc:d,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=n2._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=L0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function q9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:n})}}function i2(n,e){return n instanceof Mi&&e instanceof Mi?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof nr&&e instanceof nr&&n._firestore===e._firestore&&zP(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H9(n){n=We(n,ct);const e=We(n.firestore,Ft);return MP(Pn(e),n._key).then((t=>zE(e,n,t)))}nr._jsonSchemaVersion="firestore/querySnapshot/1.0",nr._jsonSchema={type:en("string",nr._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};class dl extends FE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ct(this.firestore,null,t)}}function G9(n){n=We(n,ct);const e=We(n.firestore,Ft),t=Pn(e),i=new dl(e);return d9(t,n._key).then((s=>new Mi(e,i,n._key,s,new Lo(s!==null&&s.hasLocalMutations,!0),n.converter)))}function K9(n){n=We(n,ct);const e=We(n.firestore,Ft);return MP(Pn(e),n._key,{source:"server"}).then((t=>zE(e,n,t)))}function $9(n){n=We(n,Fn);const e=We(n.firestore,Ft),t=Pn(e),i=new dl(e);return JP(n._query),OP(t,n._query).then((s=>new nr(e,i,n,s)))}function Q9(n){n=We(n,Fn);const e=We(n.firestore,Ft),t=Pn(e),i=new dl(e);return f9(t,n._query).then((s=>new nr(e,i,n,s)))}function W9(n){n=We(n,Fn);const e=We(n.firestore,Ft),t=Pn(e),i=new dl(e);return OP(t,n._query,{source:"server"}).then((s=>new nr(e,i,n,s)))}function gR(n,e,t){n=We(n,ct);const i=We(n.firestore,Ft),s=Gg(n.converter,e,t);return df(i,[jg(cl(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,wt.none())])}function yR(n,e,t,...i){n=We(n,ct);const s=We(n.firestore,Ft),o=cl(s);let u;return u=typeof(e=Ae(e))=="string"||e instanceof Oa?OE(o,"updateDoc",n._key,e,t,i):ME(o,"updateDoc",n._key,e),df(s,[u.toMutation(n._key,wt.exists(!0))])}function Y9(n){return df(We(n.firestore,Ft),[new uc(n._key,wt.none())])}function X9(n,e){const t=We(n.firestore,Ft),i=Jp(n),s=Gg(n.converter,e);return df(t,[jg(cl(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,wt.exists(!1))]).then((()=>i))}function r2(n,...e){var d,m,y;n=Ae(n);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||ST(e[i])||(t=e[i++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(ST(e[i])){const _=e[i];e[i]=(d=_.next)==null?void 0:d.bind(_),e[i+1]=(m=_.error)==null?void 0:m.bind(_),e[i+2]=(y=_.complete)==null?void 0:y.bind(_)}let o,u,h;if(n instanceof ct)u=We(n.firestore,Ft),h=oc(n._key.path),o={next:_=>{e[i]&&e[i](zE(u,n,_))},error:e[i+1],complete:e[i+2]};else{const _=We(n,Fn);u=We(_.firestore,Ft),h=_._query;const T=new dl(u);o={next:b=>{e[i]&&e[i](new nr(u,T,_,b))},error:e[i+1],complete:e[i+2]},JP(n._query)}return(function(T,b,C,P){const V=new kg(P),U=new EE(b,V,C);return T.asyncQueue.enqueueAndForget((async()=>_E(await Wu(T),U))),()=>{V.Nu(),T.asyncQueue.enqueueAndForget((async()=>vE(await Wu(T),U)))}})(Pn(u),h,s,o)}function J9(n,e){return m9(Pn(n=We(n,Ft)),ST(e)?e:{next:e})}function df(n,e){return(function(i,s){const o=new An;return i.asyncQueue.enqueueAndForget((async()=>FF(await CE(i),s,o))),o.promise})(Pn(n),e)}function zE(n,e,t){const i=t.docs.get(e._key),s=new dl(n);return new Mi(n,s,e._key,i,new Lo(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z9={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ez=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=cl(e)}set(e,t,i){this._verifyNotCommitted();const s=_a(e,this._firestore),o=Gg(s.converter,t,i),u=jg(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,i);return this._mutations.push(u.toMutation(s._key,wt.none())),this}update(e,t,i,...s){this._verifyNotCommitted();const o=_a(e,this._firestore);let u;return u=typeof(t=Ae(t))=="string"||t instanceof Oa?OE(this._dataReader,"WriteBatch.update",o._key,t,i,s):ME(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(u.toMutation(o._key,wt.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_a(e,this._firestore);return this._mutations=this._mutations.concat(new uc(t._key,wt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new oe(X.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function _a(n,e){if((n=Ae(n)).firestore!==e)throw new oe(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tz{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=cl(e)}get(e){const t=_a(e,this._firestore),i=new z9(this._firestore);return this._transaction.lookup([t._key]).then((s=>{if(!s||s.length!==1)return ye(24041);const o=s[0];if(o.isFoundDocument())return new Nd(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new Nd(this._firestore,i,t._key,null,t.converter);throw ye(18433,{doc:o})}))}set(e,t,i){const s=_a(e,this._firestore),o=Gg(s.converter,t,i),u=jg(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,u),this}update(e,t,i,...s){const o=_a(e,this._firestore);let u;return u=typeof(t=Ae(t))=="string"||t instanceof Oa?OE(this._dataReader,"Transaction.update",o._key,t,i,s):ME(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,u),this}delete(e){const t=_a(e,this._firestore);return this._transaction.delete(t._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nz=class extends tz{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_a(e,this._firestore),i=new dl(this._firestore);return super.get(e).then((s=>new Mi(this._firestore,i,t._key,s._document,new Lo(!1,!1),t.converter)))}};function iz(n,e,t){n=We(n,Ft);const i={...Z9,...t};return(function(o){if(o.maxAttempts<1)throw new oe(X.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i),(function(o,u,h){const d=new An;return o.asyncQueue.enqueueAndForget((async()=>{const m=await u9(o);new o9(o.asyncQueue,m,h,u,d).ju()})),d.promise})(Pn(n),(s=>e(new nz(n,s))),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(){return new cf("deleteField")}function sz(){return new DE("serverTimestamp")}function az(...n){return new NE("arrayUnion",n)}function oz(...n){return new PE("arrayRemove",n)}function lz(n){return new VE("increment",n)}(function(e,t=!0){(function(s){ac=s})(Ua),Ra(new Fr("firestore",((i,{instanceIdentifier:s,options:o})=>{const u=i.getProvider("app").getImmediate(),h=new Ft(new tj(i.getProvider("auth-internal")),new rj(u,i.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new oe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ca(m.options.projectId,y)})(u,s),u);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),er($I,QI,e),er($I,QI,"esm2020")})();const uz="@firebase/firestore-compat",cz="0.4.2";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new oe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(){if(typeof Uint8Array>"u")throw new oe("unimplemented","Uint8Arrays are not available in this environment.")}function vR(){if(!jj())throw new oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Pd{constructor(e){this._delegate=e}static fromBase64String(e){return vR(),new Pd(Cn.fromBase64String(e))}static fromUint8Array(e){return _R(),new Pd(Cn.fromUint8Array(e))}toBase64(){return vR(),this._delegate.toBase64()}toUint8Array(){return _R(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(n){return hz(n,["next","error","complete"])}function hz(n,e){if(typeof n!="object"||n===null)return!1;const t=n;for(const i of e)if(i in t&&typeof t[i]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dz{enableIndexedDbPersistence(e,t){return E9(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return w9(e._delegate)}clearIndexedDbPersistence(e){return b9(e._delegate)}}class s2{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ca||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&qr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e={...t,...e},delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,i={}){y9(this._delegate,e,t,i)}enableNetwork(){return S9(this._delegate)}disableNetwork(){return I9(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,DD("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return A9(this._delegate)}onSnapshotsInSync(e){return J9(this._delegate,e)}get app(){if(!this._appCompat)throw new oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Yu(this,BP(this._delegate,e))}catch(t){throw Ln(t,"collection()","Firestore.collection()")}}doc(e){try{return new Pi(this,Jp(this._delegate,e))}catch(t){throw Ln(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new kn(this,_9(this._delegate,e))}catch(t){throw Ln(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return iz(this._delegate,t=>e(new a2(this,t)))}batch(){return Pn(this._delegate),new o2(new ez(this._delegate,e=>df(this._delegate,e)))}loadBundle(e){return R9(this._delegate,e)}namedQuery(e){return x9(this._delegate,e).then(t=>t?new kn(this,t):null)}}class Kg extends FE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pd(new Cn(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Pi.forKey(t,this.firestore,null)}}function fz(n){X5(n)}class a2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Kg(e)}get(e){const t=Uo(e);return this._delegate.get(t).then(i=>new Vd(this._firestore,new Mi(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const s=Uo(e);return i?(qE("Transaction.set",i),this._delegate.set(s,t,i)):this._delegate.set(s,t),this}update(e,t,i,...s){const o=Uo(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,i,...s),this}delete(e){const t=Uo(e);return this._delegate.delete(t),this}}class o2{constructor(e){this._delegate=e}set(e,t,i){const s=Uo(e);return i?(qE("WriteBatch.set",i),this._delegate.set(s,t,i)):this._delegate.set(s,t),this}update(e,t,i,...s){const o=Uo(e);return arguments.length===2?this._delegate.update(o,t):this._delegate.update(o,t,i,...s),this}delete(e){const t=Uo(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rl{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new rd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Md(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=rl.INSTANCES;let s=i.get(e);s||(s=new WeakMap,i.set(e,s));let o=s.get(t);return o||(o=new rl(e,new Kg(e),t),s.set(t,o)),o}}rl.INSTANCES=new WeakMap;class Pi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Kg(e)}static forPath(e,t,i){if(e.length%2!==0)throw new oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Pi(t,new ct(t._delegate,i,new me(e)))}static forKey(e,t,i){return new Pi(t,new ct(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Yu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Yu(this.firestore,BP(this._delegate,e))}catch(t){throw Ln(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Ae(e),e instanceof ct?FP(this._delegate,e):!1}set(e,t){t=qE("DocumentReference.set",t);try{return t?gR(this._delegate,e,t):gR(this._delegate,e)}catch(i){throw Ln(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return arguments.length===1?yR(this._delegate,e):yR(this._delegate,e,t,...i)}catch(s){throw Ln(s,"updateDoc()","DocumentReference.update()")}}delete(){return Y9(this._delegate)}onSnapshot(...e){const t=l2(e),i=u2(e,s=>new Vd(this.firestore,new Mi(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return r2(this._delegate,t,i)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=G9(this._delegate):(e==null?void 0:e.source)==="server"?t=K9(this._delegate):t=H9(this._delegate),t.then(i=>new Vd(this.firestore,new Mi(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new Pi(this.firestore,e?this._delegate.withConverter(rl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ln(n,e,t){return n.message=n.message.replace(e,t),n}function l2(n){for(const e of n)if(typeof e=="object"&&!RT(e))return e;return{}}function u2(n,e){var i,s;let t;return RT(n[0])?t=n[0]:RT(n[1])?t=n[1]:typeof n[0]=="function"?t={next:n[0],error:n[1],complete:n[2]}:t={next:n[1],error:n[2],complete:n[3]},{next:o=>{t.next&&t.next(e(o))},error:(i=t.error)==null?void 0:i.bind(t),complete:(s=t.complete)==null?void 0:s.bind(t)}}class Vd{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Pi(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return i2(this._delegate,e._delegate)}}class Md extends Vd{data(e){const t=this._delegate.data(e);return this._delegate._converter||J5(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}}class kn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Kg(e)}where(e,t,i){try{return new kn(this.firestore,da(this._delegate,M9(e,t,i)))}catch(s){throw Ln(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new kn(this.firestore,da(this._delegate,O9(e,t)))}catch(i){throw Ln(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new kn(this.firestore,da(this._delegate,k9(e)))}catch(t){throw Ln(t,"limit()","Query.limit()")}}limitToLast(e){try{return new kn(this.firestore,da(this._delegate,L9(e)))}catch(t){throw Ln(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new kn(this.firestore,da(this._delegate,U9(...e)))}catch(t){throw Ln(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new kn(this.firestore,da(this._delegate,j9(...e)))}catch(t){throw Ln(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new kn(this.firestore,da(this._delegate,B9(...e)))}catch(t){throw Ln(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new kn(this.firestore,da(this._delegate,F9(...e)))}catch(t){throw Ln(t,"endAt()","Query.endAt()")}}isEqual(e){return zP(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=Q9(this._delegate):(e==null?void 0:e.source)==="server"?t=W9(this._delegate):t=$9(this._delegate),t.then(i=>new xT(this.firestore,new nr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=l2(e),i=u2(e,s=>new xT(this.firestore,new nr(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return r2(this._delegate,t,i)}withConverter(e){return new kn(this.firestore,e?this._delegate.withConverter(rl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class mz{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Md(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class xT{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new kn(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Md(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new mz(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Md(this._firestore,i))})}isEqual(e){return i2(this._delegate,e._delegate)}}class Yu extends kn{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Pi(this.firestore,e):null}doc(e){try{return e===void 0?new Pi(this.firestore,Jp(this._delegate)):new Pi(this.firestore,Jp(this._delegate,e))}catch(t){throw Ln(t,"doc()","CollectionReference.doc()")}}add(e){return X9(this._delegate,e).then(t=>new Pi(this.firestore,t))}isEqual(e){return FP(this._delegate,e._delegate)}withConverter(e){return new Yu(this.firestore,e?this._delegate.withConverter(rl.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Uo(n){return We(n,ct)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(...e){this._delegate=new Oa(...e)}static documentId(){return new HE(Et.keyField().canonicalString())}isEqual(e){return e=Ae(e),e instanceof Oa?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{static serverTimestamp(){const e=sz();return e._methodName="FieldValue.serverTimestamp",new Mo(e)}static delete(){const e=rz();return e._methodName="FieldValue.delete",new Mo(e)}static arrayUnion(...e){const t=az(...e);return t._methodName="FieldValue.arrayUnion",new Mo(t)}static arrayRemove(...e){const t=oz(...e);return t._methodName="FieldValue.arrayRemove",new Mo(t)}static increment(e){const t=lz(e);return t._methodName="FieldValue.increment",new Mo(t)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pz={Firestore:s2,GeoPoint:tr,Timestamp:Je,Blob:Pd,Transaction:a2,WriteBatch:o2,DocumentReference:Pi,DocumentSnapshot:Vd,Query:kn,QueryDocumentSnapshot:Md,QuerySnapshot:xT,CollectionReference:Yu,FieldPath:HE,FieldValue:Mo,setLogLevel:fz,CACHE_SIZE_UNLIMITED:T9};function gz(n,e){n.INTERNAL.registerComponent(new Fr("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(i,s)},"PUBLIC").setServiceProps({...pz}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yz(n){gz(n,(e,t)=>new s2(e,t,new dz)),n.registerVersion(uz,cz)}yz(ys);const _z={apiKey:"AIzaSyCq08FPf6StbmUUCqwWPKSCEwDrd4n9TCE",authDomain:"snippet-saver-a37ae.firebaseapp.com",projectId:"snippet-saver-a37ae",storageBucket:"snippet-saver-a37ae.firebasestorage.app",messagingSenderId:"563217543964",appId:"1:563217543964:web:23c39b4bbb8974a9d880d9",measurementId:"G-6LD8W5SWST"};ys.apps.length||ys.initializeApp(_z);const an=ys.auth(),ti=ys.firestore();ti.enablePersistence({synchronizeTabs:!0}).catch(n=>{n.code==="failed-precondition"?console.warn("Firestore persistence failed: Multiple tabs open"):n.code==="unimplemented"&&console.warn("Firestore persistence not supported in this browser")});/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tz=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),TR=n=>{const e=Tz(n);return e.charAt(0).toUpperCase()+e.slice(1)},c2=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),Ez=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=N.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:s="",children:o,iconNode:u,...h},d)=>N.createElement("svg",{ref:d,...wz,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:c2("lucide",s),...!o&&!Ez(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,y])=>N.createElement(m,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(n,e)=>{const t=N.forwardRef(({className:i,...s},o)=>N.createElement(bz,{ref:o,iconNode:e,className:c2(`lucide-${vz(TR(n))}`,`lucide-${n}`,i),...s}));return t.displayName=TR(n),t};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],Sz=pt("arrow-down-up",Az);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rz=pt("arrow-left",Iz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cz=pt("calendar",xz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],CT=pt("check",Dz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Pz=pt("chevron-left",Nz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Mz=pt("clock",Vz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],DT=pt("copy",Oz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Lz=pt("folder-open",kz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],h2=pt("folder",Uz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],d2=pt("heart",jz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Fz=pt("house",Bz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],qz=pt("layout-grid",zz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Gz=pt("list",Hz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],GE=pt("loader-circle",Kz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Qz=pt("menu",$z);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Yz=pt("pen",Wz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],f2=pt("pin",Xz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ER=pt("plus",Jz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],e8=pt("search",Zz);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n8=pt("settings",t8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],m2=pt("star",i8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],s8=pt("tag",r8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],o8=pt("trash-2",a8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],u8=pt("type",l8);/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],h8=pt("x",c8),KE=N.createContext({});function $E(n){const e=N.useRef(null);return e.current===null&&(e.current=n()),e.current}const QE=typeof window<"u",p2=QE?N.useLayoutEffect:N.useEffect,$g=N.createContext(null);function WE(n,e){n.indexOf(e)===-1&&n.push(e)}function YE(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Es=(n,e,t)=>t>e?e:t<n?n:t;let XE=()=>{};const ws={},g2=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function y2(n){return typeof n=="object"&&n!==null}const _2=n=>/^0[^.\s]+$/u.test(n);function JE(n){let e;return()=>(e===void 0&&(e=n()),e)}const Oi=n=>n,d8=(n,e)=>t=>e(n(t)),ff=(...n)=>n.reduce(d8),Od=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class ZE{constructor(){this.subscriptions=[]}add(e){return WE(this.subscriptions,e),()=>YE(this.subscriptions,e)}notify(e,t,i){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,i);else for(let o=0;o<s;o++){const u=this.subscriptions[o];u&&u(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jr=n=>n*1e3,Vi=n=>n/1e3;function v2(n,e){return e?n*(1e3/e):0}const T2=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,f8=1e-7,m8=12;function p8(n,e,t,i,s){let o,u,h=0;do u=e+(t-e)/2,o=T2(u,i,s)-n,o>0?t=u:e=u;while(Math.abs(o)>f8&&++h<m8);return u}function mf(n,e,t,i){if(n===e&&t===i)return Oi;const s=o=>p8(o,0,1,n,t);return o=>o===0||o===1?o:T2(s(o),e,i)}const E2=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,w2=n=>e=>1-n(1-e),b2=mf(.33,1.53,.69,.99),ew=w2(b2),A2=E2(ew),S2=n=>(n*=2)<1?.5*ew(n):.5*(2-Math.pow(2,-10*(n-1))),tw=n=>1-Math.sin(Math.acos(n)),I2=w2(tw),R2=E2(tw),g8=mf(.42,0,1,1),y8=mf(0,0,.58,1),x2=mf(.42,0,.58,1),_8=n=>Array.isArray(n)&&typeof n[0]!="number",C2=n=>Array.isArray(n)&&typeof n[0]=="number",v8={linear:Oi,easeIn:g8,easeInOut:x2,easeOut:y8,circIn:tw,circInOut:R2,circOut:I2,backIn:ew,backInOut:A2,backOut:b2,anticipate:S2},T8=n=>typeof n=="string",wR=n=>{if(C2(n)){XE(n.length===4);const[e,t,i,s]=n;return mf(e,t,i,s)}else if(T8(n))return v8[n];return n},tp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function E8(n,e){let t=new Set,i=new Set,s=!1,o=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function d(y){u.has(y)&&(m.schedule(y),n()),y(h)}const m={schedule:(y,_=!1,T=!1)=>{const C=T&&s?t:i;return _&&u.add(y),C.has(y)||C.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,s){o=!0;return}s=!0,[t,i]=[i,t],t.forEach(d),t.clear(),s=!1,o&&(o=!1,m.process(y))}};return m}const w8=40;function D2(n,e){let t=!1,i=!0;const s={delta:0,timestamp:0,isProcessing:!1},o=()=>t=!0,u=tp.reduce((F,ae)=>(F[ae]=E8(o),F),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:y,update:_,preRender:T,render:b,postRender:C}=u,P=()=>{const F=ws.useManualTiming?s.timestamp:performance.now();t=!1,ws.useManualTiming||(s.delta=i?1e3/60:Math.max(Math.min(F-s.timestamp,w8),1)),s.timestamp=F,s.isProcessing=!0,h.process(s),d.process(s),m.process(s),y.process(s),_.process(s),T.process(s),b.process(s),C.process(s),s.isProcessing=!1,t&&e&&(i=!1,n(P))},V=()=>{t=!0,i=!0,s.isProcessing||n(P)};return{schedule:tp.reduce((F,ae)=>{const ne=u[ae];return F[ae]=(le,x=!1,I=!1)=>(t||V(),ne.schedule(le,x,I)),F},{}),cancel:F=>{for(let ae=0;ae<tp.length;ae++)u[tp[ae]].cancel(F)},state:s,steps:u}}const{schedule:bt,cancel:ka,state:En,steps:Av}=D2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oi,!0);let wp;function b8(){wp=void 0}const ei={now:()=>(wp===void 0&&ei.set(En.isProcessing||ws.useManualTiming?En.timestamp:performance.now()),wp),set:n=>{wp=n,queueMicrotask(b8)}},N2=n=>e=>typeof e=="string"&&e.startsWith(n),nw=N2("--"),A8=N2("var(--"),iw=n=>A8(n)?S8.test(n.split("/*")[0].trim()):!1,S8=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,mc={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},kd={...mc,transform:n=>Es(0,1,n)},np={...mc,default:1},sd=n=>Math.round(n*1e5)/1e5,rw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function I8(n){return n==null}const R8=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,sw=(n,e)=>t=>!!(typeof t=="string"&&R8.test(t)&&t.startsWith(n)||e&&!I8(t)&&Object.prototype.hasOwnProperty.call(t,e)),P2=(n,e,t)=>i=>{if(typeof i!="string")return i;const[s,o,u,h]=i.match(rw);return{[n]:parseFloat(s),[e]:parseFloat(o),[t]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},x8=n=>Es(0,255,n),Sv={...mc,transform:n=>Math.round(x8(n))},jo={test:sw("rgb","red"),parse:P2("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+Sv.transform(n)+", "+Sv.transform(e)+", "+Sv.transform(t)+", "+sd(kd.transform(i))+")"};function C8(n){let e="",t="",i="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,i+=i,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:s?parseInt(s,16)/255:1}}const NT={test:sw("#"),parse:C8,transform:jo.transform},pf=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ma=pf("deg"),Br=pf("%"),Re=pf("px"),D8=pf("vh"),N8=pf("vw"),bR={...Br,parse:n=>Br.parse(n)/100,transform:n=>Br.transform(n*100)},gu={test:sw("hsl","hue"),parse:P2("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+Br.transform(sd(e))+", "+Br.transform(sd(t))+", "+sd(kd.transform(i))+")"},Jt={test:n=>jo.test(n)||NT.test(n)||gu.test(n),parse:n=>jo.test(n)?jo.parse(n):gu.test(n)?gu.parse(n):NT.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?jo.transform(n):gu.transform(n),getAnimatableNone:n=>{const e=Jt.parse(n);return e.alpha=0,Jt.transform(e)}},P8=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V8(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(rw))==null?void 0:e.length)||0)+(((t=n.match(P8))==null?void 0:t.length)||0)>0}const V2="number",M2="color",M8="var",O8="var(",AR="${}",k8=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ld(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},s=[];let o=0;const h=e.replace(k8,d=>(Jt.test(d)?(i.color.push(o),s.push(M2),t.push(Jt.parse(d))):d.startsWith(O8)?(i.var.push(o),s.push(M8),t.push(d)):(i.number.push(o),s.push(V2),t.push(parseFloat(d))),++o,AR)).split(AR);return{values:t,split:h,indexes:i,types:s}}function O2(n){return Ld(n).values}function k2(n){const{split:e,types:t}=Ld(n),i=e.length;return s=>{let o="";for(let u=0;u<i;u++)if(o+=e[u],s[u]!==void 0){const h=t[u];h===V2?o+=sd(s[u]):h===M2?o+=Jt.transform(s[u]):o+=s[u]}return o}}const L8=n=>typeof n=="number"?0:Jt.test(n)?Jt.getAnimatableNone(n):n;function U8(n){const e=O2(n);return k2(n)(e.map(L8))}const La={test:V8,parse:O2,createTransformer:k2,getAnimatableNone:U8};function Iv(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function j8({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let s=0,o=0,u=0;if(!e)s=o=u=t;else{const h=t<.5?t*(1+e):t+e-t*e,d=2*t-h;s=Iv(d,h,n+1/3),o=Iv(d,h,n),u=Iv(d,h,n-1/3)}return{red:Math.round(s*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:i}}function eg(n,e){return t=>t>0?e:n}const St=(n,e,t)=>n+(e-n)*t,Rv=(n,e,t)=>{const i=n*n,s=t*(e*e-i)+i;return s<0?0:Math.sqrt(s)},B8=[NT,jo,gu],F8=n=>B8.find(e=>e.test(n));function SR(n){const e=F8(n);if(!e)return!1;let t=e.parse(n);return e===gu&&(t=j8(t)),t}const IR=(n,e)=>{const t=SR(n),i=SR(e);if(!t||!i)return eg(n,e);const s={...t};return o=>(s.red=Rv(t.red,i.red,o),s.green=Rv(t.green,i.green,o),s.blue=Rv(t.blue,i.blue,o),s.alpha=St(t.alpha,i.alpha,o),jo.transform(s))},PT=new Set(["none","hidden"]);function z8(n,e){return PT.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function q8(n,e){return t=>St(n,e,t)}function aw(n){return typeof n=="number"?q8:typeof n=="string"?iw(n)?eg:Jt.test(n)?IR:K8:Array.isArray(n)?L2:typeof n=="object"?Jt.test(n)?IR:H8:eg}function L2(n,e){const t=[...n],i=t.length,s=n.map((o,u)=>aw(o)(o,e[u]));return o=>{for(let u=0;u<i;u++)t[u]=s[u](o);return t}}function H8(n,e){const t={...n,...e},i={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(i[s]=aw(n[s])(n[s],e[s]));return s=>{for(const o in i)t[o]=i[o](s);return t}}function G8(n,e){const t=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],u=n.indexes[o][i[o]],h=n.values[u]??0;t[s]=h,i[o]++}return t}const K8=(n,e)=>{const t=La.createTransformer(e),i=Ld(n),s=Ld(e);return i.indexes.var.length===s.indexes.var.length&&i.indexes.color.length===s.indexes.color.length&&i.indexes.number.length>=s.indexes.number.length?PT.has(n)&&!s.values.length||PT.has(e)&&!i.values.length?z8(n,e):ff(L2(G8(i,s),s.values),t):eg(n,e)};function U2(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?St(n,e,t):aw(n)(n,e)}const $8=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>bt.update(e,t),stop:()=>ka(e),now:()=>En.isProcessing?En.timestamp:ei.now()}},j2=(n,e,t=10)=>{let i="";const s=Math.max(Math.round(e/t),2);for(let o=0;o<s;o++)i+=Math.round(n(o/(s-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},tg=2e4;function ow(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<tg;)e+=t,i=n.next(e);return e>=tg?1/0:e}function Q8(n,e=100,t){const i=t({...n,keyframes:[0,e]}),s=Math.min(ow(i),tg);return{type:"keyframes",ease:o=>i.next(s*o).value/e,duration:Vi(s)}}const W8=5;function B2(n,e,t){const i=Math.max(e-W8,0);return v2(t-n(i),e-i)}const Dt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xv=.001;function Y8({duration:n=Dt.duration,bounce:e=Dt.bounce,velocity:t=Dt.velocity,mass:i=Dt.mass}){let s,o,u=1-e;u=Es(Dt.minDamping,Dt.maxDamping,u),n=Es(Dt.minDuration,Dt.maxDuration,Vi(n)),u<1?(s=m=>{const y=m*u,_=y*n,T=y-t,b=VT(m,u),C=Math.exp(-_);return xv-T/b*C},o=m=>{const _=m*u*n,T=_*t+t,b=Math.pow(u,2)*Math.pow(m,2)*n,C=Math.exp(-_),P=VT(Math.pow(m,2),u);return(-s(m)+xv>0?-1:1)*((T-b)*C)/P}):(s=m=>{const y=Math.exp(-m*n),_=(m-t)*n+1;return-xv+y*_},o=m=>{const y=Math.exp(-m*n),_=(t-m)*(n*n);return y*_});const h=5/n,d=J8(s,o,h);if(n=jr(n),isNaN(d))return{stiffness:Dt.stiffness,damping:Dt.damping,duration:n};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:n}}}const X8=12;function J8(n,e,t){let i=t;for(let s=1;s<X8;s++)i=i-n(i)/e(i);return i}function VT(n,e){return n*Math.sqrt(1-e*e)}const Z8=["duration","bounce"],eq=["stiffness","damping","mass"];function RR(n,e){return e.some(t=>n[t]!==void 0)}function tq(n){let e={velocity:Dt.velocity,stiffness:Dt.stiffness,damping:Dt.damping,mass:Dt.mass,isResolvedFromDuration:!1,...n};if(!RR(n,eq)&&RR(n,Z8))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),s=i*i,o=2*Es(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:Dt.mass,stiffness:s,damping:o}}else{const t=Y8(n);e={...e,...t,mass:Dt.mass},e.isResolvedFromDuration=!0}return e}function ng(n=Dt.visualDuration,e=Dt.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:s}=t;const o=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],h={done:!1,value:o},{stiffness:d,damping:m,mass:y,duration:_,velocity:T,isResolvedFromDuration:b}=tq({...t,velocity:-Vi(t.velocity||0)}),C=T||0,P=m/(2*Math.sqrt(d*y)),V=u-o,U=Vi(Math.sqrt(d/y)),W=Math.abs(V)<5;i||(i=W?Dt.restSpeed.granular:Dt.restSpeed.default),s||(s=W?Dt.restDelta.granular:Dt.restDelta.default);let F;if(P<1){const ne=VT(U,P);F=le=>{const x=Math.exp(-P*U*le);return u-x*((C+P*U*V)/ne*Math.sin(ne*le)+V*Math.cos(ne*le))}}else if(P===1)F=ne=>u-Math.exp(-U*ne)*(V+(C+U*V)*ne);else{const ne=U*Math.sqrt(P*P-1);F=le=>{const x=Math.exp(-P*U*le),I=Math.min(ne*le,300);return u-x*((C+P*U*V)*Math.sinh(I)+ne*V*Math.cosh(I))/ne}}const ae={calculatedDuration:b&&_||null,next:ne=>{const le=F(ne);if(b)h.done=ne>=_;else{let x=ne===0?C:0;P<1&&(x=ne===0?jr(C):B2(F,ne,le));const I=Math.abs(x)<=i,D=Math.abs(u-le)<=s;h.done=I&&D}return h.value=h.done?u:le,h},toString:()=>{const ne=Math.min(ow(ae),tg),le=j2(x=>ae.next(ne*x).value,ne,30);return ne+"ms "+le},toTransition:()=>{}};return ae}ng.applyToOptions=n=>{const e=Q8(n,100,ng);return n.ease=e.ease,n.duration=jr(e.duration),n.type="keyframes",n};function MT({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:s=10,bounceStiffness:o=500,modifyTarget:u,min:h,max:d,restDelta:m=.5,restSpeed:y}){const _=n[0],T={done:!1,value:_},b=I=>h!==void 0&&I<h||d!==void 0&&I>d,C=I=>h===void 0?d:d===void 0||Math.abs(h-I)<Math.abs(d-I)?h:d;let P=t*e;const V=_+P,U=u===void 0?V:u(V);U!==V&&(P=U-_);const W=I=>-P*Math.exp(-I/i),F=I=>U+W(I),ae=I=>{const D=W(I),k=F(I);T.done=Math.abs(D)<=m,T.value=T.done?U:k};let ne,le;const x=I=>{b(T.value)&&(ne=I,le=ng({keyframes:[T.value,C(T.value)],velocity:B2(F,I,T.value),damping:s,stiffness:o,restDelta:m,restSpeed:y}))};return x(0),{calculatedDuration:null,next:I=>{let D=!1;return!le&&ne===void 0&&(D=!0,ae(I),x(I)),ne!==void 0&&I>=ne?le.next(I-ne):(!D&&ae(I),T)}}}function nq(n,e,t){const i=[],s=t||ws.mix||U2,o=n.length-1;for(let u=0;u<o;u++){let h=s(n[u],n[u+1]);if(e){const d=Array.isArray(e)?e[u]||Oi:e;h=ff(d,h)}i.push(h)}return i}function iq(n,e,{clamp:t=!0,ease:i,mixer:s}={}){const o=n.length;if(XE(o===e.length),o===1)return()=>e[0];if(o===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=nq(e,i,s),d=h.length,m=y=>{if(u&&y<n[0])return e[0];let _=0;if(d>1)for(;_<n.length-2&&!(y<n[_+1]);_++);const T=Od(n[_],n[_+1],y);return h[_](T)};return t?y=>m(Es(n[0],n[o-1],y)):m}function rq(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const s=Od(0,e,i);n.push(St(t,1,s))}}function sq(n){const e=[0];return rq(e,n.length-1),e}function aq(n,e){return n.map(t=>t*e)}function oq(n,e){return n.map(()=>e||x2).splice(0,n.length-1)}function ad({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const s=_8(i)?i.map(wR):wR(i),o={done:!1,value:e[0]},u=aq(t&&t.length===e.length?t:sq(e),n),h=iq(u,e,{ease:Array.isArray(s)?s:oq(e,s)});return{calculatedDuration:n,next:d=>(o.value=h(d),o.done=d>=n,o)}}const lq=n=>n!==null;function lw(n,{repeat:e,repeatType:t="loop"},i,s=1){const o=n.filter(lq),h=s<0||e&&t!=="loop"&&e%2===1?0:o.length-1;return!h||i===void 0?o[h]:i}const uq={decay:MT,inertia:MT,tween:ad,keyframes:ad,spring:ng};function F2(n){typeof n.type=="string"&&(n.type=uq[n.type])}class uw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const cq=n=>n/100;class cw extends uw{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,s;const{motionValue:t}=this.options;t&&t.updatedAt!==ei.now()&&this.tick(ei.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(i=this.options).onStop)==null||s.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;F2(e);const{type:t=ad,repeat:i=0,repeatDelay:s=0,repeatType:o,velocity:u=0}=e;let{keyframes:h}=e;const d=t||ad;d!==ad&&typeof h[0]!="number"&&(this.mixKeyframes=ff(cq,U2(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});o==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=ow(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+s,this.totalDuration=this.resolvedDuration*(i+1)-s,this.generator=m}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:s,mixKeyframes:o,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:y,repeat:_,repeatType:T,repeatDelay:b,type:C,onUpdate:P,finalKeyframe:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const U=this.currentTime-m*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?U<0:U>s;this.currentTime=Math.max(U,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let F=this.currentTime,ae=i;if(_){const I=Math.min(this.currentTime,s)/h;let D=Math.floor(I),k=I%1;!k&&I>=1&&(k=1),k===1&&D--,D=Math.min(D,_+1),!!(D%2)&&(T==="reverse"?(k=1-k,b&&(k-=b/h)):T==="mirror"&&(ae=u)),F=Es(0,1,k)*h}const ne=W?{done:!1,value:y[0]}:ae.next(F);o&&(ne.value=o(ne.value));let{done:le}=ne;!W&&d!==null&&(le=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&le);return x&&C!==MT&&(ne.value=lw(y,this.options,V,this.speed)),P&&P(ne.value),x&&this.finish(),ne}then(e,t){return this.finished.then(e,t)}get duration(){return Vi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vi(e)}get time(){return Vi(this.currentTime)}set time(e){var t;e=jr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ei.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Vi(this.currentTime))}play(){var s,o;if(this.isStopped)return;const{driver:e=$8,startTime:t}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(o=(s=this.options).onPlay)==null||o.call(s);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ei.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function hq(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Bo=n=>n*180/Math.PI,OT=n=>{const e=Bo(Math.atan2(n[1],n[0]));return kT(e)},dq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:OT,rotateZ:OT,skewX:n=>Bo(Math.atan(n[1])),skewY:n=>Bo(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},kT=n=>(n=n%360,n<0&&(n+=360),n),xR=OT,CR=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),DR=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),fq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:CR,scaleY:DR,scale:n=>(CR(n)+DR(n))/2,rotateX:n=>kT(Bo(Math.atan2(n[6],n[5]))),rotateY:n=>kT(Bo(Math.atan2(-n[2],n[0]))),rotateZ:xR,rotate:xR,skewX:n=>Bo(Math.atan(n[4])),skewY:n=>Bo(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function LT(n){return n.includes("scale")?1:0}function UT(n,e){if(!n||n==="none")return LT(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,s;if(t)i=fq,s=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=dq,s=h}if(!s)return LT(e);const o=i[e],u=s[1].split(",").map(pq);return typeof o=="function"?o(u):u[o]}const mq=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return UT(t,e)};function pq(n){return parseFloat(n.trim())}const pc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gc=new Set(pc),NR=n=>n===mc||n===Re,gq=new Set(["x","y","z"]),yq=pc.filter(n=>!gq.has(n));function _q(n){const e=[];return yq.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const Ho={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>UT(e,"x"),y:(n,{transform:e})=>UT(e,"y")};Ho.translateX=Ho.x;Ho.translateY=Ho.y;const Go=new Set;let jT=!1,BT=!1,FT=!1;function z2(){if(BT){const n=Array.from(Go).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const s=_q(i);s.length&&(t.set(i,s),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const s=t.get(i);s&&s.forEach(([o,u])=>{var h;(h=i.getValue(o))==null||h.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}BT=!1,jT=!1,Go.forEach(n=>n.complete(FT)),Go.clear()}function q2(){Go.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(BT=!0)})}function vq(){FT=!0,q2(),z2(),FT=!1}class hw{constructor(e,t,i,s,o,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=s,this.element=o,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Go.add(this),jT||(jT=!0,bt.read(q2),bt.resolveKeyframes(z2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:s}=this;if(e[0]===null){const o=s==null?void 0:s.get(),u=e[e.length-1];if(o!==void 0)e[0]=o;else if(i&&t){const h=i.readValue(t,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),s&&o===void 0&&s.set(e[0])}hq(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Go.delete(this)}cancel(){this.state==="scheduled"&&(Go.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Tq=n=>n.startsWith("--");function Eq(n,e,t){Tq(e)?n.style.setProperty(e,t):n.style[e]=t}const wq=JE(()=>window.ScrollTimeline!==void 0),bq={};function Aq(n,e){const t=JE(n);return()=>bq[e]??t()}const H2=Aq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qh=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,PR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qh([0,.65,.55,1]),circOut:qh([.55,0,1,.45]),backIn:qh([.31,.01,.66,-.59]),backOut:qh([.33,1.53,.69,.99])};function G2(n,e){if(n)return typeof n=="function"?H2()?j2(n,e):"ease-out":C2(n)?qh(n):Array.isArray(n)?n.map(t=>G2(t,e)||PR.easeOut):PR[n]}function Sq(n,e,t,{delay:i=0,duration:s=300,repeat:o=0,repeatType:u="loop",ease:h="easeOut",times:d}={},m=void 0){const y={[e]:t};d&&(y.offset=d);const _=G2(h,s);Array.isArray(_)&&(y.easing=_);const T={delay:i,duration:s,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"};return m&&(T.pseudoElement=m),n.animate(y,T)}function K2(n){return typeof n=="function"&&"applyToOptions"in n}function Iq({type:n,...e}){return K2(n)&&H2()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Rq extends uw{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:s,pseudoElement:o,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!o,this.allowFlatten=u,this.options=e,XE(typeof e.type!="string");const m=Iq(e);this.animation=Sq(t,i,s,m,o),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const y=lw(s,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):Eq(t,i,y),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return Vi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vi(e)}get time(){return Vi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=jr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&wq()?(this.animation.timeline=e,Oi):t(this)}}const $2={anticipate:S2,backInOut:A2,circInOut:R2};function xq(n){return n in $2}function Cq(n){typeof n.ease=="string"&&xq(n.ease)&&(n.ease=$2[n.ease])}const VR=10;class Dq extends Rq{constructor(e){Cq(e),F2(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:s,element:o,...u}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new cw({...u,autoplay:!1}),d=jr(this.finishedTime??this.time);t.setWithVelocity(h.sample(d-VR).value,h.sample(d).value,VR),h.stop()}}const MR=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(La.test(n)||n==="0")&&!n.startsWith("url("));function Nq(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Pq(n,e,t,i){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const o=n[n.length-1],u=MR(s,e),h=MR(o,e);return!u||!h?!1:Nq(n)||(t==="spring"||K2(t))&&i}function zT(n){n.duration=0,n.type="keyframes"}const Vq=new Set(["opacity","clipPath","filter","transform"]),Mq=JE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Oq(n){var y;const{motionValue:e,name:t,repeatDelay:i,repeatType:s,damping:o,type:u}=n;if(!(((y=e==null?void 0:e.owner)==null?void 0:y.current)instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=e.owner.getProps();return Mq()&&t&&Vq.has(t)&&(t!=="transform"||!m)&&!d&&!i&&s!=="mirror"&&o!==0&&u!=="inertia"}const kq=40;class Lq extends uw{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",keyframes:h,name:d,motionValue:m,element:y,..._}){var C;super(),this.stop=()=>{var P,V;this._animation&&(this._animation.stop(),(P=this.stopTimeline)==null||P.call(this)),(V=this.keyframeResolver)==null||V.cancel()},this.createdAt=ei.now();const T={autoplay:e,delay:t,type:i,repeat:s,repeatDelay:o,repeatType:u,name:d,motionValue:m,element:y,..._},b=(y==null?void 0:y.KeyframeResolver)||hw;this.keyframeResolver=new b(h,(P,V,U)=>this.onKeyframesResolved(P,V,T,!U),d,m,y),(C=this.keyframeResolver)==null||C.scheduleResolve()}onKeyframesResolved(e,t,i,s){this.keyframeResolver=void 0;const{name:o,type:u,velocity:h,delay:d,isHandoff:m,onUpdate:y}=i;this.resolvedAt=ei.now(),Pq(e,o,u,h)||((ws.instantAnimations||!d)&&(y==null||y(lw(e,i,t))),e[0]=e[e.length-1],zT(i),i.repeat=0);const T={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>kq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},b=!m&&Oq(T)?new Dq({...T,element:T.motionValue.owner.current}):new cw(T);b.finished.then(()=>this.notifyFinished()).catch(Oi),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),vq()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Uq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function jq(n){const e=Uq.exec(n);if(!e)return[,];const[,t,i,s]=e;return[`--${t??i}`,s]}function Q2(n,e,t=1){const[i,s]=jq(n);if(!i)return;const o=window.getComputedStyle(e).getPropertyValue(i);if(o){const u=o.trim();return g2(u)?parseFloat(u):u}return iw(s)?Q2(s,e,t+1):s}function dw(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const W2=new Set(["width","height","top","left","right","bottom",...pc]),Bq={test:n=>n==="auto",parse:n=>n},Y2=n=>e=>e.test(n),X2=[mc,Re,Br,ma,N8,D8,Bq],OR=n=>X2.find(Y2(n));function Fq(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||_2(n):!0}const zq=new Set(["brightness","contrast","saturate","opacity"]);function qq(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(rw)||[];if(!i)return n;const s=t.replace(i,"");let o=zq.has(e)?1:0;return i!==t&&(o*=100),e+"("+o+s+")"}const Hq=/\b([a-z-]*)\(.*?\)/gu,qT={...La,getAnimatableNone:n=>{const e=n.match(Hq);return e?e.map(qq).join(" "):n}},kR={...mc,transform:Math.round},Gq={rotate:ma,rotateX:ma,rotateY:ma,rotateZ:ma,scale:np,scaleX:np,scaleY:np,scaleZ:np,skew:ma,skewX:ma,skewY:ma,distance:Re,translateX:Re,translateY:Re,translateZ:Re,x:Re,y:Re,z:Re,perspective:Re,transformPerspective:Re,opacity:kd,originX:bR,originY:bR,originZ:Re},fw={borderWidth:Re,borderTopWidth:Re,borderRightWidth:Re,borderBottomWidth:Re,borderLeftWidth:Re,borderRadius:Re,radius:Re,borderTopLeftRadius:Re,borderTopRightRadius:Re,borderBottomRightRadius:Re,borderBottomLeftRadius:Re,width:Re,maxWidth:Re,height:Re,maxHeight:Re,top:Re,right:Re,bottom:Re,left:Re,padding:Re,paddingTop:Re,paddingRight:Re,paddingBottom:Re,paddingLeft:Re,margin:Re,marginTop:Re,marginRight:Re,marginBottom:Re,marginLeft:Re,backgroundPositionX:Re,backgroundPositionY:Re,...Gq,zIndex:kR,fillOpacity:kd,strokeOpacity:kd,numOctaves:kR},Kq={...fw,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:qT,WebkitFilter:qT},J2=n=>Kq[n];function Z2(n,e){let t=J2(n);return t!==qT&&(t=La),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const $q=new Set(["auto","none","0"]);function Qq(n,e,t){let i=0,s;for(;i<n.length&&!s;){const o=n[i];typeof o=="string"&&!$q.has(o)&&Ld(o).values.length&&(s=n[i]),i++}if(s&&t)for(const o of e)n[o]=Z2(t,s)}class Wq extends hw{constructor(e,t,i,s,o){super(e,t,i,s,o,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),iw(m))){const y=Q2(m,t.current);y!==void 0&&(e[d]=y),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!W2.has(i)||e.length!==2)return;const[s,o]=e,u=OR(s),h=OR(o);if(u!==h)if(NR(u)&&NR(h))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else Ho[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let s=0;s<e.length;s++)(e[s]===null||Fq(e[s]))&&i.push(s);i.length&&Qq(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ho[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(i,s).jump(s,!1)}measureEndState(){var h;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const s=e.getValue(t);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,u=i[o];i[o]=Ho[t](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function Yq(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const s=(t==null?void 0:t[n])??i.querySelectorAll(n);return s?Array.from(s):[]}return Array.from(n)}const eV=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function tV(n){return y2(n)&&"offsetHeight"in n}const LR=30,Xq=n=>!isNaN(parseFloat(n));class Jq{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var o;const s=ei.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=ei.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Xq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new ZE);const i=this.events[e].add(t);return e==="change"?()=>{i(),bt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ei.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>LR)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,LR);return v2(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xu(n,e){return new Jq(n,e)}const{schedule:mw}=D2(queueMicrotask,!1),Xi={x:!1,y:!1};function nV(){return Xi.x||Xi.y}function Zq(n){return n==="x"||n==="y"?Xi[n]?null:(Xi[n]=!0,()=>{Xi[n]=!1}):Xi.x||Xi.y?null:(Xi.x=Xi.y=!0,()=>{Xi.x=Xi.y=!1})}function iV(n,e){const t=Yq(n),i=new AbortController,s={passive:!0,...e,signal:i.signal};return[t,s,()=>i.abort()]}function UR(n){return!(n.pointerType==="touch"||nV())}function e7(n,e,t={}){const[i,s,o]=iV(n,t),u=h=>{if(!UR(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const y=_=>{UR(_)&&(m(_),d.removeEventListener("pointerleave",y))};d.addEventListener("pointerleave",y,s)};return i.forEach(h=>{h.addEventListener("pointerenter",u,s)}),o}const rV=(n,e)=>e?n===e?!0:rV(n,e.parentElement):!1,pw=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,t7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function n7(n){return t7.has(n.tagName)||n.tabIndex!==-1}const bp=new WeakSet;function jR(n){return e=>{e.key==="Enter"&&n(e)}}function Cv(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const i7=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=jR(()=>{if(bp.has(t))return;Cv(t,"down");const s=jR(()=>{Cv(t,"up")}),o=()=>Cv(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",o,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function BR(n){return pw(n)&&!nV()}function r7(n,e,t={}){const[i,s,o]=iV(n,t),u=h=>{const d=h.currentTarget;if(!BR(h))return;bp.add(d);const m=e(d,h),y=(b,C)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",T),bp.has(d)&&bp.delete(d),BR(b)&&typeof m=="function"&&m(b,{success:C})},_=b=>{y(b,d===window||d===document||t.useGlobalTarget||rV(d,b.target))},T=b=>{y(b,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",T,s)};return i.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",u,s),tV(h)&&(h.addEventListener("focus",m=>i7(m,s)),!n7(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}function sV(n){return y2(n)&&"ownerSVGElement"in n}function s7(n){return sV(n)&&n.tagName==="svg"}const Dn=n=>!!(n&&n.getVelocity),a7=[...X2,Jt,La],o7=n=>a7.find(Y2(n)),gw=N.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function FR(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function l7(...n){return e=>{let t=!1;const i=n.map(s=>{const o=FR(s,e);return!t&&typeof o=="function"&&(t=!0),o});if(t)return()=>{for(let s=0;s<i.length;s++){const o=i[s];typeof o=="function"?o():FR(n[s],null)}}}}function u7(...n){return N.useCallback(l7(...n),n)}class c7 extends N.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const i=t.offsetParent,s=tV(i)&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=t.offsetHeight||0,o.width=t.offsetWidth||0,o.top=t.offsetTop,o.left=t.offsetLeft,o.right=s-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h7({children:n,isPresent:e,anchorX:t,root:i}){const s=N.useId(),o=N.useRef(null),u=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=N.useContext(gw),d=u7(o,n==null?void 0:n.ref);return N.useInsertionEffect(()=>{const{width:m,height:y,top:_,left:T,right:b}=u.current;if(e||!o.current||!m||!y)return;const C=t==="left"?`left: ${T}`:`right: ${b}`;o.current.dataset.motionPopId=s;const P=document.createElement("style");h&&(P.nonce=h);const V=i??document.head;return V.appendChild(P),P.sheet&&P.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${y}px !important;
            ${C}px !important;
            top: ${_}px !important;
          }
        `),()=>{V.contains(P)&&V.removeChild(P)}},[e]),S.jsx(c7,{isPresent:e,childRef:o,sizeRef:u,children:N.cloneElement(n,{ref:d})})}const d7=({children:n,initial:e,isPresent:t,onExitComplete:i,custom:s,presenceAffectsLayout:o,mode:u,anchorX:h,root:d})=>{const m=$E(f7),y=N.useId();let _=!0,T=N.useMemo(()=>(_=!1,{id:y,initial:e,isPresent:t,custom:s,onExitComplete:b=>{m.set(b,!0);for(const C of m.values())if(!C)return;i&&i()},register:b=>(m.set(b,!1),()=>m.delete(b))}),[t,m,i]);return o&&_&&(T={...T}),N.useMemo(()=>{m.forEach((b,C)=>m.set(C,!1))},[t]),N.useEffect(()=>{!t&&!m.size&&i&&i()},[t]),u==="popLayout"&&(n=S.jsx(h7,{isPresent:t,anchorX:h,root:d,children:n})),S.jsx($g.Provider,{value:T,children:n})};function f7(){return new Map}function aV(n=!0){const e=N.useContext($g);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:s}=e,o=N.useId();N.useEffect(()=>{if(n)return s(o)},[n]);const u=N.useCallback(()=>n&&i&&i(o),[o,i,n]);return!t&&i?[!1,u]:[!0]}const ip=n=>n.key||"";function zR(n){const e=[];return N.Children.forEach(n,t=>{N.isValidElement(t)&&e.push(t)}),e}const yw=({children:n,custom:e,initial:t=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync",propagate:u=!1,anchorX:h="left",root:d})=>{const[m,y]=aV(u),_=N.useMemo(()=>zR(n),[n]),T=u&&!m?[]:_.map(ip),b=N.useRef(!0),C=N.useRef(_),P=$E(()=>new Map),[V,U]=N.useState(_),[W,F]=N.useState(_);p2(()=>{b.current=!1,C.current=_;for(let le=0;le<W.length;le++){const x=ip(W[le]);T.includes(x)?P.delete(x):P.get(x)!==!0&&P.set(x,!1)}},[W,T.length,T.join("-")]);const ae=[];if(_!==V){let le=[..._];for(let x=0;x<W.length;x++){const I=W[x],D=ip(I);T.includes(D)||(le.splice(x,0,I),ae.push(I))}return o==="wait"&&ae.length&&(le=ae),F(zR(le)),U(_),null}const{forceRender:ne}=N.useContext(KE);return S.jsx(S.Fragment,{children:W.map(le=>{const x=ip(le),I=u&&!m?!1:_===W||T.includes(x),D=()=>{if(P.has(x))P.set(x,!0);else return;let k=!0;P.forEach(L=>{L||(k=!1)}),k&&(ne==null||ne(),F(C.current),u&&(y==null||y()),i&&i())};return S.jsx(d7,{isPresent:I,initial:!b.current||t?void 0:!1,custom:e,presenceAffectsLayout:s,mode:o,root:d,onExitComplete:I?void 0:D,anchorX:h,children:le},x)})})},oV=N.createContext({strict:!1}),qR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ju={};for(const n in qR)Ju[n]={isEnabled:e=>qR[n].some(t=>!!e[t])};function m7(n){for(const e in n)Ju[e]={...Ju[e],...n[e]}}const p7=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ig(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||p7.has(n)}let lV=n=>!ig(n);function g7(n){typeof n=="function"&&(lV=e=>e.startsWith("on")?!ig(e):n(e))}try{g7(require("@emotion/is-prop-valid").default)}catch{}function y7(n,e,t){const i={};for(const s in n)s==="values"&&typeof n.values=="object"||(lV(s)||t===!0&&ig(s)||!e&&!ig(s)||n.draggable&&s.startsWith("onDrag"))&&(i[s]=n[s]);return i}const Qg=N.createContext({});function Wg(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function Ud(n){return typeof n=="string"||Array.isArray(n)}const _w=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vw=["initial",..._w];function Yg(n){return Wg(n.animate)||vw.some(e=>Ud(n[e]))}function uV(n){return!!(Yg(n)||n.variants)}function _7(n,e){if(Yg(n)){const{initial:t,animate:i}=n;return{initial:t===!1||Ud(t)?t:void 0,animate:Ud(i)?i:void 0}}return n.inherit!==!1?e:{}}function v7(n){const{initial:e,animate:t}=_7(n,N.useContext(Qg));return N.useMemo(()=>({initial:e,animate:t}),[HR(e),HR(t)])}function HR(n){return Array.isArray(n)?n.join(" "):n}const jd={};function T7(n){for(const e in n)jd[e]=n[e],nw(e)&&(jd[e].isCSSVariable=!0)}function cV(n,{layout:e,layoutId:t}){return gc.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!jd[n]||n==="opacity")}const E7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},w7=pc.length;function b7(n,e,t){let i="",s=!0;for(let o=0;o<w7;o++){const u=pc[o],h=n[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||t){const m=eV(h,fw[u]);if(!d){s=!1;const y=E7[u]||u;i+=`${y}(${m}) `}t&&(e[u]=m)}}return i=i.trim(),t?i=t(e,s?"":i):s&&(i="none"),i}function Tw(n,e,t){const{style:i,vars:s,transformOrigin:o}=n;let u=!1,h=!1;for(const d in e){const m=e[d];if(gc.has(d)){u=!0;continue}else if(nw(d)){s[d]=m;continue}else{const y=eV(m,fw[d]);d.startsWith("origin")?(h=!0,o[d]=y):i[d]=y}}if(e.transform||(u||t?i.transform=b7(e,n.transform,t):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:y=0}=o;i.transformOrigin=`${d} ${m} ${y}`}}const Ew=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hV(n,e,t){for(const i in e)!Dn(e[i])&&!cV(i,t)&&(n[i]=e[i])}function A7({transformTemplate:n},e){return N.useMemo(()=>{const t=Ew();return Tw(t,e,n),Object.assign({},t.vars,t.style)},[e])}function S7(n,e){const t=n.style||{},i={};return hV(i,t,n),Object.assign(i,A7(n,e)),i}function I7(n,e){const t={},i=S7(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const R7={offset:"stroke-dashoffset",array:"stroke-dasharray"},x7={offset:"strokeDashoffset",array:"strokeDasharray"};function C7(n,e,t=1,i=0,s=!0){n.pathLength=1;const o=s?R7:x7;n[o.offset]=Re.transform(-i);const u=Re.transform(e),h=Re.transform(t);n[o.array]=`${u} ${h}`}function dV(n,{attrX:e,attrY:t,attrScale:i,pathLength:s,pathSpacing:o=1,pathOffset:u=0,...h},d,m,y){if(Tw(n,h,m),d){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:_,style:T}=n;_.transform&&(T.transform=_.transform,delete _.transform),(T.transform||_.transformOrigin)&&(T.transformOrigin=_.transformOrigin??"50% 50%",delete _.transformOrigin),T.transform&&(T.transformBox=(y==null?void 0:y.transformBox)??"fill-box",delete _.transformBox),e!==void 0&&(_.x=e),t!==void 0&&(_.y=t),i!==void 0&&(_.scale=i),s!==void 0&&C7(_,s,o,u,!1)}const fV=()=>({...Ew(),attrs:{}}),mV=n=>typeof n=="string"&&n.toLowerCase()==="svg";function D7(n,e,t,i){const s=N.useMemo(()=>{const o=fV();return dV(o,e,mV(i),n.transformTemplate,n.style),{...o.attrs,style:{...o.style}}},[e]);if(n.style){const o={};hV(o,n.style,n),s.style={...o,...s.style}}return s}const N7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ww(n){return typeof n!="string"||n.includes("-")?!1:!!(N7.indexOf(n)>-1||/[A-Z]/u.test(n))}function P7(n,e,t,{latestValues:i},s,o=!1){const h=(ww(n)?D7:I7)(e,i,s,n),d=y7(e,typeof n=="string",o),m=n!==N.Fragment?{...d,...h,ref:t}:{},{children:y}=e,_=N.useMemo(()=>Dn(y)?y.get():y,[y]);return N.createElement(n,{...m,children:_})}function GR(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function bw(n,e,t,i){if(typeof e=="function"){const[s,o]=GR(i);e=e(t!==void 0?t:n.custom,s,o)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,o]=GR(i);e=e(t!==void 0?t:n.custom,s,o)}return e}function Ap(n){return Dn(n)?n.get():n}function V7({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,s){return{latestValues:M7(t,i,s,n),renderState:e()}}function M7(n,e,t,i){const s={},o=i(n,{});for(const T in o)s[T]=Ap(o[T]);let{initial:u,animate:h}=n;const d=Yg(n),m=uV(n);e&&m&&!d&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=t?t.initial===!1:!1;y=y||u===!1;const _=y?h:u;if(_&&typeof _!="boolean"&&!Wg(_)){const T=Array.isArray(_)?_:[_];for(let b=0;b<T.length;b++){const C=bw(n,T[b]);if(C){const{transitionEnd:P,transition:V,...U}=C;for(const W in U){let F=U[W];if(Array.isArray(F)){const ae=y?F.length-1:0;F=F[ae]}F!==null&&(s[W]=F)}for(const W in P)s[W]=P[W]}}}return s}const pV=n=>(e,t)=>{const i=N.useContext(Qg),s=N.useContext($g),o=()=>V7(n,e,i,s);return t?o():$E(o)};function Aw(n,e,t){var o;const{style:i}=n,s={};for(const u in i)(Dn(i[u])||e.style&&Dn(e.style[u])||cV(u,n)||((o=t==null?void 0:t.getValue(u))==null?void 0:o.liveStyle)!==void 0)&&(s[u]=i[u]);return s}const O7=pV({scrapeMotionValuesFromProps:Aw,createRenderState:Ew});function gV(n,e,t){const i=Aw(n,e,t);for(const s in n)if(Dn(n[s])||Dn(e[s])){const o=pc.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;i[o]=n[s]}return i}const k7=pV({scrapeMotionValuesFromProps:gV,createRenderState:fV}),L7=Symbol.for("motionComponentSymbol");function yu(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function U7(n,e,t){return N.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):yu(t)&&(t.current=i))},[e])}const Sw=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),j7="framerAppearId",yV="data-"+Sw(j7),_V=N.createContext({});function B7(n,e,t,i,s){var P,V;const{visualElement:o}=N.useContext(Qg),u=N.useContext(oV),h=N.useContext($g),d=N.useContext(gw).reducedMotion,m=N.useRef(null);i=i||u.renderer,!m.current&&i&&(m.current=i(n,{visualState:e,parent:o,props:t,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const y=m.current,_=N.useContext(_V);y&&!y.projection&&s&&(y.type==="html"||y.type==="svg")&&F7(m.current,t,s,_);const T=N.useRef(!1);N.useInsertionEffect(()=>{y&&T.current&&y.update(t,h)});const b=t[yV],C=N.useRef(!!b&&!((P=window.MotionHandoffIsComplete)!=null&&P.call(window,b))&&((V=window.MotionHasOptimisedAnimation)==null?void 0:V.call(window,b)));return p2(()=>{y&&(T.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),y.scheduleRenderMicrotask(),C.current&&y.animationState&&y.animationState.animateChanges())}),N.useEffect(()=>{y&&(!C.current&&y.animationState&&y.animationState.animateChanges(),C.current&&(queueMicrotask(()=>{var U;(U=window.MotionHandoffMarkAsComplete)==null||U.call(window,b)}),C.current=!1),y.enteringChildren=void 0)}),y}function F7(n,e,t,i){const{layoutId:s,layout:o,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:y}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:vV(n.parent)),n.projection.setOptions({layoutId:s,layout:o,alwaysMeasureLayout:!!u||h&&yu(h),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:d,layoutRoot:m})}function vV(n){if(n)return n.options.allowProjection!==!1?n.projection:vV(n.parent)}function Dv(n,{forwardMotionProps:e=!1}={},t,i){t&&m7(t);const s=ww(n)?k7:O7;function o(h,d){let m;const y={...N.useContext(gw),...h,layoutId:z7(h)},{isStatic:_}=y,T=v7(h),b=s(h,_);if(!_&&QE){q7();const C=H7(y);m=C.MeasureLayout,T.visualElement=B7(n,b,y,i,C.ProjectionNode)}return S.jsxs(Qg.Provider,{value:T,children:[m&&T.visualElement?S.jsx(m,{visualElement:T.visualElement,...y}):null,P7(n,h,U7(b,T.visualElement,d),b,_,e)]})}o.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=N.forwardRef(o);return u[L7]=n,u}function z7({layoutId:n}){const e=N.useContext(KE).id;return e&&n!==void 0?e+"-"+n:n}function q7(n,e){N.useContext(oV).strict}function H7(n){const{drag:e,layout:t}=Ju;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function G7(n,e){if(typeof Proxy>"u")return Dv;const t=new Map,i=(o,u)=>Dv(o,u,n,e),s=(o,u)=>i(o,u);return new Proxy(s,{get:(o,u)=>u==="create"?i:(t.has(u)||t.set(u,Dv(u,void 0,n,e)),t.get(u))})}function TV({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function K7({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function $7(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}function Nv(n){return n===void 0||n===1}function HT({scale:n,scaleX:e,scaleY:t}){return!Nv(n)||!Nv(e)||!Nv(t)}function Co(n){return HT(n)||EV(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function EV(n){return KR(n.x)||KR(n.y)}function KR(n){return n&&n!=="0%"}function rg(n,e,t){const i=n-t,s=e*i;return t+s}function $R(n,e,t,i,s){return s!==void 0&&(n=rg(n,s,i)),rg(n,t,i)+e}function GT(n,e=0,t=1,i,s){n.min=$R(n.min,e,t,i,s),n.max=$R(n.max,e,t,i,s)}function wV(n,{x:e,y:t}){GT(n.x,e.translate,e.scale,e.originPoint),GT(n.y,t.translate,t.scale,t.originPoint)}const QR=.999999999999,WR=1.0000000000001;function Q7(n,e,t,i=!1){const s=t.length;if(!s)return;e.x=e.y=1;let o,u;for(let h=0;h<s;h++){o=t[h],u=o.projectionDelta;const{visualElement:d}=o.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&vu(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,wV(n,u)),i&&Co(o.latestValues)&&vu(n,o.latestValues))}e.x<WR&&e.x>QR&&(e.x=1),e.y<WR&&e.y>QR&&(e.y=1)}function _u(n,e){n.min=n.min+e,n.max=n.max+e}function YR(n,e,t,i,s=.5){const o=St(n.min,n.max,s);GT(n,e,t,o,i)}function vu(n,e){YR(n.x,e.x,e.scaleX,e.scale,e.originX),YR(n.y,e.y,e.scaleY,e.scale,e.originY)}function bV(n,e){return TV($7(n.getBoundingClientRect(),e))}function W7(n,e,t){const i=bV(n,t),{scroll:s}=e;return s&&(_u(i.x,s.offset.x),_u(i.y,s.offset.y)),i}const XR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tu=()=>({x:XR(),y:XR()}),JR=()=>({min:0,max:0}),sn=()=>({x:JR(),y:JR()}),KT={current:null},AV={current:!1};function Y7(){if(AV.current=!0,!!QE)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>KT.current=n.matches;n.addEventListener("change",e),e()}else KT.current=!1}const X7=new WeakMap;function J7(n,e,t){for(const i in e){const s=e[i],o=t[i];if(Dn(s))n.addValue(i,s);else if(Dn(o))n.addValue(i,Xu(s,{owner:n}));else if(o!==s)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=n.getStaticValue(i);n.addValue(i,Xu(u!==void 0?u:s,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const ZR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Z7{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:s,blockInitialAnimation:o,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=hw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const T=ei.now();this.renderScheduledAt<T&&(this.renderScheduledAt=T,bt.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=Yg(t),this.isVariantNode=uV(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,..._}=this.scrapeMotionValuesFromProps(t,{},this);for(const T in _){const b=_[T];d[T]!==void 0&&Dn(b)&&b.set(d[T])}}mount(e){var t;this.current=e,X7.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,s)=>this.bindToMotionValue(s,i)),AV.current||Y7(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:KT.current,(t=this.parent)==null||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),ka(this.notifyUpdate),ka(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const i=this.features[t];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=gc.has(e);i&&this.onBindTransform&&this.onBindTransform();const s=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&bt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),o&&o(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ju){const t=Ju[e];if(!t)continue;const{isEnabled:i,Feature:s}=t;if(!this.features[e]&&s&&i(this.props)&&(this.features[e]=new s(this)),this.features[e]){const o=this.features[e];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<ZR.length;i++){const s=ZR[i];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const o="on"+s,u=e[o];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=J7(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=Xu(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(g2(i)||_2(i))?i=parseFloat(i):!o7(i)&&La.test(t)&&(i=Z2(e,t)),this.setBaseTarget(e,Dn(i)?i.get():i)),Dn(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var o;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const u=bw(this.props,t,(o=this.presenceContext)==null?void 0:o.custom);u&&(i=u[e])}if(t&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Dn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new ZE),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){mw.render(this.render)}}class SV extends Z7{constructor(){super(...arguments),this.KeyframeResolver=Wq}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Dn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function IV(n,{style:e,vars:t},i,s){const o=n.style;let u;for(u in e)o[u]=e[u];s==null||s.applyProjectionStyles(o,i);for(u in t)o.setProperty(u,t[u])}function eH(n){return window.getComputedStyle(n)}class tH extends SV{constructor(){super(...arguments),this.type="html",this.renderInstance=IV}readValueFromInstance(e,t){var i;if(gc.has(t))return(i=this.projection)!=null&&i.isProjecting?LT(t):mq(e,t);{const s=eH(e),o=(nw(t)?s.getPropertyValue(t):s[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return bV(e,t)}build(e,t,i){Tw(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return Aw(e,t,i)}}const RV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nH(n,e,t,i){IV(n,e,void 0,i);for(const s in e.attrs)n.setAttribute(RV.has(s)?s:Sw(s),e.attrs[s])}class iH extends SV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(gc.has(t)){const i=J2(t);return i&&i.default||0}return t=RV.has(t)?t:Sw(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return gV(e,t,i)}build(e,t,i){dV(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,s){nH(e,t,i,s)}mount(e){this.isSVGTag=mV(e.tagName),super.mount(e)}}const rH=(n,e)=>ww(n)?new iH(e):new tH(e,{allowProjection:n!==N.Fragment});function Ru(n,e,t){const i=n.getProps();return bw(i,e,t!==void 0?t:i.custom,n)}const $T=n=>Array.isArray(n);function sH(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Xu(t))}function aH(n){return $T(n)?n[n.length-1]||0:n}function oH(n,e){const t=Ru(n,e);let{transitionEnd:i={},transition:s={},...o}=t||{};o={...o,...i};for(const u in o){const h=aH(o[u]);sH(n,u,h)}}function lH(n){return!!(Dn(n)&&n.add)}function QT(n,e){const t=n.getValue("willChange");if(lH(t))return t.add(e);if(!t&&ws.WillChange){const i=new ws.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function xV(n){return n.props[yV]}const uH=n=>n!==null;function cH(n,{repeat:e,repeatType:t="loop"},i){const s=n.filter(uH),o=e&&t!=="loop"&&e%2===1?0:s.length-1;return s[o]}const hH={type:"spring",stiffness:500,damping:25,restSpeed:10},dH=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),fH={type:"keyframes",duration:.8},mH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pH=(n,{keyframes:e})=>e.length>2?fH:gc.has(n)?n.startsWith("scale")?dH(e[1]):hH:mH;function gH({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:s,repeat:o,repeatType:u,repeatDelay:h,from:d,elapsed:m,...y}){return!!Object.keys(y).length}const Iw=(n,e,t,i={},s,o)=>u=>{const h=dw(i,n)||{},d=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-jr(d);const y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:T=>{e.set(T),h.onUpdate&&h.onUpdate(T)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:o?void 0:s};gH(h)||Object.assign(y,pH(n,y)),y.duration&&(y.duration=jr(y.duration)),y.repeatDelay&&(y.repeatDelay=jr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(zT(y),y.delay===0&&(_=!0)),(ws.instantAnimations||ws.skipAnimations)&&(_=!0,zT(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,_&&!o&&e.get()!==void 0){const T=cH(y.keyframes,h);if(T!==void 0){bt.update(()=>{y.onUpdate(T),y.onComplete()});return}}return h.isSync?new cw(y):new Lq(y)};function yH({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function CV(n,e,{delay:t=0,transitionOverride:i,type:s}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(o=i);const d=[],m=s&&n.animationState&&n.animationState.getState()[s];for(const y in h){const _=n.getValue(y,n.latestValues[y]??null),T=h[y];if(T===void 0||m&&yH(m,y))continue;const b={delay:t,...dw(o||{},y)},C=_.get();if(C!==void 0&&!_.isAnimating&&!Array.isArray(T)&&T===C&&!b.velocity)continue;let P=!1;if(window.MotionHandoffAnimation){const U=xV(n);if(U){const W=window.MotionHandoffAnimation(U,y,bt);W!==null&&(b.startTime=W,P=!0)}}QT(n,y),_.start(Iw(y,_,T,n.shouldReduceMotion&&W2.has(y)?{type:!1}:b,n,P));const V=_.animation;V&&d.push(V)}return u&&Promise.all(d).then(()=>{bt.update(()=>{u&&oH(n,u)})}),d}function DV(n,e,t,i=0,s=1){const o=Array.from(n).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),u=n.size,h=(u-1)*i;return typeof t=="function"?t(o,u):s===1?o*i:h-o*i}function WT(n,e,t={}){var d;const i=Ru(n,e,t.type==="exit"?(d=n.presenceContext)==null?void 0:d.custom:void 0);let{transition:s=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(s=t.transitionOverride);const o=i?()=>Promise.all(CV(n,i,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:T}=s;return _H(n,e,m,y,_,T,t)}:()=>Promise.resolve(),{when:h}=s;if(h){const[m,y]=h==="beforeChildren"?[o,u]:[u,o];return m().then(()=>y())}else return Promise.all([o(),u(t.delay)])}function _H(n,e,t=0,i=0,s=0,o=1,u){const h=[];for(const d of n.variantChildren)d.notify("AnimationStart",e),h.push(WT(d,e,{...u,delay:t+(typeof i=="function"?0:i)+DV(n.variantChildren,d,i,s,o)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(h)}function vH(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const s=e.map(o=>WT(n,o,t));i=Promise.all(s)}else if(typeof e=="string")i=WT(n,e,t);else{const s=typeof e=="function"?Ru(n,e,t.custom):e;i=Promise.all(CV(n,s,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function NV(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const TH=vw.length;function PV(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?PV(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<TH;t++){const i=vw[t],s=n.props[i];(Ud(s)||s===!1)&&(e[i]=s)}return e}const EH=[..._w].reverse(),wH=_w.length;function bH(n){return e=>Promise.all(e.map(({animation:t,options:i})=>vH(n,t,i)))}function AH(n){let e=bH(n),t=ex(),i=!0;const s=d=>(m,y)=>{var T;const _=Ru(n,y,d==="exit"?(T=n.presenceContext)==null?void 0:T.custom:void 0);if(_){const{transition:b,transitionEnd:C,...P}=_;m={...m,...P,...C}}return m};function o(d){e=d(n)}function u(d){const{props:m}=n,y=PV(n.parent)||{},_=[],T=new Set;let b={},C=1/0;for(let V=0;V<wH;V++){const U=EH[V],W=t[U],F=m[U]!==void 0?m[U]:y[U],ae=Ud(F),ne=U===d?W.isActive:null;ne===!1&&(C=V);let le=F===y[U]&&F!==m[U]&&ae;if(le&&i&&n.manuallyAnimateOnMount&&(le=!1),W.protectedKeys={...b},!W.isActive&&ne===null||!F&&!W.prevProp||Wg(F)||typeof F=="boolean")continue;const x=SH(W.prevProp,F);let I=x||U===d&&W.isActive&&!le&&ae||V>C&&ae,D=!1;const k=Array.isArray(F)?F:[F];let L=k.reduce(s(U),{});ne===!1&&(L={});const{prevResolvedValues:z={}}=W,M={...z,...L},Ke=re=>{I=!0,T.has(re)&&(D=!0,T.delete(re)),W.needsAnimating[re]=!0;const fe=n.getValue(re);fe&&(fe.liveStyle=!1)};for(const re in M){const fe=L[re],Ie=z[re];if(b.hasOwnProperty(re))continue;let he=!1;$T(fe)&&$T(Ie)?he=!NV(fe,Ie):he=fe!==Ie,he?fe!=null?Ke(re):T.add(re):fe!==void 0&&T.has(re)?Ke(re):W.protectedKeys[re]=!0}W.prevProp=F,W.prevResolvedValues=L,W.isActive&&(b={...b,...L}),i&&n.blockInitialAnimation&&(I=!1);const ut=le&&x;I&&(!ut||D)&&_.push(...k.map(re=>{const fe={type:U};if(typeof re=="string"&&i&&!ut&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ie}=n,he=Ru(Ie,re);if(Ie.enteringChildren&&he){const{delayChildren:j}=he.transition||{};fe.delay=DV(Ie.enteringChildren,n,j)}}return{animation:re,options:fe}}))}if(T.size){const V={};if(typeof m.initial!="boolean"){const U=Ru(n,Array.isArray(m.initial)?m.initial[0]:m.initial);U&&U.transition&&(V.transition=U.transition)}T.forEach(U=>{const W=n.getBaseTarget(U),F=n.getValue(U);F&&(F.liveStyle=!0),V[U]=W??null}),_.push({animation:V})}let P=!!_.length;return i&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(P=!1),i=!1,P?e(_):Promise.resolve()}function h(d,m){var _;if(t[d].isActive===m)return Promise.resolve();(_=n.variantChildren)==null||_.forEach(T=>{var b;return(b=T.animationState)==null?void 0:b.setActive(d,m)}),t[d].isActive=m;const y=u(d);for(const T in t)t[T].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:o,getState:()=>t,reset:()=>{t=ex()}}}function SH(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!NV(e,n):!1}function So(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ex(){return{animate:So(!0),whileInView:So(),whileHover:So(),whileTap:So(),whileDrag:So(),whileFocus:So(),exit:So()}}class Ga{constructor(e){this.isMounted=!1,this.node=e}update(){}}class IH extends Ga{constructor(e){super(e),e.animationState||(e.animationState=AH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let RH=0;class xH extends Ga{constructor(){super(...arguments),this.id=RH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const CH={animation:{Feature:IH},exit:{Feature:xH}};function Bd(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function gf(n){return{point:{x:n.pageX,y:n.pageY}}}const DH=n=>e=>pw(e)&&n(e,gf(e));function od(n,e,t,i){return Bd(n,e,DH(t),i)}const VV=1e-4,NH=1-VV,PH=1+VV,MV=.01,VH=0-MV,MH=0+MV;function Un(n){return n.max-n.min}function OH(n,e,t){return Math.abs(n-e)<=t}function tx(n,e,t,i=.5){n.origin=i,n.originPoint=St(e.min,e.max,n.origin),n.scale=Un(t)/Un(e),n.translate=St(t.min,t.max,n.origin)-n.originPoint,(n.scale>=NH&&n.scale<=PH||isNaN(n.scale))&&(n.scale=1),(n.translate>=VH&&n.translate<=MH||isNaN(n.translate))&&(n.translate=0)}function ld(n,e,t,i){tx(n.x,e.x,t.x,i?i.originX:void 0),tx(n.y,e.y,t.y,i?i.originY:void 0)}function nx(n,e,t){n.min=t.min+e.min,n.max=n.min+Un(e)}function kH(n,e,t){nx(n.x,e.x,t.x),nx(n.y,e.y,t.y)}function ix(n,e,t){n.min=e.min-t.min,n.max=n.min+Un(e)}function sg(n,e,t){ix(n.x,e.x,t.x),ix(n.y,e.y,t.y)}function Ni(n){return[n("x"),n("y")]}const OV=({current:n})=>n?n.ownerDocument.defaultView:null,rx=(n,e)=>Math.abs(n-e);function LH(n,e){const t=rx(n.x,e.x),i=rx(n.y,e.y);return Math.sqrt(t**2+i**2)}class kV{constructor(e,t,{transformPagePoint:i,contextWindow:s=window,dragSnapToOrigin:o=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=Vv(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,C=LH(T.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!C)return;const{point:P}=T,{timestamp:V}=En;this.history.push({...P,timestamp:V});const{onStart:U,onMove:W}=this.handlers;b||(U&&U(this.lastMoveEvent,T),this.startEvent=this.lastMoveEvent),W&&W(this.lastMoveEvent,T)},this.handlePointerMove=(T,b)=>{this.lastMoveEvent=T,this.lastMoveEventInfo=Pv(b,this.transformPagePoint),bt.update(this.updatePoint,!0)},this.handlePointerUp=(T,b)=>{this.end();const{onEnd:C,onSessionEnd:P,resumeAnimation:V}=this.handlers;if(this.dragSnapToOrigin&&V&&V(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const U=Vv(T.type==="pointercancel"?this.lastMoveEventInfo:Pv(b,this.transformPagePoint),this.history);this.startEvent&&C&&C(T,U),P&&P(T,U)},!pw(e))return;this.dragSnapToOrigin=o,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=s||window;const h=gf(e),d=Pv(h,this.transformPagePoint),{point:m}=d,{timestamp:y}=En;this.history=[{...m,timestamp:y}];const{onSessionStart:_}=t;_&&_(e,Vv(d,this.history)),this.removeListeners=ff(od(this.contextWindow,"pointermove",this.handlePointerMove),od(this.contextWindow,"pointerup",this.handlePointerUp),od(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ka(this.updatePoint)}}function Pv(n,e){return e?{point:e(n.point)}:n}function sx(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Vv({point:n},e){return{point:n,delta:sx(n,LV(e)),offset:sx(n,UH(e)),velocity:jH(e,.1)}}function UH(n){return n[0]}function LV(n){return n[n.length-1]}function jH(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const s=LV(n);for(;t>=0&&(i=n[t],!(s.timestamp-i.timestamp>jr(e)));)t--;if(!i)return{x:0,y:0};const o=Vi(s.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const u={x:(s.x-i.x)/o,y:(s.y-i.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function BH(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?St(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?St(t,n,i.max):Math.min(n,t)),n}function ax(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function FH(n,{top:e,left:t,bottom:i,right:s}){return{x:ax(n.x,t,s),y:ax(n.y,e,i)}}function ox(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function zH(n,e){return{x:ox(n.x,e.x),y:ox(n.y,e.y)}}function qH(n,e){let t=.5;const i=Un(n),s=Un(e);return s>i?t=Od(e.min,e.max-i,n.min):i>s&&(t=Od(n.min,n.max-s,e.min)),Es(0,1,t)}function HH(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const YT=.35;function GH(n=YT){return n===!1?n=0:n===!0&&(n=YT),{x:lx(n,"left","right"),y:lx(n,"top","bottom")}}function lx(n,e,t){return{min:ux(n,e),max:ux(n,t)}}function ux(n,e){return typeof n=="number"?n:n[e]||0}const KH=new WeakMap;class $H{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=_=>{const{dragSnapToOrigin:T}=this.getProps();T?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(gf(_).point)},u=(_,T)=>{const{drag:b,dragPropagation:C,onDragStart:P}=this.getProps();if(b&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Zq(b),!this.openDragLock))return;this.latestPointerEvent=_,this.latestPanInfo=T,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ni(U=>{let W=this.getAxisMotionValue(U).get()||0;if(Br.test(W)){const{projection:F}=this.visualElement;if(F&&F.layout){const ae=F.layout.layoutBox[U];ae&&(W=Un(ae)*(parseFloat(W)/100))}}this.originPoint[U]=W}),P&&bt.postRender(()=>P(_,T)),QT(this.visualElement,"transform");const{animationState:V}=this.visualElement;V&&V.setActive("whileDrag",!0)},h=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T;const{dragPropagation:b,dragDirectionLock:C,onDirectionLock:P,onDrag:V}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:U}=T;if(C&&this.currentDirection===null){this.currentDirection=QH(U),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",T.point,U),this.updateAxis("y",T.point,U),this.visualElement.render(),V&&V(_,T)},d=(_,T)=>{this.latestPointerEvent=_,this.latestPanInfo=T,this.stop(_,T),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>Ni(_=>{var T;return this.getAnimationState(_)==="paused"&&((T=this.getAxisMotionValue(_).animation)==null?void 0:T.play())}),{dragSnapToOrigin:y}=this.getProps();this.panSession=new kV(e,{onSessionStart:o,onStart:u,onMove:h,onSessionEnd:d,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:OV(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,s=t||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!s||!i)return;const{velocity:u}=s;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&bt.postRender(()=>h(i,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:s}=this.getProps();if(!i||!rp(e,s,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=BH(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){var o;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,s=this.constraints;e&&yu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=FH(i.layoutBox,e):this.constraints=!1,this.elastic=GH(t),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ni(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=HH(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!yu(e))return!1;const i=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const o=W7(i,s.root,this.visualElement.getTransformPagePoint());let u=zH(s.layout.layoutBox,o);if(t){const h=t(K7(u));this.hasMutatedConstraints=!!h,h&&(u=TV(h))}return u}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:s,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=Ni(y=>{if(!rp(y,t,this.currentDirection))return;let _=d&&d[y]||{};u&&(_={min:0,max:0});const T=s?200:1e6,b=s?40:1e7,C={type:"inertia",velocity:i?e[y]:0,bounceStiffness:T,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...o,..._};return this.startAxisValueAnimation(y,C)});return Promise.all(m).then(h)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return QT(this.visualElement,e),i.start(Iw(e,i,0,t,this.visualElement,!1))}stopAnimation(){Ni(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ni(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),s=i[t];return s||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ni(t=>{const{drag:i}=this.getProps();if(!rp(t,i,this.currentDirection))return;const{projection:s}=this.visualElement,o=this.getAxisMotionValue(t);if(s&&s.layout){const{min:u,max:h}=s.layout.layoutBox[t];o.set(e[t]-St(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!yu(t)||!i||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ni(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();s[u]=qH({min:d,max:d},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ni(u=>{if(!rp(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];h.set(St(d,m,s[u]))})}addListeners(){if(!this.visualElement.current)return;KH.set(this.visualElement,this);const e=this.visualElement.current,t=od(e,"pointerdown",d=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();yu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,o=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),bt.read(i);const u=Bd(window,"resize",()=>this.scalePositionWithinConstraints()),h=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(Ni(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=d[y].translate,_.set(_.get()+d[y].translate))}),this.visualElement.render())}));return()=>{u(),t(),o(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:s=!1,dragConstraints:o=!1,dragElastic:u=YT,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:s,dragConstraints:o,dragElastic:u,dragMomentum:h}}}function rp(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function QH(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class WH extends Ga{constructor(e){super(e),this.removeGroupControls=Oi,this.removeListeners=Oi,this.controls=new $H(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oi}unmount(){this.removeGroupControls(),this.removeListeners()}}const cx=n=>(e,t)=>{n&&bt.postRender(()=>n(e,t))};class YH extends Ga{constructor(){super(...arguments),this.removePointerDownListener=Oi}onPointerDown(e){this.session=new kV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:OV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:s}=this.node.getProps();return{onSessionStart:cx(e),onStart:cx(t),onMove:i,onEnd:(o,u)=>{delete this.session,s&&bt.postRender(()=>s(o,u))}}}mount(){this.removePointerDownListener=od(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hx(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Vh={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Re.test(n))n=parseFloat(n);else return n;const t=hx(n,e.target.x),i=hx(n,e.target.y);return`${t}% ${i}%`}},XH={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,s=La.parse(n);if(s.length>5)return i;const o=La.createTransformer(n),u=typeof s[0]!="number"?1:0,h=t.x.scale*e.x,d=t.y.scale*e.y;s[0+u]/=h,s[1+u]/=d;const m=St(h,d,.5);return typeof s[2+u]=="number"&&(s[2+u]/=m),typeof s[3+u]=="number"&&(s[3+u]/=m),o(s)}};let Mv=!1;class JH extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:s}=this.props,{projection:o}=e;T7(ZH),o&&(t.group&&t.group.add(o),i&&i.register&&s&&i.register(o),Mv&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Sp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:s,isPresent:o}=this.props,{projection:u}=i;return u&&(u.isPresent=o,Mv=!0,s||e.layoutDependency!==t||t===void 0||e.isPresent!==o?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||bt.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),mw.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:s}=e;Mv=!0,s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),i&&i.deregister&&i.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function UV(n){const[e,t]=aV(),i=N.useContext(KE);return S.jsx(JH,{...n,layoutGroup:i,switchLayoutGroup:N.useContext(_V),isPresent:e,safeToRemove:t})}const ZH={borderRadius:{...Vh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vh,borderTopRightRadius:Vh,borderBottomLeftRadius:Vh,borderBottomRightRadius:Vh,boxShadow:XH};function eG(n,e,t){const i=Dn(n)?n:Xu(n);return i.start(Iw("",i,e,t)),i.animation}const tG=(n,e)=>n.depth-e.depth;class nG{constructor(){this.children=[],this.isDirty=!1}add(e){WE(this.children,e),this.isDirty=!0}remove(e){YE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tG),this.isDirty=!1,this.children.forEach(e)}}function iG(n,e){const t=ei.now(),i=({timestamp:s})=>{const o=s-t;o>=e&&(ka(i),n(o-e))};return bt.setup(i,!0),()=>ka(i)}const jV=["TopLeft","TopRight","BottomLeft","BottomRight"],rG=jV.length,dx=n=>typeof n=="string"?parseFloat(n):n,fx=n=>typeof n=="number"||Re.test(n);function sG(n,e,t,i,s,o){s?(n.opacity=St(0,t.opacity??1,aG(i)),n.opacityExit=St(e.opacity??1,0,oG(i))):o&&(n.opacity=St(e.opacity??1,t.opacity??1,i));for(let u=0;u<rG;u++){const h=`border${jV[u]}Radius`;let d=mx(e,h),m=mx(t,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||fx(d)===fx(m)?(n[h]=Math.max(St(dx(d),dx(m),i),0),(Br.test(m)||Br.test(d))&&(n[h]+="%")):n[h]=m}(e.rotate||t.rotate)&&(n.rotate=St(e.rotate||0,t.rotate||0,i))}function mx(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const aG=BV(0,.5,I2),oG=BV(.5,.95,Oi);function BV(n,e,t){return i=>i<n?0:i>e?1:t(Od(n,e,i))}function px(n,e){n.min=e.min,n.max=e.max}function Yi(n,e){px(n.x,e.x),px(n.y,e.y)}function gx(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function yx(n,e,t,i,s){return n-=e,n=rg(n,1/t,i),s!==void 0&&(n=rg(n,1/s,i)),n}function lG(n,e=0,t=1,i=.5,s,o=n,u=n){if(Br.test(e)&&(e=parseFloat(e),e=St(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=St(o.min,o.max,i);n===o&&(h-=e),n.min=yx(n.min,e,t,h,s),n.max=yx(n.max,e,t,h,s)}function _x(n,e,[t,i,s],o,u){lG(n,e[t],e[i],e[s],e.scale,o,u)}const uG=["x","scaleX","originX"],cG=["y","scaleY","originY"];function vx(n,e,t,i){_x(n.x,e,uG,t?t.x:void 0,i?i.x:void 0),_x(n.y,e,cG,t?t.y:void 0,i?i.y:void 0)}function Tx(n){return n.translate===0&&n.scale===1}function FV(n){return Tx(n.x)&&Tx(n.y)}function Ex(n,e){return n.min===e.min&&n.max===e.max}function hG(n,e){return Ex(n.x,e.x)&&Ex(n.y,e.y)}function wx(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function zV(n,e){return wx(n.x,e.x)&&wx(n.y,e.y)}function bx(n){return Un(n.x)/Un(n.y)}function Ax(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class dG{constructor(){this.members=[]}add(e){WE(this.members,e),e.scheduleRender()}remove(e){if(YE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let i;for(let s=t;s>=0;s--){const o=this.members[s];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fG(n,e,t){let i="";const s=n.x.translate/e.x,o=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((s||o||u)&&(i=`translate3d(${s}px, ${o}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:y,rotateX:_,rotateY:T,skewX:b,skewY:C}=t;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),_&&(i+=`rotateX(${_}deg) `),T&&(i+=`rotateY(${T}deg) `),b&&(i+=`skewX(${b}deg) `),C&&(i+=`skewY(${C}deg) `)}const h=n.x.scale*e.x,d=n.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const Ov=["","X","Y","Z"],mG=1e3;let pG=0;function kv(n,e,t,i){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),i&&(i[n]=0))}function qV(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=xV(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",bt,!(s||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&qV(i)}function HV({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:s}){return class{constructor(u={},h=e==null?void 0:e()){this.id=pG++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_G),this.nodes.forEach(wG),this.nodes.forEach(bG),this.nodes.forEach(vG)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new nG)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new ZE),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=sV(u)&&!s7(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),n){let y,_=0;const T=()=>this.root.updateBlockedByResize=!1;bt.read(()=>{_=window.innerWidth}),n(u,()=>{const b=window.innerWidth;b!==_&&(_=b,this.root.updateBlockedByResize=!0,y&&y(),y=iG(T,250),Sp.hasAnimatedSinceResize&&(Sp.hasAnimatedSinceResize=!1,this.nodes.forEach(Rx)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:_,hasRelativeLayoutChanged:T,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||m.getDefaultTransition()||xG,{onLayoutAnimationStart:P,onLayoutAnimationComplete:V}=m.getProps(),U=!this.targetLayout||!zV(this.targetLayout,b),W=!_&&T;if(this.options.layoutRoot||this.resumeFrom||W||_&&(U||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const F={...dw(C,"layout"),onPlay:P,onComplete:V};(m.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F),this.setAnimationOrigin(y,W)}else _||Rx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ka(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AG),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&qV(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Sx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Ix);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(EG),this.nodes.forEach(gG),this.nodes.forEach(yG)):this.nodes.forEach(Ix),this.clearAllSnapshots();const h=ei.now();En.delta=Es(0,1e3/60,h-En.timestamp),En.timestamp=h,En.isProcessing=!0,Av.update.process(En),Av.preRender.process(En),Av.render.process(En),En.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TG),this.sharedNodes.forEach(SG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Un(this.snapshot.measuredBox.x)&&!Un(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!FV(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||Co(this.latestValues)||y)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),CG(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return sn();const h=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(DG))){const{scroll:y}=this.root;y&&(_u(h.x,y.offset.x),_u(h.y,y.offset.y))}return h}removeElementScroll(u){var d;const h=sn();if(Yi(h,u),(d=this.scroll)!=null&&d.wasRoot)return h;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:_,options:T}=y;y!==this.root&&_&&T.layoutScroll&&(_.wasRoot&&Yi(h,u),_u(h.x,_.offset.x),_u(h.y,_.offset.y))}return h}applyTransform(u,h=!1){const d=sn();Yi(d,u);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&vu(d,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Co(y.latestValues)&&vu(d,y.latestValues)}return Co(this.latestValues)&&vu(d,this.latestValues),d}removeTransform(u){const h=sn();Yi(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Co(m.latestValues))continue;HT(m.latestValues)&&m.updateSnapshot();const y=sn(),_=m.measurePageBox();Yi(y,_),vx(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Co(this.latestValues)&&vx(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==En.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var b;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:_}=this.options;if(!this.layout||!(y||_))return;this.resolvedRelativeTargetAt=En.timestamp;const T=this.getClosestProjectingParent();T&&this.linkedParentVersion!==T.layoutVersion&&!T.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(T&&T.layout?this.createRelativeTarget(T,this.layout.layoutBox,T.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),kH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yi(this.target,this.layout.layoutBox),wV(this.target,this.targetDelta)):Yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,T&&!!T.resumingFrom==!!this.resumingFrom&&!T.options.layoutScroll&&T.target&&this.animationProgress!==1?this.createRelativeTarget(T,this.target,T.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||HT(this.parent.latestValues)||EV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,d){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),sg(this.relativeTargetOrigin,h,d),Yi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var C;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(C=this.parent)!=null&&C.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===En.timestamp&&(d=!1),d)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Yi(this.layoutCorrected,this.layout.layoutBox);const _=this.treeScale.x,T=this.treeScale.y;Q7(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=sn());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gx(this.prevProjectionDelta.x,this.projectionDelta.x),gx(this.prevProjectionDelta.y,this.projectionDelta.y)),ld(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==_||this.treeScale.y!==T||!Ax(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ax(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tu(),this.projectionDelta=Tu(),this.projectionDeltaWithTransform=Tu()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},y={...this.latestValues},_=Tu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const T=sn(),b=d?d.source:void 0,C=this.layout?this.layout.source:void 0,P=b!==C,V=this.getStack(),U=!V||V.members.length<=1,W=!!(P&&!U&&this.options.crossfade===!0&&!this.path.some(RG));this.animationProgress=0;let F;this.mixTargetDelta=ae=>{const ne=ae/1e3;xx(_.x,u.x,ne),xx(_.y,u.y,ne),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(sg(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IG(this.relativeTarget,this.relativeTargetOrigin,T,ne),F&&hG(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=sn()),Yi(F,this.relativeTarget)),P&&(this.animationValues=y,sG(y,m,this.latestValues,ne,W,U)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ne},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,d,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||m.stop(),this.pendingAnimation&&(ka(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bt.update(()=>{Sp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xu(0)),this.currentAnimation=eG(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:y=>{this.mixTargetDelta(y),u.onUpdate&&u.onUpdate(y)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mG),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:y}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&GV(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||sn();const _=Un(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+_;const T=Un(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+T}Yi(h,d),vu(h,y),ld(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new dG),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&kv("z",u,m,this.animationValues);for(let y=0;y<Ov.length;y++)kv(`rotate${Ov[y]}`,u,m,this.animationValues),kv(`skew${Ov[y]}`,u,m,this.animationValues);u.render();for(const y in m)u.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Ap(h==null?void 0:h.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Ap(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Co(this.latestValues)&&(u.transform=d?d({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let _=fG(this.projectionDeltaWithTransform,this.treeScale,y);d&&(_=d(y,_)),u.transform=_;const{x:T,y:b}=this.projectionDelta;u.transformOrigin=`${T.origin*100}% ${b.origin*100}% 0`,m.animationValues?u.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in jd){if(y[C]===void 0)continue;const{correct:P,applyTo:V,isCSSVariable:U}=jd[C],W=_==="none"?y[C]:P(y[C],m);if(V){const F=V.length;for(let ae=0;ae<F;ae++)u[V[ae]]=W}else U?this.options.visualElement.renderState.vars[C]=W:u[C]=W}this.options.layoutId&&(u.pointerEvents=m===this?Ap(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Sx),this.root.sharedNodes.clear()}}}function gG(n){n.updateLayout()}function yG(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:s}=n.layout,{animationType:o}=n.options,u=e.source!==n.layout.source;o==="size"?Ni(_=>{const T=u?e.measuredBox[_]:e.layoutBox[_],b=Un(T);T.min=i[_].min,T.max=T.min+b}):GV(o,e.layoutBox,i)&&Ni(_=>{const T=u?e.measuredBox[_]:e.layoutBox[_],b=Un(i[_]);T.max=T.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+b)});const h=Tu();ld(h,i,e.layoutBox);const d=Tu();u?ld(d,n.applyTransform(s,!0),e.measuredBox):ld(d,i,e.layoutBox);const m=!FV(h);let y=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:T,layout:b}=_;if(T&&b){const C=sn();sg(C,e.layoutBox,T.layoutBox);const P=sn();sg(P,i,b.layoutBox),zV(C,P)||(y=!0),_.options.layoutRoot&&(n.relativeTarget=P,n.relativeTargetOrigin=C,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function _G(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function vG(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function TG(n){n.clearSnapshot()}function Sx(n){n.clearMeasurements()}function Ix(n){n.isLayoutDirty=!1}function EG(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Rx(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function wG(n){n.resolveTargetDelta()}function bG(n){n.calcProjection()}function AG(n){n.resetSkewAndRotation()}function SG(n){n.removeLeadSnapshot()}function xx(n,e,t){n.translate=St(e.translate,0,t),n.scale=St(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Cx(n,e,t,i){n.min=St(e.min,t.min,i),n.max=St(e.max,t.max,i)}function IG(n,e,t,i){Cx(n.x,e.x,t.x,i),Cx(n.y,e.y,t.y,i)}function RG(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const xG={duration:.45,ease:[.4,0,.1,1]},Dx=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Nx=Dx("applewebkit/")&&!Dx("chrome/")?Math.round:Oi;function Px(n){n.min=Nx(n.min),n.max=Nx(n.max)}function CG(n){Px(n.x),Px(n.y)}function GV(n,e,t){return n==="position"||n==="preserve-aspect"&&!OH(bx(e),bx(t),.2)}function DG(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const NG=HV({attachResizeListener:(n,e)=>Bd(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Lv={current:void 0},KV=HV({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Lv.current){const n=new NG({});n.mount(window),n.setOptions({layoutScroll:!0}),Lv.current=n}return Lv.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),PG={pan:{Feature:YH},drag:{Feature:WH,ProjectionNode:KV,MeasureLayout:UV}};function Vx(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,o=i[s];o&&bt.postRender(()=>o(e,gf(e)))}class VG extends Ga{mount(){const{current:e}=this.node;e&&(this.unmount=e7(e,(t,i)=>(Vx(this.node,i,"Start"),s=>Vx(this.node,s,"End"))))}unmount(){}}class MG extends Ga{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ff(Bd(this.node.current,"focus",()=>this.onFocus()),Bd(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Mx(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),o=i[s];o&&bt.postRender(()=>o(e,gf(e)))}class OG extends Ga{mount(){const{current:e}=this.node;e&&(this.unmount=r7(e,(t,i)=>(Mx(this.node,i,"Start"),(s,{success:o})=>Mx(this.node,s,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const XT=new WeakMap,Uv=new WeakMap,kG=n=>{const e=XT.get(n.target);e&&e(n)},LG=n=>{n.forEach(kG)};function UG({root:n,...e}){const t=n||document;Uv.has(t)||Uv.set(t,{});const i=Uv.get(t),s=JSON.stringify(e);return i[s]||(i[s]=new IntersectionObserver(LG,{root:n,...e})),i[s]}function jG(n,e,t){const i=UG(e);return XT.set(n,t),i.observe(n),()=>{XT.delete(n),i.unobserve(n)}}const BG={some:0,all:1};class FG extends Ga{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:s="some",once:o}=e,u={root:t?t.current:void 0,rootMargin:i,threshold:typeof s=="number"?s:BG[s]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),T=m?y:_;T&&T(d)};return jG(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(zG(e,t))&&this.startObserver()}unmount(){}}function zG({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const qG={inView:{Feature:FG},tap:{Feature:OG},focus:{Feature:MG},hover:{Feature:VG}},HG={layout:{ProjectionNode:KV,MeasureLayout:UV}},GG={...CH,...qG,...PG,...HG},Yn=G7(GG,rH),jt=({children:n,variant:e="primary",size:t="md",className:i="",isLoading:s,...o})=>{const u="rounded-2xl font-medium transition-all duration-200 flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50 disabled:active:scale-100",h={primary:"bg-primary-200 text-primary-900 hover:bg-primary-300 shadow-sm hover:shadow-md",secondary:"bg-secondary-200 text-secondary-900 hover:bg-secondary-300 shadow-sm hover:shadow-md",ghost:"bg-transparent hover:bg-black/5 text-offblack",danger:"bg-red-100 text-red-700 hover:bg-red-200"},d={sm:"px-3 py-1.5 text-sm",md:"px-5 py-2.5 text-base",lg:"px-8 py-3.5 text-lg"};return S.jsxs("button",{className:`${u} ${h[e]} ${d[t]} ${i}`,disabled:s||o.disabled,...o,children:[s&&S.jsx(GE,{className:"w-4 h-4 animate-spin"}),n]})},mi=({label:n,error:e,className:t="",...i})=>S.jsxs("div",{className:"flex flex-col gap-1.5 w-full",children:[n&&S.jsx("label",{className:"text-sm font-medium text-stone-600 ml-1",children:n}),S.jsx("input",{className:`w-full px-4 py-3 rounded-2xl border-2 border-stone-100 bg-white focus:outline-none focus:border-primary-300 focus:ring-4 focus:ring-primary-100 transition-all ${t}`,...i}),e&&S.jsx("span",{className:"text-xs text-red-500 ml-1",children:e})]}),$V=({label:n,error:e,className:t="",...i})=>S.jsxs("div",{className:"flex flex-col gap-1.5 w-full",children:[n&&S.jsx("label",{className:"text-sm font-medium text-stone-600 ml-1",children:n}),S.jsx("textarea",{className:`w-full px-4 py-3 rounded-2xl border-2 border-stone-100 bg-white focus:outline-none focus:border-primary-300 focus:ring-4 focus:ring-primary-100 transition-all resize-none ${t}`,...i}),e&&S.jsx("span",{className:"text-xs text-red-500 ml-1",children:e})]}),sl=({isOpen:n,onClose:e,title:t,children:i,width:s="md"})=>{const o={sm:"max-w-sm",md:"max-w-md",lg:"max-w-2xl",xl:"max-w-4xl"};return S.jsx(yw,{children:n&&S.jsxs(S.Fragment,{children:[S.jsx(Yn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 z-50 bg-offblack/10 backdrop-blur-sm flex items-center justify-center p-4"}),S.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:S.jsxs(Yn.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:10},transition:{type:"spring",stiffness:350,damping:25},className:`bg-white w-full ${o[s]} rounded-3xl shadow-2xl overflow-hidden pointer-events-auto flex flex-col max-h-[90vh]`,children:[S.jsxs("div",{className:"px-6 py-4 border-b border-stone-100 flex items-center justify-between bg-stone-50/50",children:[S.jsx("h3",{className:"text-lg font-semibold text-stone-800",children:t}),S.jsx("button",{onClick:e,className:"p-2 hover:bg-stone-100 rounded-full transition-colors text-stone-500",children:S.jsx(h8,{size:20})})]}),S.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:i})]})})]})})},Ko=({label:n,color:e="stone",onClick:t,active:i})=>{const s=e.startsWith("bg-");let o="px-3 py-1 rounded-full text-xs font-medium transition-all duration-200 border border-transparent";if(s)o+=` ${e} text-stone-700`;else switch(e){case"primary":o+=i?" bg-primary-200 text-primary-900 border-primary-300":" bg-primary-50 text-primary-700 hover:bg-primary-100";break;case"secondary":o+=i?" bg-secondary-200 text-secondary-900 border-secondary-300":" bg-secondary-50 text-secondary-700 hover:bg-secondary-100";break;case"stone":default:o+=i?" bg-stone-800 text-white":" bg-stone-100 text-stone-600 hover:bg-stone-200";break}return t&&(o+=" cursor-pointer active:scale-95 select-none"),S.jsx("span",{onClick:t,className:o,children:n})},KG=({title:n,description:e,icon:t})=>S.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-4 text-center",children:[S.jsx("div",{className:"w-16 h-16 bg-stone-100 rounded-full flex items-center justify-center text-stone-400 mb-4",children:t||S.jsx(GE,{size:32})}),S.jsx("h3",{className:"text-xl font-semibold text-stone-800 mb-2",children:n}),S.jsx("p",{className:"text-stone-500 max-w-sm",children:e})]}),ud=["General","Ideas","Study","Work","Recipes","Quotes","To-Do","Personal","Journal","Code","Finance"],Ip=["bg-white","bg-red-50","bg-orange-50","bg-amber-50","bg-green-50","bg-emerald-50","bg-teal-50","bg-cyan-50","bg-sky-50","bg-blue-50","bg-indigo-50","bg-violet-50","bg-purple-50","bg-fuchsia-50","bg-pink-50","bg-rose-50","bg-stone-50"],$G=async n=>{if(!an.currentUser)throw new Error("Not authenticated");const e={...n,userId:an.currentUser.uid,createdAt:Date.now(),updatedAt:Date.now(),pinned:n.pinned||!1,favorite:n.favorite||!1,tags:n.tags||[],category:n.category||"General"};return await ti.collection("snippets").add(e)},Ox=async(n,e)=>{if(!an.currentUser)throw new Error("Not authenticated");await ti.collection("snippets").doc(n).update({...e,updatedAt:Date.now()})},QG=async n=>{if(!an.currentUser)throw new Error("Not authenticated");await ti.collection("snippets").doc(n).delete()},WG=async n=>{if(!an.currentUser)throw new Error("Not authenticated");const e={userId:an.currentUser.uid,name:n,createdAt:Date.now()};return await ti.collection("folders").add(e)},YG=async(n,e)=>{if(!an.currentUser)throw new Error("Not authenticated");await ti.collection("folders").doc(n).update({name:e})},XG=async n=>{if(!an.currentUser)throw new Error("Not authenticated");const e=ti.batch();(await ti.collection("snippets").where("folderId","==",n).where("userId","==",an.currentUser.uid).get()).forEach(s=>{e.update(s.ref,{folderId:null})});const i=ti.collection("folders").doc(n);e.delete(i),await e.commit()},JG=async n=>{const e=await ti.collection("snippets").where("userId","==",n).get(),t=await ti.collection("folders").where("userId","==",n).get(),i=ti.batch();return e.forEach(s=>i.delete(s.ref)),t.forEach(s=>i.delete(s.ref)),await i.commit(),!0},ZG=({isOpen:n,onClose:e})=>S.jsx(sl,{isOpen:n,onClose:e,title:"Pricing Plan",width:"sm",children:S.jsxs("div",{className:"text-center py-6",children:[S.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6 text-green-600",children:S.jsx(d2,{size:40,fill:"currentColor"})}),S.jsx("h2",{className:"text-2xl font-bold text-stone-800 mb-2",children:"Forever Free"}),S.jsx("p",{className:"text-stone-600 mb-6 leading-relaxed",children:"Knowledge should have no walls. Threadlines is free for everyonestudents, creators, and dreamers."}),S.jsx("p",{className:"text-sm text-stone-400 italic mb-8",children:"Learning & educational stuff shouldn't be with paywalls."}),S.jsx(jt,{onClick:e,variant:"primary",className:"w-full",children:"That's awesome!"})]})}),eK=({children:n})=>{var Ie;zd(),Gr();const{userProfile:e,folders:t}=Xg(),[i,s]=N.useState(!1),[o,u]=N.useState(!1),[h,d]=N.useState(!1),[m,y]=N.useState(!1),[_,T]=N.useState(navigator.onLine);N.useEffect(()=>{const he=()=>T(!0),j=()=>T(!1);return window.addEventListener("online",he),window.addEventListener("offline",j),()=>{window.removeEventListener("online",he),window.removeEventListener("offline",j)}},[]);const[b,C]=N.useState(""),[P,V]=N.useState(""),[U,W]=N.useState(ud[0]),[F,ae]=N.useState(""),[ne,le]=N.useState(""),[x,I]=N.useState(!1),[D,k]=N.useState(Ip[0]),[L,z]=N.useState(!1),[M,Ke]=N.useState(""),ut=async()=>{if(b.trim()){z(!0);try{await $G({title:b,content:P,category:U,tags:F.split(",").map(he=>he.trim()).filter(Boolean),folderId:ne||null,pinned:x,color:D}),d(!1),re()}catch(he){console.error(he)}finally{z(!1)}}},K=async()=>{if(M.trim()){z(!0);try{await WG(M),y(!1),Ke("")}catch(he){console.error(he)}finally{z(!1)}}},re=()=>{C(""),V(""),W(ud[0]),ae(""),le(""),I(!1),k(Ip[0])},fe=he=>`flex items-center gap-3 px-4 py-3 rounded-2xl transition-all duration-200 ${he?"bg-primary-100 text-primary-900 font-medium":"text-stone-500 hover:bg-stone-100 hover:text-stone-900"}`;return S.jsxs("div",{className:"flex h-screen overflow-hidden bg-cream",children:[S.jsx(yw,{children:i&&S.jsx(Yn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>s(!1),className:"fixed inset-0 z-20 bg-black/20 backdrop-blur-sm lg:hidden"})}),S.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-30 w-72 bg-white border-r border-stone-100 flex flex-col transition-transform duration-300 ease-in-out shadow-xl lg:shadow-none
        ${i?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[S.jsxs("div",{className:"p-6 border-b border-stone-50 flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-200 flex items-center justify-center",children:S.jsx("span",{className:"text-lg",children:""})}),S.jsx("h1",{className:"text-xl font-bold tracking-tight text-stone-800",children:"Threadlines"})]}),S.jsx("button",{onClick:()=>s(!1),className:"lg:hidden p-1 text-stone-400",children:S.jsx(Pz,{})})]}),S.jsxs("div",{className:"p-4 space-y-1 overflow-y-auto flex-1 custom-scrollbar",children:[S.jsxs(jt,{onClick:()=>d(!0),className:"w-full mb-6 justify-start shadow-md bg-stone-900 text-white hover:bg-stone-800",children:[S.jsx(ER,{size:18}),S.jsx("span",{children:"New Item"})]}),S.jsxs("div",{className:"space-y-1",children:[S.jsx("p",{className:"px-4 text-xs font-semibold text-stone-400 uppercase tracking-wider mb-2 mt-2",children:"Library"}),S.jsxs(Mh,{to:"/",end:!0,className:({isActive:he})=>fe(he),onClick:()=>s(!1),children:[S.jsx(Fz,{size:18})," Home"]}),S.jsxs(Mh,{to:"/favorites",className:({isActive:he})=>fe(he),onClick:()=>s(!1),children:[S.jsx(m2,{size:18})," Favorites"]})]}),S.jsxs("div",{className:"mt-6 space-y-1",children:[S.jsxs("div",{className:"flex items-center justify-between px-4 mb-2 mt-2",children:[S.jsx("p",{className:"text-xs font-semibold text-stone-400 uppercase tracking-wider",children:"Collections"}),S.jsx("button",{onClick:()=>y(!0),className:"text-stone-400 hover:text-stone-600",children:S.jsx(ER,{size:14})})]}),t.map(he=>S.jsxs(Mh,{to:`/folder/${he.id}`,className:({isActive:j})=>fe(j),onClick:()=>s(!1),children:[S.jsx(h2,{size:18})," ",he.name]},he.id)),t.length===0&&S.jsx("div",{className:"px-4 py-2 text-sm text-stone-400 italic",children:"No collections yet"})]})]}),S.jsx("div",{className:"p-4 border-t border-stone-50 space-y-1",children:S.jsxs(Mh,{to:"/account",className:({isActive:he})=>fe(he),onClick:()=>s(!1),children:[S.jsx("div",{className:"w-6 h-6 rounded-full bg-secondary-200 flex items-center justify-center text-xs font-bold text-secondary-900",children:((Ie=e==null?void 0:e.displayName)==null?void 0:Ie[0])||"U"}),S.jsx("span",{className:"truncate",children:(e==null?void 0:e.displayName)||"Account"})]})})]}),S.jsxs("main",{className:"flex-1 flex flex-col h-full relative overflow-hidden",children:[S.jsxs("header",{className:"h-16 px-4 lg:px-8 border-b border-stone-100 flex items-center justify-between bg-white/50 backdrop-blur-sm z-10 sticky top-0",children:[S.jsx("div",{className:"flex items-center gap-3",children:S.jsx("button",{onClick:()=>s(!0),className:"lg:hidden p-2 text-stone-500 hover:bg-stone-100 rounded-xl",children:S.jsx(Qz,{size:20})})}),!_&&S.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-orange-100 text-orange-700 rounded-full text-sm font-medium",children:[S.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),"Offline"]})]}),S.jsx(tK,{children:n}),S.jsxs("footer",{className:"absolute bottom-0 left-0 right-0 py-4 px-4 lg:px-8 border-t border-stone-100 bg-white/80 backdrop-blur-sm flex flex-col md:flex-row items-center justify-between text-stone-400 text-sm",children:[S.jsxs("div",{className:"flex items-center gap-1",children:["Made by Rosy with ",S.jsx(d2,{size:12,className:"text-red-400 fill-red-400"})]}),S.jsx("button",{onClick:()=>u(!0),className:"mt-2 md:mt-0 hover:text-stone-600 transition-colors",children:"Pricing"})]})]}),S.jsx(ZG,{isOpen:o,onClose:()=>u(!1)}),S.jsx(sl,{isOpen:m,onClose:()=>y(!1),title:"New Collection",width:"sm",children:S.jsxs("div",{className:"space-y-4",children:[S.jsx(mi,{label:"Collection Name",placeholder:"e.g., Recipes, Project X",value:M,onChange:he=>Ke(he.target.value),autoFocus:!0}),S.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[S.jsx(jt,{variant:"ghost",onClick:()=>y(!1),children:"Cancel"}),S.jsx(jt,{onClick:K,isLoading:L,disabled:!M.trim(),children:"Create"})]})]})}),S.jsx(sl,{isOpen:h,onClose:()=>d(!1),title:"Create New Item",width:"lg",children:S.jsxs("div",{className:"space-y-6",children:[S.jsx(mi,{placeholder:"Title",className:"text-lg font-semibold border-stone-200",value:b,onChange:he=>C(he.target.value),autoFocus:!0}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"text-sm font-medium text-stone-500 mb-1 block",children:"Category"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:ud.map(he=>S.jsx(Ko,{label:he,active:U===he,onClick:()=>W(he),color:"secondary"},he))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"text-sm font-medium text-stone-500 mb-1 block",children:"Collection"}),S.jsxs("select",{className:"w-full px-3 py-2 rounded-xl border border-stone-200 bg-white focus:outline-none focus:ring-2 focus:ring-primary-100",value:ne,onChange:he=>le(he.target.value),children:[S.jsx("option",{value:"",children:"No Collection"}),t.map(he=>S.jsx("option",{value:he.id,children:he.name},he.id))]})]})]}),S.jsx($V,{placeholder:"Write your note, idea, or paste a link...",rows:8,value:P,onChange:he=>V(he.target.value)}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"text-sm font-medium text-stone-500",children:"Tags (comma separated)"}),S.jsx(mi,{placeholder:"tech, easy, urgent...",value:F,onChange:he=>ae(he.target.value)})]}),S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pt-4 border-t border-stone-50",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-sm text-stone-500",children:"Color:"}),S.jsx("div",{className:"flex gap-1",children:Ip.slice(0,5).map(he=>S.jsx("button",{onClick:()=>k(he),className:`w-6 h-6 rounded-full border border-stone-100 ${he} ${D===he?"ring-2 ring-stone-400":""}`},he))})]}),S.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[S.jsx("input",{type:"checkbox",checked:x,onChange:he=>I(he.target.checked),className:"rounded text-primary-500 focus:ring-primary-200"}),S.jsx("span",{className:"text-sm text-stone-600",children:"Pin to top"})]})]}),S.jsxs("div",{className:"flex gap-2 justify-end",children:[S.jsx(jt,{variant:"ghost",onClick:()=>d(!1),children:"Cancel"}),S.jsx(jt,{onClick:ut,isLoading:L,disabled:!b.trim(),children:"Save Item"})]})]})]})})]})},tK=({children:n})=>{const e=Gr(),[t,i]=N.useState(!1),[s,o]=N.useState(!0);return N.useEffect(()=>{i(!0),o(!1);const u=setTimeout(()=>{o(!0)},400),h=setTimeout(()=>{i(!1)},800);return()=>{clearTimeout(u),clearTimeout(h)}},[e.pathname]),S.jsxs(S.Fragment,{children:[S.jsx(yw,{children:t&&S.jsxs(Yn.div,{className:"fixed inset-0 z-50 flex flex-col pointer-events-none",children:[S.jsx(Yn.div,{initial:{y:"100%"},animate:{y:"0%",transition:{duration:.4,ease:[.76,0,.24,1]}},exit:{y:"-100%",transition:{duration:.4,ease:[.76,0,.24,1]}},className:"fixed inset-0 bg-primary-200 z-50 flex items-center justify-center",children:S.jsx(Yn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,transition:{delay:.2,duration:.2}},exit:{opacity:0,scale:.8,transition:{duration:.15}},className:"text-6xl",children:""})}),S.jsx(Yn.div,{initial:{y:"100%"},animate:{y:"0%",transition:{duration:.4,delay:.05,ease:[.76,0,.24,1]}},exit:{y:"-100%",transition:{duration:.4,delay:.05,ease:[.76,0,.24,1]}},className:"fixed inset-0 bg-secondary-200 z-40"})]})}),S.jsx(Yn.div,{initial:{opacity:0},animate:{opacity:s?1:0},transition:{duration:.3},className:"flex-1 overflow-y-auto relative p-4 lg:p-8 custom-scrollbar",children:S.jsx("div",{className:"max-w-7xl mx-auto w-full",children:s&&S.jsx(Yn.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,duration:.4},children:n})})},e.pathname)]})},nK=()=>{const[n,e]=N.useState(!0),[t,i]=N.useState(""),[s,o]=N.useState(""),[u,h]=N.useState(""),[d,m]=N.useState(""),[y,_]=N.useState(!1),T=async b=>{b.preventDefault(),m(""),_(!0);try{if(n)await an.signInWithEmailAndPassword(t,s);else{const C=await an.createUserWithEmailAndPassword(t,s);u&&C.user&&await C.user.updateProfile({displayName:u})}}catch(C){console.error("Auth Error:",C.code,C.message),C.code==="auth/invalid-credential"||C.code==="auth/wrong-password"||C.code==="auth/user-not-found"?m("Invalid email or password."):C.code==="auth/email-already-in-use"?m("Email already in use."):C.code==="auth/weak-password"?m("Password should be at least 6 characters."):C.code==="auth/configuration-not-found"?m('Authentication is not set up. Please go to Firebase Console > Authentication and click "Get Started".'):C.code==="auth/operation-not-allowed"?m("Email/Password provider is disabled. Enable it in Firebase Console > Authentication > Sign-in method."):m(C.message||"An error occurred during authentication.")}finally{_(!1)}};return S.jsxs("div",{className:"min-h-screen bg-cream flex items-center justify-center p-4 relative overflow-hidden",children:[S.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-96 h-96 bg-primary-200 rounded-full blur-3xl opacity-50 animate-pulse"}),S.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-secondary-200 rounded-full blur-3xl opacity-50 animate-pulse delay-700"}),S.jsxs(Yn.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},className:"bg-white/80 backdrop-blur-md p-8 md:p-12 rounded-3xl shadow-xl w-full max-w-md relative z-10",children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-2xl flex items-center justify-center mx-auto mb-4 text-3xl shadow-sm",children:""}),S.jsx("h1",{className:"text-3xl font-bold text-stone-800 mb-2",children:"Threadlines"}),S.jsx("p",{className:"text-stone-500",children:n?"Welcome back! Ready to capture ideas?":"Create your space for everything."})]}),S.jsxs("form",{onSubmit:T,className:"space-y-4",children:[!n&&S.jsx(mi,{label:"Display Name",placeholder:"Rosy",value:u,onChange:b=>h(b.target.value)}),S.jsx(mi,{label:"Email",type:"email",placeholder:"hello@example.com",value:t,onChange:b=>i(b.target.value),required:!0}),S.jsx(mi,{label:"Password",type:"password",placeholder:"",value:s,onChange:b=>o(b.target.value),required:!0}),d&&S.jsx("p",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg text-center font-medium border border-red-100",children:d}),S.jsx(jt,{type:"submit",className:"w-full mt-4",isLoading:y,children:n?"Log In":"Sign Up"})]}),S.jsxs("div",{className:"mt-6 text-center text-sm text-stone-500",children:[n?"New here? ":"Already have an account? ",S.jsx("button",{onClick:()=>e(!n),className:"text-primary-600 font-semibold hover:underline",children:n?"Create Account":"Log In"})]})]})]})},kx=({snippet:n,onClick:e,viewMode:t})=>{var d;const[i,s]=N.useState(!1),o=m=>{m.stopPropagation(),navigator.clipboard.writeText(n.content),s(!0),setTimeout(()=>s(!1),2e3)},u=t==="list",h=n.content.includes("```");return S.jsxs(Yn.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},onClick:()=>e(n.id),className:`
                group relative rounded-3xl cursor-pointer transition-all duration-300 hover:shadow-lg border border-transparent hover:border-primary-100
                ${n.color||"bg-white"} shadow-sm flex ${u?"flex-row items-center p-4 gap-4":"flex-col p-5 h-64"}
            `,children:[S.jsxs("div",{className:`flex justify-between items-start ${u?"w-48 shrink-0":"mb-3 w-full"}`,children:[S.jsxs("div",{className:"flex gap-2 items-center",children:[S.jsx(Ko,{label:n.category,color:"white"}),n.pinned&&S.jsx(f2,{size:16,className:"text-primary-400 rotate-45 fill-primary-400"})]}),!u&&S.jsx("button",{onClick:o,className:"opacity-0 group-hover:opacity-100 p-1.5 bg-white/50 hover:bg-white rounded-full transition-all text-stone-500",children:i?S.jsx(CT,{size:14,className:"text-green-500"}):S.jsx(DT,{size:14})})]}),S.jsxs("div",{className:`flex-1 min-w-0 ${u?"flex items-center gap-6":""}`,children:[S.jsx("h3",{className:`font-bold text-stone-800 ${u?"text-base truncate w-1/3":"text-lg mb-2 line-clamp-2"}`,children:n.title}),S.jsx("p",{className:`text-stone-500 text-sm whitespace-pre-wrap ${u?"truncate flex-1":"line-clamp-4 flex-1"}`,children:h?S.jsx("span",{className:"font-mono text-xs bg-black/5 px-1 rounded",children:"Code Snippet..."}):n.content})]}),S.jsxs("div",{className:`${u?"flex items-center gap-3 shrink-0":"mt-4 flex flex-wrap gap-1"}`,children:[u&&S.jsx("button",{onClick:o,className:"p-2 hover:bg-black/5 rounded-full transition-all text-stone-400 hover:text-stone-600",children:i?S.jsx(CT,{size:16,className:"text-green-500"}):S.jsx(DT,{size:16})}),!u&&((d=n.tags)==null?void 0:d.slice(0,3).map(m=>S.jsxs("span",{className:"text-[10px] bg-black/5 px-2 py-0.5 rounded-full text-stone-600",children:["#",m]},m))),u&&S.jsx("span",{className:"text-xs text-stone-400",children:new Date(n.updatedAt).toLocaleDateString()})]})]})},jv=({filter:n})=>{const e=zd(),{folderId:t}=Gx(),{snippets:i,folders:s}=Xg(),[o,u]=N.useState(""),[h,d]=N.useState("All"),[m,y]=N.useState(null),[_,T]=N.useState("grid"),[b,C]=N.useState("newest"),[P,V]=N.useState(!1),[U,W]=N.useState(""),[F,ae]=N.useState(!1),[ne,le]=N.useState(!1),x=s.find(K=>K.id===t),I=n==="folder"?(x==null?void 0:x.name)||"Unknown Collection":n==="favorites"?"Favorites":"All Items",D=N.useMemo(()=>{const K=new Set;return i.forEach(re=>{var fe;return(fe=re.tags)==null?void 0:fe.forEach(Ie=>K.add(Ie))}),Array.from(K)},[i]),k=N.useMemo(()=>i.filter(re=>{var fe;if(n==="favorites"&&!re.favorite||n==="folder"&&re.folderId!==t)return!1;if(o){const Ie=o.toLowerCase();if(!re.title.toLowerCase().includes(Ie)&&!re.content.toLowerCase().includes(Ie))return!1}return!(h!=="All"&&re.category!==h||m&&!((fe=re.tags)!=null&&fe.includes(m)))}).sort((re,fe)=>{switch(b){case"newest":return fe.createdAt-re.createdAt;case"oldest":return re.createdAt-fe.createdAt;case"az":return re.title.localeCompare(fe.title);case"za":return fe.title.localeCompare(re.title);default:return 0}}),[i,n,t,o,h,m,b]),L=k.filter(K=>K.pinned),z=k.filter(K=>!K.pinned),M=()=>{x&&(W(x.name),V(!0),ae(!1))},Ke=async()=>{if(!(!x||!U.trim())){le(!0);try{await YG(x.id,U),V(!1)}catch(K){console.error(K)}finally{le(!1)}}},ut=async()=>{if(x){le(!0);try{await XG(x.id),e("/"),V(!1)}catch(K){console.error(K)}finally{le(!1)}}};return S.jsxs("div",{className:"space-y-8 pb-20 w-full",children:[S.jsxs("div",{className:"flex flex-col gap-6",children:[S.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[S.jsxs("div",{className:"flex items-center gap-3 group",children:[S.jsx("h1",{className:"text-3xl font-bold text-stone-800 break-words",children:I}),n==="folder"&&x&&S.jsx("button",{onClick:M,className:"opacity-50 group-hover:opacity-100 p-2 hover:bg-stone-100 rounded-full transition-all text-stone-500",title:"Collection Settings",children:S.jsx(n8,{size:20})})]}),S.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[S.jsxs("div",{className:"bg-white p-1 rounded-xl border border-stone-100 flex items-center shrink-0",children:[S.jsx("button",{onClick:()=>T("grid"),className:`p-2 rounded-lg transition-all ${_==="grid"?"bg-stone-100 text-stone-800":"text-stone-400 hover:text-stone-600"}`,children:S.jsx(qz,{size:18})}),S.jsx("button",{onClick:()=>T("list"),className:`p-2 rounded-lg transition-all ${_==="list"?"bg-stone-100 text-stone-800":"text-stone-400 hover:text-stone-600"}`,children:S.jsx(Gz,{size:18})})]}),S.jsxs("div",{className:"relative group shrink-0",children:[S.jsxs("button",{className:"flex items-center gap-2 px-3 py-2.5 bg-white rounded-xl border border-stone-100 text-stone-600 hover:border-primary-200 transition-colors",children:[S.jsx(Sz,{size:16}),S.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:"Sort"})]}),S.jsxs("div",{className:"absolute right-0 top-full mt-2 w-40 bg-white rounded-xl shadow-xl border border-stone-100 p-1 hidden group-hover:block z-20",children:[S.jsx("button",{onClick:()=>C("newest"),className:`w-full text-left px-3 py-2 rounded-lg text-sm ${b==="newest"?"bg-primary-50 text-primary-700":"hover:bg-stone-50"}`,children:"Newest First"}),S.jsx("button",{onClick:()=>C("oldest"),className:`w-full text-left px-3 py-2 rounded-lg text-sm ${b==="oldest"?"bg-primary-50 text-primary-700":"hover:bg-stone-50"}`,children:"Oldest First"}),S.jsx("button",{onClick:()=>C("az"),className:`w-full text-left px-3 py-2 rounded-lg text-sm ${b==="az"?"bg-primary-50 text-primary-700":"hover:bg-stone-50"}`,children:"Title A-Z"}),S.jsx("button",{onClick:()=>C("za"),className:`w-full text-left px-3 py-2 rounded-lg text-sm ${b==="za"?"bg-primary-50 text-primary-700":"hover:bg-stone-50"}`,children:"Title Z-A"})]})]}),S.jsxs("div",{className:"relative w-full md:w-64",children:[S.jsx(e8,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-stone-400",size:18}),S.jsx("input",{type:"text",placeholder:"Search...",className:"w-full pl-10 pr-4 py-2.5 bg-white rounded-xl border border-stone-100 focus:outline-none focus:ring-2 focus:ring-primary-100 transition-all",value:o,onChange:K=>u(K.target.value)})]})]})]}),S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[S.jsx("span",{className:"text-xs font-semibold uppercase text-stone-400 mr-2",children:"Category:"}),S.jsx(Ko,{label:"All",active:h==="All",onClick:()=>d("All"),color:"stone"}),ud.slice(0,5).map(K=>S.jsx(Ko,{label:K,active:h===K,onClick:()=>d(K),color:"stone"},K))]}),D.length>0&&S.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[S.jsx("span",{className:"text-xs font-semibold uppercase text-stone-400 mr-2",children:"Tags:"}),D.map(K=>S.jsx(Ko,{label:`#${K}`,active:m===K,onClick:()=>y(m===K?null:K),color:"secondary"},K))]})]})]}),k.length===0?S.jsx(KG,{title:"No items found",description:n==="all"&&!o?"Create your first snippet to get started!":"Try adjusting your filters or search terms.",icon:S.jsx(Lz,{size:40})}):S.jsxs("div",{className:"space-y-8",children:[L.length>0&&S.jsxs("div",{children:[S.jsxs("h2",{className:"text-sm font-semibold text-stone-400 uppercase tracking-wider mb-4 flex items-center gap-2",children:[S.jsx(f2,{size:14})," Pinned"]}),S.jsx("div",{className:_==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-3",children:L.map(K=>S.jsx(kx,{snippet:K,onClick:re=>e(`/snippet/${re}`),viewMode:_},K.id))})]}),S.jsxs("div",{children:[L.length>0&&S.jsx("h2",{className:"text-sm font-semibold text-stone-400 uppercase tracking-wider mb-4 mt-8",children:"Others"}),S.jsx("div",{className:_==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-3",children:z.map(K=>S.jsx(kx,{snippet:K,onClick:re=>e(`/snippet/${re}`),viewMode:_},K.id))})]})]}),S.jsx(sl,{isOpen:P,onClose:()=>V(!1),title:"Collection Settings",width:"sm",children:F?S.jsxs("div",{className:"space-y-4",children:[S.jsx("div",{className:"bg-red-50 p-3 rounded-xl text-red-700 text-sm",children:"Are you sure? Items in this collection will be kept but marked as unorganized."}),S.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[S.jsx(jt,{variant:"ghost",onClick:()=>ae(!1),children:"Cancel"}),S.jsx(jt,{variant:"danger",onClick:ut,isLoading:ne,children:"Yes, Delete"})]})]}):S.jsxs("div",{className:"space-y-4",children:[S.jsx(mi,{label:"Rename Collection",value:U,onChange:K=>W(K.target.value)}),S.jsxs("div",{className:"flex flex-col gap-2 pt-4",children:[S.jsx(jt,{onClick:Ke,isLoading:ne,children:"Save Changes"}),S.jsx(jt,{variant:"danger",onClick:()=>ae(!0),children:"Delete Collection"})]})]})})]})},iK=()=>{var le,x;const{snippetId:n}=Gx(),e=zd(),{snippets:t,folders:i}=Xg(),s=t.find(I=>I.id===n),[o,u]=N.useState(!1),[h,d]=N.useState(!1),[m,y]=N.useState(!1),[_,T]=N.useState({});if(N.useEffect(()=>{s&&T({...s})},[s]),!s)return S.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[S.jsx("p",{className:"text-stone-500 mb-4",children:"Item not found."}),S.jsx(jt,{onClick:()=>e("/"),children:"Go Home"})]});const b=(le=i.find(I=>I.id===s.folderId))==null?void 0:le.name,C=s.content.split(/\s+/).filter(Boolean).length;s.content.length;const P=Math.ceil(C/200),V=async()=>{await Ox(s.id,{favorite:!s.favorite})},U=async()=>{await QG(s.id),e("/")},W=async()=>{await Ox(s.id,_),u(!1)},F=I=>{T(D=>({...D,tags:I.split(",").map(k=>k.trim()).filter(Boolean)}))},ae=()=>{navigator.clipboard.writeText(s.content),y(!0),setTimeout(()=>y(!1),2e3)},ne=I=>I.split(/(```[\s\S]*?```)/g).map((k,L)=>{if(k.startsWith("```")&&k.endsWith("```")){const z=k.slice(3,-3);return S.jsx("pre",{className:"bg-stone-900 text-stone-50 p-4 rounded-xl overflow-x-auto my-4 text-sm font-mono shadow-sm",children:S.jsx("code",{children:z.trim()})},L)}return S.jsx("span",{children:k},L)});return S.jsxs("div",{className:"max-w-4xl mx-auto pb-20",children:[S.jsxs("div",{className:"flex items-center justify-between mb-6",children:[S.jsxs("button",{onClick:()=>e(-1),className:"flex items-center text-stone-500 hover:text-stone-800 transition-colors",children:[S.jsx(Rz,{size:20,className:"mr-2"})," Back"]}),S.jsxs("div",{className:"flex gap-4 text-xs text-stone-400 font-medium",children:[S.jsxs("span",{className:"flex items-center gap-1",children:[S.jsx(u8,{size:12})," ",C," words"]}),S.jsxs("span",{className:"flex items-center gap-1",children:[S.jsx(Mz,{size:12})," ",P,"m read"]})]})]}),S.jsxs("div",{className:`rounded-3xl p-8 md:p-12 shadow-sm transition-all ${s.color||"bg-white"}`,children:[S.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-start gap-4 mb-8",children:[S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex flex-wrap gap-2",children:[S.jsx(Ko,{label:s.category,color:"white"}),b&&S.jsxs("span",{className:"flex items-center gap-1 text-xs font-medium bg-white/50 px-3 py-1 rounded-full text-stone-600 border border-transparent",children:[S.jsx(h2,{size:12})," ",b]})]}),S.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-stone-800 leading-tight",children:s.title})]}),S.jsxs("div",{className:"flex gap-2 self-start",children:[S.jsx("button",{onClick:ae,className:"p-3 rounded-2xl bg-white/50 text-stone-600 hover:bg-white transition-colors",title:"Copy content",children:m?S.jsx(CT,{size:20,className:"text-green-500"}):S.jsx(DT,{size:20})}),S.jsx("button",{onClick:V,className:`p-3 rounded-2xl transition-colors ${s.favorite?"bg-yellow-100 text-yellow-500":"bg-white/50 text-stone-400 hover:bg-white"}`,children:S.jsx(m2,{size:20,fill:s.favorite?"currentColor":"none"})}),S.jsx("button",{onClick:()=>u(!0),className:"p-3 rounded-2xl bg-white/50 text-stone-600 hover:bg-white transition-colors",children:S.jsx(Yz,{size:20})}),S.jsx("button",{onClick:()=>d(!0),className:"p-3 rounded-2xl bg-white/50 text-red-400 hover:bg-red-50 hover:text-red-500 transition-colors",children:S.jsx(o8,{size:20})})]})]}),S.jsx("div",{className:"prose prose-stone prose-lg max-w-none whitespace-pre-wrap text-stone-700 mb-8 leading-relaxed",children:ne(s.content)}),S.jsxs("div",{className:"flex flex-wrap gap-2 pt-6 border-t border-black/5",children:[s.tags.map(I=>S.jsxs("span",{className:"flex items-center text-sm text-stone-500 bg-black/5 px-3 py-1 rounded-full",children:[S.jsx(s8,{size:12,className:"mr-1"})," ",I]},I)),S.jsxs("span",{className:"flex items-center text-sm text-stone-400 ml-auto",children:[S.jsx(Cz,{size:12,className:"mr-1"}),"Created ",new Date(s.createdAt).toLocaleDateString()]})]})]}),S.jsxs(sl,{isOpen:h,onClose:()=>d(!1),title:"Delete Item",children:[S.jsx("p",{className:"text-stone-600 mb-6",children:"Are you sure you want to delete this snippet? This action cannot be undone."}),S.jsxs("div",{className:"flex justify-end gap-3",children:[S.jsx(jt,{variant:"ghost",onClick:()=>d(!1),children:"Cancel"}),S.jsx(jt,{variant:"danger",onClick:U,children:"Yes, Delete"})]})]}),S.jsx(sl,{isOpen:o,onClose:()=>u(!1),title:"Edit Item",width:"lg",children:S.jsxs("div",{className:"space-y-6",children:[S.jsx(mi,{value:_.title,onChange:I=>T(D=>({...D,title:I.target.value})),className:"font-bold text-lg"}),S.jsx("div",{className:"flex gap-2 flex-wrap",children:ud.map(I=>S.jsx(Ko,{label:I,active:_.category===I,onClick:()=>T(D=>({...D,category:I})),color:"secondary"},I))}),S.jsx($V,{rows:15,value:_.content,onChange:I=>T(D=>({...D,content:I.target.value})),className:"font-mono text-sm"}),S.jsx(mi,{label:"Tags",value:(x=_.tags)==null?void 0:x.join(", "),onChange:I=>F(I.target.value)}),S.jsx("div",{className:"flex gap-2",children:Ip.slice(0,8).map(I=>S.jsx("button",{onClick:()=>T(D=>({...D,color:I})),className:`w-8 h-8 rounded-full border border-stone-100 ${I} ${_.color===I?"ring-2 ring-stone-400 scale-110":""}`},I))}),S.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[S.jsx(jt,{variant:"ghost",onClick:()=>u(!1),children:"Cancel"}),S.jsx(jt,{onClick:W,children:"Save Changes"})]})]})})]})},rK=()=>{const{user:n,userProfile:e}=Xg(),[t,i]=N.useState((e==null?void 0:e.displayName)||""),[s,o]=N.useState(""),[u,h]=N.useState({type:"",text:""}),[d,m]=N.useState(!1),[y,_]=N.useState(!1),[T,b]=N.useState(""),C=async()=>{if(an.currentUser){m(!0);try{await an.currentUser.updateProfile({displayName:t}),h({type:"success",text:"Profile updated successfully!"})}catch(U){h({type:"error",text:U.message})}finally{m(!1)}}},P=async()=>{if(!(!an.currentUser||!s)){m(!0);try{await an.currentUser.updatePassword(s),o(""),h({type:"success",text:"Password changed successfully!"})}catch{h({type:"error",text:"Requires recent login. Please re-login and try again."})}finally{m(!1)}}},V=async()=>{if(T==="DELETE"&&an.currentUser){m(!0);try{const U=an.currentUser.uid;await JG(U),await an.currentUser.delete()}catch(U){console.error(U),h({type:"error",text:"Please re-login to perform this sensitive action. "+(U.message||"")}),_(!1)}finally{m(!1)}}};return S.jsxs("div",{className:"max-w-2xl mx-auto space-y-8 pb-20",children:[S.jsx("h1",{className:"text-3xl font-bold text-stone-800",children:"Account Settings"}),u.text&&S.jsx("div",{className:`p-4 rounded-2xl ${u.type==="error"?"bg-red-50 text-red-600":"bg-green-50 text-green-600"}`,children:u.text}),S.jsxs("section",{className:"bg-white p-8 rounded-3xl shadow-sm border border-stone-100",children:[S.jsx("h2",{className:"text-xl font-bold mb-6",children:"Profile"}),S.jsxs("div",{className:"space-y-4",children:[S.jsx(mi,{label:"Display Name",value:t,onChange:U=>i(U.target.value)}),S.jsx(mi,{label:"Email",value:(n==null?void 0:n.email)||"",disabled:!0,className:"bg-stone-50 text-stone-400"}),S.jsx("div",{className:"pt-2",children:S.jsx(jt,{onClick:C,isLoading:d,children:"Save Changes"})})]})]}),S.jsxs("section",{className:"bg-white p-8 rounded-3xl shadow-sm border border-stone-100",children:[S.jsx("h2",{className:"text-xl font-bold mb-6",children:"Security"}),S.jsxs("div",{className:"space-y-4",children:[S.jsx(mi,{label:"New Password",type:"password",placeholder:"Min 6 characters",value:s,onChange:U=>o(U.target.value)}),S.jsx("div",{className:"pt-2",children:S.jsx(jt,{variant:"secondary",onClick:P,disabled:!s,isLoading:d,children:"Update Password"})})]})]}),S.jsxs("section",{className:"bg-red-50 p-8 rounded-3xl border border-red-100",children:[S.jsx("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Danger Zone"}),S.jsx("p",{className:"text-red-600 mb-6",children:"Permanently delete your account and all your data. This action cannot be undone."}),S.jsx(jt,{variant:"danger",onClick:()=>_(!0),children:"Delete Account"})]}),S.jsx(sl,{isOpen:y,onClose:()=>_(!1),title:"Delete Account",children:S.jsxs("div",{className:"space-y-4",children:[S.jsx("div",{className:"bg-red-50 p-4 rounded-xl text-red-800 text-sm",children:"Warning: This will permanently erase all your items, collections, and account information immediately."}),S.jsxs("p",{className:"text-stone-600",children:["Type ",S.jsx("strong",{children:"DELETE"})," to confirm."]}),S.jsx(mi,{placeholder:"DELETE",value:T,onChange:U=>b(U.target.value)}),S.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[S.jsx(jt,{variant:"ghost",onClick:()=>_(!1),children:"Cancel"}),S.jsx(jt,{variant:"danger",onClick:V,disabled:T!=="DELETE",isLoading:d,children:"Confirm Deletion"})]})]})})]})},sK=({children:n})=>{const[e,t]=N.useState(!1);return N.useEffect(()=>{const i=o=>{console.error("App Error:",o),t(!0)},s=o=>{console.error("Unhandled Promise Rejection:",o.reason),t(!0)};return window.addEventListener("error",i),window.addEventListener("unhandledrejection",s),()=>{window.removeEventListener("error",i),window.removeEventListener("unhandledrejection",s)}},[]),e?S.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-cream gap-4",children:[S.jsx("div",{className:"w-16 h-16 bg-red-200 rounded-2xl flex items-center justify-center text-3xl shadow-sm",children:""}),S.jsxs("div",{className:"text-center",children:[S.jsx("h2",{className:"text-xl font-bold text-stone-800 mb-2",children:"Something went wrong"}),S.jsx("p",{className:"text-stone-600 mb-4",children:"Please refresh the page to try again."}),S.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary-200 text-primary-900 rounded-xl hover:bg-primary-300 transition-colors",children:"Refresh Page"})]})]}):S.jsx(S.Fragment,{children:n})},QV=N.createContext({user:null,userProfile:null,snippets:[],folders:[],loading:!0}),Xg=()=>N.useContext(QV),aK=()=>{const[n,e]=N.useState(null),[t,i]=N.useState(null),[s,o]=N.useState([]),[u,h]=N.useState([]),[d,m]=N.useState(!0);return N.useEffect(()=>{const y=an.onAuthStateChanged(_=>{e(_),_||(o([]),h([]),i(null),m(!1))});return()=>y()},[]),N.useEffect(()=>{if(!n)return;i({uid:n.uid,email:n.email,displayName:n.displayName,createdAt:Date.now()});const y=ti.collection("snippets").where("userId","==",n.uid).onSnapshot(T=>{const b=T.docs.map(C=>({id:C.id,...C.data()}));b.sort((C,P)=>P.updatedAt-C.updatedAt),o(b)},T=>{console.error("Error fetching snippets:",T)}),_=ti.collection("folders").where("userId","==",n.uid).onSnapshot(T=>{const b=T.docs.map(C=>({id:C.id,...C.data()}));b.sort((C,P)=>P.createdAt-C.createdAt),h(b),m(!1)},T=>{console.error("Error fetching folders:",T),m(!1)});return()=>{y(),_()}},[n]),d?S.jsxs("div",{className:"h-screen w-full flex flex-col items-center justify-center bg-cream gap-4",children:[S.jsx(Yn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"w-16 h-16 bg-primary-200 rounded-2xl flex items-center justify-center text-3xl shadow-sm",children:S.jsx(Yn.span,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:""})}),S.jsxs(Yn.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"flex items-center gap-2 text-stone-500",children:[S.jsx(GE,{className:"animate-spin",size:16}),S.jsx("span",{className:"text-sm font-medium",children:"Loading Threadlines..."})]})]}):S.jsx(sK,{children:S.jsx(QV.Provider,{value:{user:n,userProfile:t,snippets:s,folders:u,loading:d},children:S.jsx(Xk,{children:S.jsxs(uI,{children:[S.jsx(fa,{path:"/auth",element:n?S.jsx(lI,{to:"/"}):S.jsx(nK,{})}),S.jsx(fa,{path:"/*",element:n?S.jsx(eK,{children:S.jsxs(uI,{children:[S.jsx(fa,{path:"/",element:S.jsx(jv,{filter:"all"})}),S.jsx(fa,{path:"/favorites",element:S.jsx(jv,{filter:"favorites"})}),S.jsx(fa,{path:"/folder/:folderId",element:S.jsx(jv,{filter:"folder"})}),S.jsx(fa,{path:"/snippet/:snippetId",element:S.jsx(iK,{})}),S.jsx(fa,{path:"/account",element:S.jsx(rK,{})})]})}):S.jsx(lI,{to:"/auth"})})]})})})})},WV=document.getElementById("root");if(!WV)throw new Error("Could not find root element to mount to");const oK=LO.createRoot(WV);oK.render(S.jsx(CO.StrictMode,{children:S.jsx(aK,{})}));
